webpackJsonp([2,0],[,function(t,e,r){var n,i;/*!
	 * jQuery JavaScript Library v3.2.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2017-03-20T18:59Z
	 */
!function(e,r){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?r(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(e)}("undefined"!=typeof window?window:this,function(r,o){"use strict";function a(t,e){e=e||at;var r=e.createElement("script");r.text=t,e.head.appendChild(r).parentNode.removeChild(r)}function s(t){var e=!!t&&"length"in t&&t.length,r=xt.type(t);return"function"!==r&&!xt.isWindow(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function l(t,e,r){return xt.isFunction(e)?xt.grep(t,function(t,n){return!!e.call(t,n,t)!==r}):e.nodeType?xt.grep(t,function(t){return t===e!==r}):"string"!=typeof e?xt.grep(t,function(t){return ht.call(e,t)>-1!==r}):Lt.test(e)?xt.filter(e,t,r):(e=xt.filter(e,t),xt.grep(t,function(t){return ht.call(e,t)>-1!==r&&1===t.nodeType}))}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){var e={};return xt.each(t.match(Ot)||[],function(t,r){e[r]=!0}),e}function f(t){return t}function p(t){throw t}function d(t,e,r,n){var i;try{t&&xt.isFunction(i=t.promise)?i.call(t).done(e).fail(r):t&&xt.isFunction(i=t.then)?i.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(t){r.apply(void 0,[t])}}function m(){at.removeEventListener("DOMContentLoaded",m),r.removeEventListener("load",m),xt.ready()}function v(){this.expando=xt.expando+v.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Ht.test(t)?JSON.parse(t):t)}function y(t,e,r){var n;if(void 0===r&&1===t.nodeType)if(n="data-"+e.replace(jt,"-$&").toLowerCase(),r=t.getAttribute(n),"string"==typeof r){try{r=g(r)}catch(t){}It.set(t,e,r)}else r=void 0;return r}function x(t,e,r,n){var i,o=1,a=20,s=n?function(){return n.cur()}:function(){return xt.css(t,e,"")},c=s(),l=r&&r[3]||(xt.cssNumber[e]?"":"px"),u=(xt.cssNumber[e]||"px"!==l&&+c)&&Wt.exec(xt.css(t,e));if(u&&u[3]!==l){l=l||u[3],r=r||[],u=+c||1;do o=o||".5",u/=o,xt.style(t,e,u+l);while(o!==(o=s()/c)&&1!==o&&--a)}return r&&(u=+u||+c||0,i=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=u,n.end=i)),i}function b(t){var e,r=t.ownerDocument,n=t.nodeName,i=Yt[n];return i?i:(e=r.body.appendChild(r.createElement(n)),i=xt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Yt[n]=i,i)}function _(t,e){for(var r,n,i=[],o=0,a=t.length;o<a;o++)n=t[o],n.style&&(r=n.style.display,e?("none"===r&&(i[o]=Vt.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&$t(n)&&(i[o]=b(n))):"none"!==r&&(i[o]="none",Vt.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function w(t,e){var r;return r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&c(t,e)?xt.merge([t],r):r}function M(t,e){for(var r=0,n=t.length;r<n;r++)Vt.set(t[r],"globalEval",!e||Vt.get(e[r],"globalEval"))}function S(t,e,r,n,i){for(var o,a,s,c,l,u,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if(o=t[p],o||0===o)if("object"===xt.type(o))xt.merge(f,o.nodeType?[o]:o);else if(te.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Qt.exec(o)||["",""])[1].toLowerCase(),c=Jt[s]||Jt._default,a.innerHTML=c[1]+xt.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;xt.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(n&&xt.inArray(o,n)>-1)i&&i.push(o);else if(l=xt.contains(o.ownerDocument,o),a=w(h.appendChild(o),"script"),l&&M(a),r)for(u=0;o=a[u++];)Zt.test(o.type||"")&&r.push(o);return h}function T(){return!0}function C(){return!1}function A(){try{return at.activeElement}catch(t){}}function E(t,e,r,n,i,o){var a,s;if("object"==typeof e){"string"!=typeof r&&(n=n||r,r=void 0);for(s in e)E(t,s,r,n,e[s],o);return t}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),i===!1)i=C;else if(!i)return t;return 1===o&&(a=i,i=function(t){return xt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=xt.guid++)),t.each(function(){xt.event.add(this,e,i,n,r)})}function L(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")?xt(">tbody",t)[0]||t:t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){var e=ce.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function R(t,e){var r,n,i,o,a,s,c,l;if(1===e.nodeType){if(Vt.hasData(t)&&(o=Vt.access(t),a=Vt.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(r=0,n=l[i].length;r<n;r++)xt.event.add(e,i,l[i][r])}It.hasData(t)&&(s=It.access(t),c=xt.extend({},s),It.set(e,c))}}function D(t,e){var r=e.nodeName.toLowerCase();"input"===r&&Kt.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function F(t,e,r,n){e=lt.apply([],e);var i,o,s,c,l,u,h=0,f=t.length,p=f-1,d=e[0],m=xt.isFunction(d);if(m||f>1&&"string"==typeof d&&!gt.checkClone&&se.test(d))return t.each(function(i){var o=t.eq(i);m&&(e[0]=d.call(this,i,o.html())),F(o,e,r,n)});if(f&&(i=S(e,t[0].ownerDocument,!1,t,n),o=i.firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=xt.map(w(i,"script"),P),c=s.length;h<f;h++)l=i,h!==p&&(l=xt.clone(l,!0,!0),c&&xt.merge(s,w(l,"script"))),r.call(t[h],l,h);if(c)for(u=s[s.length-1].ownerDocument,xt.map(s,k),h=0;h<c;h++)l=s[h],Zt.test(l.type||"")&&!Vt.access(l,"globalEval")&&xt.contains(u,l)&&(l.src?xt._evalUrl&&xt._evalUrl(l.src):a(l.textContent.replace(le,""),u))}return t}function O(t,e,r){for(var n,i=e?xt.filter(e,t):t,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||xt.cleanData(w(n)),n.parentNode&&(r&&xt.contains(n.ownerDocument,n)&&M(w(n,"script")),n.parentNode.removeChild(n));return t}function N(t,e,r){var n,i,o,a,s=t.style;return r=r||fe(t),r&&(a=r.getPropertyValue(e)||r[e],""!==a||xt.contains(t.ownerDocument,t)||(a=xt.style(t,e)),!gt.pixelMarginRight()&&he.test(a)&&ue.test(e)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function U(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function B(t){if(t in ye)return t;for(var e=t[0].toUpperCase()+t.slice(1),r=ge.length;r--;)if(t=ge[r]+e,t in ye)return t}function z(t){var e=xt.cssProps[t];return e||(e=xt.cssProps[t]=B(t)||t),e}function V(t,e,r){var n=Wt.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function I(t,e,r,n,i){var o,a=0;for(o=r===(n?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===r&&(a+=xt.css(t,r+Xt[o],!0,i)),n?("content"===r&&(a-=xt.css(t,"padding"+Xt[o],!0,i)),"margin"!==r&&(a-=xt.css(t,"border"+Xt[o]+"Width",!0,i))):(a+=xt.css(t,"padding"+Xt[o],!0,i),"padding"!==r&&(a+=xt.css(t,"border"+Xt[o]+"Width",!0,i)));return a}function H(t,e,r){var n,i=fe(t),o=N(t,e,i),a="border-box"===xt.css(t,"boxSizing",!1,i);return he.test(o)?o:(n=a&&(gt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),o=parseFloat(o)||0,o+I(t,e,r||(a?"border":"content"),n,i)+"px")}function j(t,e,r,n,i){return new j.prototype.init(t,e,r,n,i)}function G(){be&&(at.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(G):r.setTimeout(G,xt.fx.interval),xt.fx.tick())}function W(){return r.setTimeout(function(){xe=void 0}),xe=xt.now()}function X(t,e){var r,n=0,i={height:t};for(e=e?1:0;n<4;n+=2-e)r=Xt[n],i["margin"+r]=i["padding"+r]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,r){for(var n,i=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,e,t))return n}function q(t,e,r){var n,i,o,a,s,c,l,u,h="width"in e||"height"in e,f=this,p={},d=t.style,m=t.nodeType&&$t(t),v=Vt.get(t,"fxshow");r.queue||(a=xt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,xt.queue(t,"fx").length||a.empty.fire()})}));for(n in e)if(i=e[n],_e.test(i)){if(delete e[n],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[n])continue;m=!0}p[n]=v&&v[n]||xt.style(t,n)}if(c=!xt.isEmptyObject(e),c||!xt.isEmptyObject(p)){h&&1===t.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=v&&v.display,null==l&&(l=Vt.get(t,"display")),u=xt.css(t,"display"),"none"===u&&(l?u=l:(_([t],!0),l=t.style.display||l,u=xt.css(t,"display"),_([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===xt.css(t,"float")&&(c||(f.done(function(){d.display=l}),null==l&&(u=d.display,l="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),c=!1;for(n in p)c||(v?"hidden"in v&&(m=v.hidden):v=Vt.access(t,"fxshow",{display:l}),o&&(v.hidden=!m),m&&_([t],!0),f.done(function(){m||_([t]),Vt.remove(t,"fxshow");for(n in p)xt.style(t,n,p[n])})),c=$(m?v[n]:0,n,f),n in v||(v[n]=c.start,m&&(c.end=c.start,c.start=0))}}function Y(t,e){var r,n,i,o,a;for(r in t)if(n=xt.camelCase(r),i=e[n],o=t[r],Array.isArray(o)&&(i=o[1],o=t[r]=o[0]),r!==n&&(t[n]=o,delete t[r]),a=xt.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete t[n];for(r in o)r in t||(t[r]=o[r],e[r]=i)}else e[n]=i}function K(t,e,r){var n,i,o=0,a=K.prefilters.length,s=xt.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var e=xe||W(),r=Math.max(0,l.startTime+l.duration-e),n=r/l.duration||0,o=1-n,a=0,c=l.tweens.length;a<c;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,r]),o<1&&c?r:(c||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:xt.extend({},e),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},r),originalProperties:e,originalOptions:r,startTime:xe||W(),duration:r.duration,tweens:[],createTween:function(e,r){var n=xt.Tween(t,l.opts,e,r,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var r=0,n=e?l.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)l.tweens[r].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for(Y(u,l.opts.specialEasing);o<a;o++)if(n=K.prefilters[o].call(l,t,u,l.opts))return xt.isFunction(n.stop)&&(xt._queueHooks(l.elem,l.opts.queue).stop=xt.proxy(n.stop,n)),n;return xt.map(u,$,l),xt.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),xt.fx.timer(xt.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}function Q(t){var e=t.match(Ot)||[];return e.join(" ")}function Z(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t,e,r,n){var i;if(Array.isArray(e))xt.each(e,function(e,i){r||Re.test(t)?n(t,i):J(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,r,n)});else if(r||"object"!==xt.type(e))n(t,e);else for(i in e)J(t+"["+i+"]",e[i],r,n)}function tt(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,i=0,o=e.toLowerCase().match(Ot)||[];if(xt.isFunction(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function et(t,e,r,n){function i(s){var c;return o[s]=!0,xt.each(t[s]||[],function(t,s){var l=s(e,r,n);return"string"!=typeof l||a||o[l]?a?!(c=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),c}var o={},a=t===Ge;return i(e.dataTypes[0])||!o["*"]&&i("*")}function rt(t,e){var r,n,i=xt.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((i[r]?t:n||(n={}))[r]=e[r]);return n&&xt.extend(!0,t,n),t}function nt(t,e,r){for(var n,i,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){c.unshift(i);break}if(c[0]in r)o=c[0];else{for(i in r){if(!c[0]||t.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),r[o]}function it(t,e,r,n){var i,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!c&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(a=l[c+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}var ot=[],at=r.document,st=Object.getPrototypeOf,ct=ot.slice,lt=ot.concat,ut=ot.push,ht=ot.indexOf,ft={},pt=ft.toString,dt=ft.hasOwnProperty,mt=dt.toString,vt=mt.call(Object),gt={},yt="3.2.1",xt=function(t,e){return new xt.fn.init(t,e)},bt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_t=/^-ms-/,wt=/-([a-z])/g,Mt=function(t,e){return e.toUpperCase()};xt.fn=xt.prototype={jquery:yt,constructor:xt,length:0,toArray:function(){return ct.call(this)},get:function(t){return null==t?ct.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=xt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return xt.each(this,t)},map:function(t){return this.pushStack(xt.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(ct.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:ot.sort,splice:ot.splice},xt.extend=xt.fn.extend=function(){var t,e,r,n,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||xt.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)r=a[e],n=t[e],a!==n&&(l&&n&&(xt.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,o=r&&Array.isArray(r)?r:[]):o=r&&xt.isPlainObject(r)?r:{},a[e]=xt.extend(l,o,n)):void 0!==n&&(a[e]=n));return a},xt.extend({expando:"jQuery"+(yt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===xt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=xt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==pt.call(t))&&(!(e=st(t))||(r=dt.call(e,"constructor")&&e.constructor,"function"==typeof r&&mt.call(r)===vt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t},globalEval:function(t){a(t)},camelCase:function(t){return t.replace(_t,"ms-").replace(wt,Mt)},each:function(t,e){var r,n=0;if(s(t))for(r=t.length;n<r&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(bt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(s(Object(t))?xt.merge(r,"string"==typeof t?[t]:t):ut.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:ht.call(e,t,r)},merge:function(t,e){for(var r=+e.length,n=0,i=t.length;n<r;n++)t[i++]=e[n];return t.length=i,t},grep:function(t,e,r){for(var n,i=[],o=0,a=t.length,s=!r;o<a;o++)n=!e(t[o],o),n!==s&&i.push(t[o]);return i},map:function(t,e,r){var n,i,o=0,a=[];if(s(t))for(n=t.length;o<n;o++)i=e(t[o],o,r),null!=i&&a.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&a.push(i);return lt.apply([],a)},guid:1,proxy:function(t,e){var r,n,i;if("string"==typeof e&&(r=t[e],e=t,t=r),xt.isFunction(t))return n=ct.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ct.call(arguments)))},i.guid=t.guid=t.guid||xt.guid++,i},now:Date.now,support:gt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=ot[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var St=/*!
	 * Sizzle CSS Selector Engine v2.3.3
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-08-08
	 */
function(t){function e(t,e,r,n){var i,o,a,s,c,l,u,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return r;if(!n&&((e?e.ownerDocument||e:I)!==D&&R(e),e=e||D,O)){if(11!==d&&(c=gt.exec(t)))if(i=c[1]){if(9===d){if(!(a=e.getElementById(i)))return r;if(a.id===i)return r.push(a),r}else if(f&&(a=f.getElementById(i))&&z(e,a)&&a.id===i)return r.push(a),r}else{if(c[2])return Z.apply(r,e.getElementsByTagName(t)),r;if((i=c[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(r,e.getElementsByClassName(i)),r}if(w.qsa&&!X[t+" "]&&(!N||!N.test(t))){if(1!==d)f=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,wt):e.setAttribute("id",s=V),l=C(t),o=l.length;o--;)l[o]="#"+s+" "+p(l[o]);u=l.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(u)try{return Z.apply(r,f.querySelectorAll(u)),r}catch(t){}finally{s===V&&e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,r,n)}function r(){function t(r,n){return e.push(r+" ")>M.cacheLength&&delete t[e.shift()],t[r+" "]=n}var e=[];return t}function n(t){return t[V]=!0,t}function i(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var r=t.split("|"),n=r.length;n--;)M.attrHandle[r[n]]=e}function a(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function s(t){return function(e){var r=e.nodeName.toLowerCase();return"input"===r&&e.type===t}}function c(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function l(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&St(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return n(function(e){return e=+e,n(function(r,n){for(var i,o=t([],r.length,e),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function p(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function d(t,e,r){var n=e.dir,i=e.next,o=i||n,a=r&&"parentNode"===o,s=j++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||a)return t(e,r,i);return!1}:function(e,r,c){var l,u,h,f=[H,s];if(c){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,r,c))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(h=e[V]||(e[V]={}),u=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[n]||e;else{if((l=u[o])&&l[0]===H&&l[1]===s)return f[2]=l[2];if(u[o]=f,f[2]=t(e,r,c))return!0}return!1}}function m(t){return t.length>1?function(e,r,n){for(var i=t.length;i--;)if(!t[i](e,r,n))return!1;return!0}:t[0]}function v(t,r,n){for(var i=0,o=r.length;i<o;i++)e(t,r[i],n);return n}function g(t,e,r,n,i){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(r&&!r(o,n,i)||(a.push(o),l&&e.push(s)));return a}function y(t,e,r,i,o,a){return i&&!i[V]&&(i=y(i)),o&&!o[V]&&(o=y(o,a)),n(function(n,a,s,c){var l,u,h,f=[],p=[],d=a.length,m=n||v(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?m:g(m,f,t,s,c),x=r?o||(n?t:d||i)?[]:a:y;if(r&&r(y,x,s,c),i)for(l=g(x,p),i(l,[],s,c),u=l.length;u--;)(h=l[u])&&(x[p[u]]=!(y[p[u]]=h));if(n){if(o||t){if(o){for(l=[],u=x.length;u--;)(h=x[u])&&l.push(y[u]=h);o(null,x=[],l,c)}for(u=x.length;u--;)(h=x[u])&&(l=o?tt(n,h):f[u])>-1&&(n[l]=!(a[l]=h))}}else x=g(x===a?x.splice(d,x.length):x),o?o(null,a,x,c):Z.apply(a,x)})}function x(t){for(var e,r,n,i=t.length,o=M.relative[t[0].type],a=o||M.relative[" "],s=o?1:0,c=d(function(t){return t===e},a,!0),l=d(function(t){return tt(e,t)>-1},a,!0),u=[function(t,r,n){var i=!o&&(n||r!==L)||((e=r).nodeType?c(t,r,n):l(t,r,n));return e=null,i}];s<i;s++)if(r=M.relative[t[s].type])u=[d(m(u),r)];else{if(r=M.filter[t[s].type].apply(null,t[s].matches),r[V]){for(n=++s;n<i&&!M.relative[t[n].type];n++);return y(s>1&&m(u),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),r,s<n&&x(t.slice(s,n)),n<i&&x(t=t.slice(n)),n<i&&p(t))}u.push(r)}return m(u)}function b(t,r){var i=r.length>0,o=t.length>0,a=function(n,a,s,c,l){var u,h,f,p=0,d="0",m=n&&[],v=[],y=L,x=n||o&&M.find.TAG("*",l),b=H+=null==y?1:Math.random()||.1,_=x.length;for(l&&(L=a===D||a||l);d!==_&&null!=(u=x[d]);d++){if(o&&u){for(h=0,a||u.ownerDocument===D||(R(u),s=!O);f=t[h++];)if(f(u,a||D,s)){c.push(u);break}l&&(H=b)}i&&((u=!f&&u)&&p--,n&&m.push(u))}if(p+=d,i&&d!==p){for(h=0;f=r[h++];)f(m,v,a,s);if(n){if(p>0)for(;d--;)m[d]||v[d]||(v[d]=K.call(c));v=g(v)}Z.apply(c,v),l&&!n&&v.length>0&&p+r.length>1&&e.uniqueSort(c)}return l&&(H=b,L=y),m};return i?n(a):a}var _,w,M,S,T,C,A,E,L,P,k,R,D,F,O,N,U,B,z,V="sizzle"+1*new Date,I=t.document,H=0,j=0,G=r(),W=r(),X=r(),$=function(t,e){return t===e&&(k=!0),0},q={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,Z=Y.push,J=Y.slice,tt=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+rt+"*("+nt+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+rt+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",at=new RegExp(rt+"+","g"),st=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ct=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ut=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+nt+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,xt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),bt=function(t,e,r){var n="0x"+e-65536;return n!==n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Mt=function(){R()},St=d(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(Y=J.call(I.childNodes),I.childNodes),Y[I.childNodes.length].nodeType}catch(t){Z={apply:Y.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}w=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,r,n=t?t.ownerDocument||t:I;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,F=D.documentElement,O=!T(D),I!==D&&(r=D.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Mt,!1):r.attachEvent&&r.attachEvent("onunload",Mt)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(D.getElementsByClassName),w.getById=i(function(t){return F.appendChild(t).id=V,!D.getElementsByName||!D.getElementsByName(V).length}),w.getById?(M.filter.ID=function(t){var e=t.replace(xt,bt);return function(t){return t.getAttribute("id")===e}},M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var r=e.getElementById(t);return r?[r]:[]}}):(M.filter.ID=function(t){var e=t.replace(xt,bt);return function(t){var r="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var r,n,i,o=e.getElementById(t);if(o){if(r=o.getAttributeNode("id"),r&&r.value===t)return[o];for(i=e.getElementsByName(t),n=0;o=i[n++];)if(r=o.getAttributeNode("id"),r&&r.value===t)return[o]}return[]}}),M.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,n=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},M.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&O)return e.getElementsByClassName(t)},U=[],N=[],(w.qsa=vt.test(D.querySelectorAll))&&(i(function(t){F.appendChild(t).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+rt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+rt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+V+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+V+"+*").length||N.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+rt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),F.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(w.matchesSelector=vt.test(B=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&i(function(t){w.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),U.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),U=U.length&&new RegExp(U.join("|")),e=vt.test(F.compareDocumentPosition),z=e||vt.test(F.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return k=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!w.sortDetached&&e.compareDocumentPosition(t)===r?t===D||t.ownerDocument===I&&z(I,t)?-1:e===D||e.ownerDocument===I&&z(I,e)?1:P?tt(P,t)-tt(P,e):0:4&r?-1:1)}:function(t,e){if(t===e)return k=!0,0;var r,n=0,i=t.parentNode,o=e.parentNode,s=[t],c=[e];if(!i||!o)return t===D?-1:e===D?1:i?-1:o?1:P?tt(P,t)-tt(P,e):0;if(i===o)return a(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;s[n]===c[n];)n++;return n?a(s[n],c[n]):s[n]===I?-1:c[n]===I?1:0},D):D},e.matches=function(t,r){return e(t,null,null,r)},e.matchesSelector=function(t,r){if((t.ownerDocument||t)!==D&&R(t),r=r.replace(ut,"='$1']"),w.matchesSelector&&O&&!X[r+" "]&&(!U||!U.test(r))&&(!N||!N.test(r)))try{var n=B.call(t,r);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(r,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&R(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&R(t);var r=M.attrHandle[e.toLowerCase()],n=r&&q.call(M.attrHandle,e.toLowerCase())?r(t,e,!O):void 0;return void 0!==n?n:w.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(_t,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,r=[],n=0,i=0;if(k=!w.detectDuplicates,P=!w.sortStable&&t.slice(0),t.sort($),k){for(;e=t[i++];)e===t[i]&&(n=r.push(i));for(;n--;)t.splice(r[n],1)}return P=null,t},S=e.getText=function(t){var e,r="",n=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[n++];)r+=S(e);return r},M=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&ht.test(r)&&(e=C(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+rt+")"+t+"("+rt+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,r,n){return function(i){var o=e.attr(i,t);return null==o?"!="===r:!r||(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===r&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,r,n,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===i?function(t){return!!t.parentNode}:function(e,r,c){var l,u,h,f,p,d,m=o!==a?"nextSibling":"previousSibling",v=e.parentNode,g=s&&e.nodeName.toLowerCase(),y=!c&&!s,x=!1;if(v){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(f=v,h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),l=u[t]||[],p=l[0]===H&&l[1],x=p&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===e){u[t]=[H,p,x];break}}else if(y&&(f=e,h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),l=u[t]||[],p=l[0]===H&&l[1],x=p),x===!1)for(;(f=++p&&f&&f[m]||(x=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++x||(y&&(h=f[V]||(f[V]={}),u=h[f.uniqueID]||(h[f.uniqueID]={}),u[t]=[H,x]),f!==e)););return x-=i,x===n||x%n===0&&x/n>=0}}},PSEUDO:function(t,r){var i,o=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[V]?o(r):o.length>1?(i=[t,t,"",r],M.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,i=o(t,r),a=i.length;a--;)n=tt(t,i[a]),t[n]=!(e[n]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:n(function(t){var e=[],r=[],i=A(t.replace(st,"$1"));return i[V]?n(function(t,e,r,n){for(var o,a=i(t,null,n,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,n,o){return e[0]=t,i(e,null,o,r),e[0]=null,!r.pop()}}),has:n(function(t){return function(r){return e(t,r).length>0}}),contains:n(function(t){return t=t.replace(xt,bt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,bt).toLowerCase(),function(e){var r;do if(r=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return r=r.toLowerCase(),r===t||0===r.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===F},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,r){return[r<0?r+e:r]}),even:u(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:u(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:u(function(t,e,r){for(var n=r<0?r+e:r;--n>=0;)t.push(n);return t}),gt:u(function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t})}},M.pseudos.nth=M.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})M.pseudos[_]=c(_);return f.prototype=M.filters=M.pseudos,M.setFilters=new f,C=e.tokenize=function(t,r){var n,i,o,a,s,c,l,u=W[t+" "];if(u)return r?0:u.slice(0);for(s=t,c=[],l=M.preFilter;s;){n&&!(i=ct.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=lt.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(st," ")}),s=s.slice(n.length));for(a in M.filter)!(i=pt[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return r?s.length:s?e.error(t):W(t,c).slice(0)},A=e.compile=function(t,e){var r,n=[],i=[],o=X[t+" "];if(!o){for(e||(e=C(t)),r=e.length;r--;)o=x(e[r]),o[V]?n.push(o):i.push(o);o=X(t,b(i,n)),o.selector=t}return o},E=e.select=function(t,e,r,n){var i,o,a,s,c,l="function"==typeof t&&t,u=!n&&C(t=l.selector||t);if(r=r||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&O&&M.relative[o[1].type]){if(e=(M.find.ID(a.matches[0].replace(xt,bt),e)||[])[0],!e)return r;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!M.relative[s=a.type]);)if((c=M.find[s])&&(n=c(a.matches[0].replace(xt,bt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(i,1),t=n.length&&p(o),!t)return Z.apply(r,n),r;break}}return(l||A(t,u))(n,e,!O,r,!e||yt.test(t)&&h(e.parentNode)||e),r},w.sortStable=V.split("").sort($).join("")===V,w.detectDuplicates=!!k,R(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,r){var n;if(!r)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(r);xt.find=St,xt.expr=St.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=St.uniqueSort,xt.text=St.getText,xt.isXMLDoc=St.isXML,xt.contains=St.contains,xt.escapeSelector=St.escape;var Tt=function(t,e,r){for(var n=[],i=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&xt(t).is(r))break;n.push(t)}return n},Ct=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},At=xt.expr.match.needsContext,Et=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Lt=/^.[^:#\[\.,]*$/;xt.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?xt.find.matchesSelector(n,t)?[n]:[]:xt.find.matches(t,xt.grep(e,function(t){return 1===t.nodeType}))},xt.fn.extend({find:function(t){var e,r,n=this.length,i=this;if("string"!=typeof t)return this.pushStack(xt(t).filter(function(){for(e=0;e<n;e++)if(xt.contains(i[e],this))return!0}));for(r=this.pushStack([]),e=0;e<n;e++)xt.find(t,i[e],r);return n>1?xt.uniqueSort(r):r},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&At.test(t)?xt(t):t||[],!1).length}});var Pt,kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Rt=xt.fn.init=function(t,e,r){var n,i;if(!t)return this;if(r=r||Pt,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:kt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof xt?e[0]:e,xt.merge(this,xt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),Et.test(n[1])&&xt.isPlainObject(e))for(n in e)xt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=at.getElementById(n[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):xt.isFunction(t)?void 0!==r.ready?r.ready(t):t(xt):xt.makeArray(t,this)};Rt.prototype=xt.fn,Pt=xt(at);var Dt=/^(?:parents|prev(?:Until|All))/,Ft={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(t){var e=xt(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(xt.contains(this,e[t]))return!0})},closest:function(t,e){var r,n=0,i=this.length,o=[],a="string"!=typeof t&&xt(t);if(!At.test(t))for(;n<i;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&xt.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(o.length>1?xt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(xt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),xt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,r){return Tt(t,"parentNode",r)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,r){return Tt(t,"nextSibling",r)},prevUntil:function(t,e,r){return Tt(t,"previousSibling",r)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return c(t,"iframe")?t.contentDocument:(c(t,"template")&&(t=t.content||t),xt.merge([],t.childNodes))}},function(t,e){xt.fn[t]=function(r,n){var i=xt.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=xt.filter(n,i)),this.length>1&&(Ft[t]||xt.uniqueSort(i),Dt.test(t)&&i.reverse()),this.pushStack(i)}});var Ot=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(t){t="string"==typeof t?h(t):xt.extend({},t);var e,r,n,i,o=[],a=[],s=-1,c=function(){for(i=i||t.once,n=e=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)o[s].apply(r[0],r[1])===!1&&t.stopOnFalse&&(s=o.length,r=!1);t.memory||(r=!1),e=!1,i&&(o=r?[]:"")},l={add:function(){return o&&(r&&!e&&(s=o.length-1,a.push(r)),function e(r){xt.each(r,function(r,n){xt.isFunction(n)?t.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==xt.type(n)&&e(n)})}(arguments),r&&!e&&c()),this},remove:function(){return xt.each(arguments,function(t,e){for(var r;(r=xt.inArray(e,o,r))>-1;)o.splice(r,1),r<=s&&s--}),this},has:function(t){return t?xt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||e||(o=r=""),this},locked:function(){return!!i},fireWith:function(t,r){return i||(r=r||[],r=[t,r.slice?r.slice():r],a.push(r),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},xt.extend({Deferred:function(t){var e=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return xt.Deferred(function(r){xt.each(e,function(e,n){var i=xt.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=i&&i.apply(this,arguments);t&&xt.isFunction(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,n,i){function o(t,e,n,i){return function(){var s=this,c=arguments,l=function(){var r,l;if(!(t<a)){if(r=n.apply(s,c),r===e.promise())throw new TypeError("Thenable self-resolution");l=r&&("object"==typeof r||"function"==typeof r)&&r.then,xt.isFunction(l)?i?l.call(r,o(a,e,f,i),o(a,e,p,i)):(a++,l.call(r,o(a,e,f,i),o(a,e,p,i),o(a,e,f,e.notifyWith))):(n!==f&&(s=void 0,c=[r]),(i||e.resolveWith)(s,c))}},u=i?l:function(){try{l()}catch(r){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(r,u.stackTrace),t+1>=a&&(n!==p&&(s=void 0,c=[r]),e.rejectWith(s,c))}};t?u():(xt.Deferred.getStackHook&&(u.stackTrace=xt.Deferred.getStackHook()),r.setTimeout(u))}}var a=0;return xt.Deferred(function(r){e[0][3].add(o(0,r,xt.isFunction(i)?i:f,r.notifyWith)),e[1][3].add(o(0,r,xt.isFunction(t)?t:f)),e[2][3].add(o(0,r,xt.isFunction(n)?n:p))}).promise()},promise:function(t){return null!=t?xt.extend(t,i):i}},o={};return xt.each(e,function(t,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add(function(){n=s},e[3-t][2].disable,e[0][2].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,r=e,n=Array(r),i=ct.call(arguments),o=xt.Deferred(),a=function(t){return function(r){n[t]=this,i[t]=arguments.length>1?ct.call(arguments):r,--e||o.resolveWith(n,i)}};if(e<=1&&(d(t,o.done(a(r)).resolve,o.reject,!e),"pending"===o.state()||xt.isFunction(i[r]&&i[r].then)))return o.then();for(;r--;)d(i[r],a(r),o.reject);return o.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&Nt.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},xt.readyException=function(t){r.setTimeout(function(){throw t})};var Ut=xt.Deferred();xt.fn.ready=function(t){return Ut.then(t).catch(function(t){xt.readyException(t)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--xt.readyWait:xt.isReady)||(xt.isReady=!0,t!==!0&&--xt.readyWait>0||Ut.resolveWith(at,[xt]))}}),xt.ready.then=Ut.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?r.setTimeout(xt.ready):(at.addEventListener("DOMContentLoaded",m),r.addEventListener("load",m));var Bt=function(t,e,r,n,i,o,a){var s=0,c=t.length,l=null==r;if("object"===xt.type(r)){i=!0;for(s in r)Bt(t,e,s,r[s],!0,o,a)}else if(void 0!==n&&(i=!0,xt.isFunction(n)||(a=!0),l&&(a?(e.call(t,n),e=null):(l=e,e=function(t,e,r){return l.call(xt(t),r)})),e))for(;s<c;s++)e(t[s],r,a?n:n.call(t[s],s,e(t[s],r)));return i?t:l?e.call(t):c?e(t[0],r):o},zt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};v.uid=1,v.prototype={cache:function(t){var e=t[this.expando];return e||(e={},zt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,i=this.cache(t);if("string"==typeof e)i[xt.camelCase(e)]=r;else for(n in e)i[xt.camelCase(n)]=e[n];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][xt.camelCase(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,n=t[this.expando];if(void 0!==n){if(void 0!==e){Array.isArray(e)?e=e.map(xt.camelCase):(e=xt.camelCase(e),e=e in n?[e]:e.match(Ot)||[]),r=e.length;for(;r--;)delete n[e[r]]}(void 0===e||xt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!xt.isEmptyObject(e)}};var Vt=new v,It=new v,Ht=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;xt.extend({hasData:function(t){return It.hasData(t)||Vt.hasData(t)},data:function(t,e,r){return It.access(t,e,r)},removeData:function(t,e){It.remove(t,e)},_data:function(t,e,r){return Vt.access(t,e,r)},_removeData:function(t,e){Vt.remove(t,e)}}),xt.fn.extend({data:function(t,e){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=It.get(o),1===o.nodeType&&!Vt.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=xt.camelCase(n.slice(5)),y(o,n,i[n])));Vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){It.set(this,t)}):Bt(this,function(e){var r;if(o&&void 0===e){if(r=It.get(o,t),void 0!==r)return r;if(r=y(o,t),void 0!==r)return r}else this.each(function(){It.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){It.remove(this,t)})}}),xt.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=Vt.get(t,e),r&&(!n||Array.isArray(r)?n=Vt.access(t,e,xt.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=xt.queue(t,e),n=r.length,i=r.shift(),o=xt._queueHooks(t,e),a=function(){xt.dequeue(t,e)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===e&&r.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return Vt.get(t,r)||Vt.access(t,r,{empty:xt.Callbacks("once memory").add(function(){Vt.remove(t,[e+"queue",r])})})}}),xt.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?xt.queue(this[0],t):void 0===e?this:this.each(function(){var r=xt.queue(this,t,e);xt._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&xt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){xt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,i=xt.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)r=Vt.get(o[a],t+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(e)}});var Gt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+Gt+")([a-z%]*)$","i"),Xt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&xt.contains(t.ownerDocument,t)&&"none"===xt.css(t,"display")},qt=function(t,e,r,n){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=r.apply(t,n||[]);for(o in e)t.style[o]=a[o];return i},Yt={};xt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?xt(this).show():xt(this).hide()})}});var Kt=/^(?:checkbox|radio)$/i,Qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Zt=/^$|\/(?:java|ecma)script/i,Jt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,
Jt.th=Jt.td;var te=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment(),e=t.appendChild(at.createElement("div")),r=at.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),e.appendChild(r),gt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",gt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ee=at.documentElement,re=/^key/,ne=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ie=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(t,e,r,n,i){var o,a,s,c,l,u,h,f,p,d,m,v=Vt.get(t);if(v)for(r.handler&&(o=r,r=o.handler,i=o.selector),i&&xt.find.matchesSelector(ee,i),r.guid||(r.guid=xt.guid++),(c=v.events)||(c=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof xt&&xt.event.triggered!==e.type?xt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ot)||[""],l=e.length;l--;)s=ie.exec(e[l])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(h=xt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=xt.event.special[p]||{},u=xt.extend({type:p,origType:m,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&xt.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=c[p])||(f=c[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,n,d,a)!==!1||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),xt.event.global[p]=!0)},remove:function(t,e,r,n,i){var o,a,s,c,l,u,h,f,p,d,m,v=Vt.hasData(t)&&Vt.get(t);if(v&&(c=v.events)){for(e=(e||"").match(Ot)||[""],l=e.length;l--;)if(s=ie.exec(e[l])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p){for(h=xt.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&m!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(t,u));a&&!f.length&&(h.teardown&&h.teardown.call(t,d,v.handle)!==!1||xt.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)xt.event.remove(t,p+e[l],r,n,!0);xt.isEmptyObject(c)&&Vt.remove(t,"handle events")}},dispatch:function(t){var e,r,n,i,o,a,s=xt.event.fix(t),c=new Array(arguments.length),l=(Vt.get(this,"events")||{})[s.type]||[],u=xt.event.special[s.type]||{};for(c[0]=s,e=1;e<arguments.length;e++)c[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,s)!==!1){for(a=xt.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,n=((xt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,c),void 0!==n&&(s.result=n)===!1&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var r,n,i,o,a,s=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],a={},r=0;r<c;r++)n=e[r],i=n.selector+" ",void 0===a[i]&&(a[i]=n.needsContext?xt(i,this).index(l)>-1:xt.find(i,this,null,[l]).length),a[i]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return l=this,c<e.length&&s.push({elem:l,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(xt.Event.prototype,t,{enumerable:!0,configurable:!0,get:xt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[xt.expando]?t:new xt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(t){return c(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},xt.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},xt.Event=function(t,e){return this instanceof xt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?T:C,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&xt.extend(this,e),this.timeStamp=t&&t.timeStamp||xt.now(),void(this[xt.expando]=!0)):new xt.Event(t,e)},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&re.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ne.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){xt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||xt.contains(n,i))||(t.type=o.origType,r=o.handler.apply(this,arguments),t.type=e),r}}}),xt.fn.extend({on:function(t,e,r,n){return E(this,t,e,r,n)},one:function(t,e,r,n){return E(this,t,e,r,n,1)},off:function(t,e,r){var n,i;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,xt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(r=e,e=void 0),r===!1&&(r=C),this.each(function(){xt.event.remove(this,t,r,e)})}});var oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ae=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,r){var n,i,o,a,s=t.cloneNode(!0),c=xt.contains(t.ownerDocument,t);if(!(gt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||xt.isXMLDoc(t)))for(a=w(s),o=w(t),n=0,i=o.length;n<i;n++)D(o[n],a[n]);if(e)if(r)for(o=o||w(t),a=a||w(s),n=0,i=o.length;n<i;n++)R(o[n],a[n]);else R(t,s);return a=w(s,"script"),a.length>0&&M(a,!c&&w(t,"script")),s},cleanData:function(t){for(var e,r,n,i=xt.event.special,o=0;void 0!==(r=t[o]);o++)if(zt(r)){if(e=r[Vt.expando]){if(e.events)for(n in e.events)i[n]?xt.event.remove(r,n):xt.removeEvent(r,n,e.handle);r[Vt.expando]=void 0}r[It.expando]&&(r[It.expando]=void 0)}}}),xt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Bt(this,function(t){return void 0===t?xt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=L(this,t);e.appendChild(t)}})},prepend:function(){return F(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=L(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return F(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(xt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return xt.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ae.test(t)&&!Jt[(Qt.exec(t)||["",""])[1].toLowerCase()]){t=xt.htmlPrefilter(t);try{for(;r<n;r++)e=this[r]||{},1===e.nodeType&&(xt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return F(this,arguments,function(e){var r=this.parentNode;xt.inArray(this,t)<0&&(xt.cleanData(w(this)),r&&r.replaceChild(e,this))},t)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){xt.fn[t]=function(t){for(var r,n=[],i=xt(t),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),xt(i[a])[e](r),ut.apply(n,r.get());return this.pushStack(n)}});var ue=/^margin/,he=new RegExp("^("+Gt+")(?!px)[a-z%]+$","i"),fe=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",ee.appendChild(a);var t=r.getComputedStyle(s);e="1%"!==t.top,o="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,ee.removeChild(a),s=null}}var e,n,i,o,a=at.createElement("div"),s=at.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",gt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),xt.extend(gt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var pe=/^(none|table(?!-c[ea]).+)/,de=/^--/,me={position:"absolute",visibility:"hidden",display:"block"},ve={letterSpacing:"0",fontWeight:"400"},ge=["Webkit","Moz","ms"],ye=at.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=N(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,r,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=xt.camelCase(e),c=de.test(e),l=t.style;return c||(e=z(s)),a=xt.cssHooks[e]||xt.cssHooks[s],void 0===r?a&&"get"in a&&void 0!==(i=a.get(t,!1,n))?i:l[e]:(o=typeof r,"string"===o&&(i=Wt.exec(r))&&i[1]&&(r=x(t,e,i),o="number"),null!=r&&r===r&&("number"===o&&(r+=i&&i[3]||(xt.cssNumber[s]?"":"px")),gt.clearCloneStyle||""!==r||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(r=a.set(t,r,n))||(c?l.setProperty(e,r):l[e]=r)),void 0)}},css:function(t,e,r,n){var i,o,a,s=xt.camelCase(e),c=de.test(e);return c||(e=z(s)),a=xt.cssHooks[e]||xt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,r)),void 0===i&&(i=N(t,e,n)),"normal"===i&&e in ve&&(i=ve[e]),""===r||r?(o=parseFloat(i),r===!0||isFinite(o)?o||0:i):i}}),xt.each(["height","width"],function(t,e){xt.cssHooks[e]={get:function(t,r,n){if(r)return!pe.test(xt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,e,n):qt(t,me,function(){return H(t,e,n)})},set:function(t,r,n){var i,o=n&&fe(t),a=n&&I(t,e,n,"border-box"===xt.css(t,"boxSizing",!1,o),o);return a&&(i=Wt.exec(r))&&"px"!==(i[3]||"px")&&(t.style[e]=r,r=xt.css(t,e)),V(t,r,a)}}}),xt.cssHooks.marginLeft=U(gt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),xt.each({margin:"",padding:"",border:"Width"},function(t,e){xt.cssHooks[t+e]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[t+Xt[n]+e]=o[n]||o[n-2]||o[0];return i}},ue.test(t)||(xt.cssHooks[t+e].set=V)}),xt.fn.extend({css:function(t,e){return Bt(this,function(t,e,r){var n,i,o={},a=0;if(Array.isArray(e)){for(n=fe(t),i=e.length;a<i;a++)o[e[a]]=xt.css(t,e[a],!1,n);return o}return void 0!==r?xt.style(t,e,r):xt.css(t,e)},t,e,arguments.length>1)}}),xt.Tween=j,j.prototype={constructor:j,init:function(t,e,r,n,i,o){this.elem=t,this.prop=r,this.easing=i||xt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(xt.cssNumber[r]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,r=j.propHooks[this.prop];return this.options.duration?this.pos=e=xt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=xt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){xt.fx.step[t.prop]?xt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[xt.cssProps[t.prop]]&&!xt.cssHooks[t.prop]?t.elem[t.prop]=t.now:xt.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},xt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},xt.fx=j.prototype.init,xt.fx.step={};var xe,be,_e=/^(?:toggle|show|hide)$/,we=/queueHooks$/;xt.Animation=xt.extend(K,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return x(r.elem,t,Wt.exec(e),r),r}]},tweener:function(t,e){xt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ot);for(var r,n=0,i=t.length;n<i;n++)r=t[n],K.tweeners[r]=K.tweeners[r]||[],K.tweeners[r].unshift(e)},prefilters:[q],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),xt.speed=function(t,e,r){var n=t&&"object"==typeof t?xt.extend({},t):{complete:r||!r&&e||xt.isFunction(t)&&t,duration:t,easing:r&&e||e&&!xt.isFunction(e)&&e};return xt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in xt.fx.speeds?n.duration=xt.fx.speeds[n.duration]:n.duration=xt.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){xt.isFunction(n.old)&&n.old.call(this),n.queue&&xt.dequeue(this,n.queue)},n},xt.fn.extend({fadeTo:function(t,e,r,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var i=xt.isEmptyObject(t),o=xt.speed(e,r,n),a=function(){var e=K(this,xt.extend({},t),o);(i||Vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=xt.timers,a=Vt.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&we.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(r),e=!1,o.splice(i,1));!e&&r||xt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,r=Vt.get(this),n=r[t+"queue"],i=r[t+"queueHooks"],o=xt.timers,a=n?n.length:0;for(r.finish=!0,xt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),xt.each(["toggle","show","hide"],function(t,e){var r=xt.fn[e];xt.fn[e]=function(t,n,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(X(e,!0),t,n,i)}}),xt.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){xt.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}}),xt.timers=[],xt.fx.tick=function(){var t,e=0,r=xt.timers;for(xe=xt.now();e<r.length;e++)t=r[e],t()||r[e]!==t||r.splice(e--,1);r.length||xt.fx.stop(),xe=void 0},xt.fx.timer=function(t){xt.timers.push(t),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){be||(be=!0,G())},xt.fx.stop=function(){be=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(t,e){return t=xt.fx?xt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(i)}})},function(){var t=at.createElement("input"),e=at.createElement("select"),r=e.appendChild(at.createElement("option"));t.type="checkbox",gt.checkOn=""!==t.value,gt.optSelected=r.selected,t=at.createElement("input"),t.value="t",t.type="radio",gt.radioValue="t"===t.value}();var Me,Se=xt.expr.attrHandle;xt.fn.extend({attr:function(t,e){return Bt(this,xt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){xt.removeAttr(this,t)})}}),xt.extend({attr:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?xt.prop(t,e,r):(1===o&&xt.isXMLDoc(t)||(i=xt.attrHooks[e.toLowerCase()]||(xt.expr.match.bool.test(e)?Me:void 0)),void 0!==r?null===r?void xt.removeAttr(t,e):i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:(t.setAttribute(e,r+""),r):i&&"get"in i&&null!==(n=i.get(t,e))?n:(n=xt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!gt.radioValue&&"radio"===e&&c(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,i=e&&e.match(Ot);if(i&&1===t.nodeType)for(;r=i[n++];)t.removeAttribute(r)}}),Me={set:function(t,e,r){return e===!1?xt.removeAttr(t,r):t.setAttribute(r,r),r}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Se[e]||xt.find.attr;Se[e]=function(t,e,n){var i,o,a=e.toLowerCase();return n||(o=Se[a],Se[a]=i,i=null!=r(t,e,n)?a:null,Se[a]=o),i}});var Te=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;xt.fn.extend({prop:function(t,e){return Bt(this,xt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[xt.propFix[t]||t]})}}),xt.extend({prop:function(t,e,r){var n,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&xt.isXMLDoc(t)||(e=xt.propFix[e]||e,i=xt.propHooks[e]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(t,r,e))?n:t[e]=r:i&&"get"in i&&null!==(n=i.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=xt.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),gt.optSelected||(xt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(t){var e,r,n,i,o,a,s,c=0;if(xt.isFunction(t))return this.each(function(e){xt(this).addClass(t.call(this,e,Z(this)))});if("string"==typeof t&&t)for(e=t.match(Ot)||[];r=this[c++];)if(i=Z(r),n=1===r.nodeType&&" "+Q(i)+" "){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=Q(n),i!==s&&r.setAttribute("class",s)}return this},removeClass:function(t){var e,r,n,i,o,a,s,c=0;if(xt.isFunction(t))return this.each(function(e){xt(this).removeClass(t.call(this,e,Z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ot)||[];r=this[c++];)if(i=Z(r),n=1===r.nodeType&&" "+Q(i)+" "){for(a=0;o=e[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");s=Q(n),i!==s&&r.setAttribute("class",s)}return this},toggleClass:function(t,e){var r=typeof t;return"boolean"==typeof e&&"string"===r?e?this.addClass(t):this.removeClass(t):xt.isFunction(t)?this.each(function(r){xt(this).toggleClass(t.call(this,r,Z(this),e),e)}):this.each(function(){var e,n,i,o;if("string"===r)for(n=0,i=xt(this),o=t.match(Ot)||[];e=o[n++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==r||(e=Z(this),e&&Vt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Vt.get(this,"__className__")||""))})},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(1===r.nodeType&&(" "+Q(Z(r))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;xt.fn.extend({val:function(t){var e,r,n,i=this[0];{if(arguments.length)return n=xt.isFunction(t),this.each(function(r){var i;1===this.nodeType&&(i=n?t.call(this,r,xt(this).val()):t,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=xt.map(i,function(t){return null==t?"":t+""})),e=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=xt.valHooks[i.type]||xt.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(r=e.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(Ae,""):null==r?"":r)}}}),xt.extend({valHooks:{option:{get:function(t){var e=xt.find.attr(t,"value");return null!=e?e:Q(xt.text(t))}},select:{get:function(t){var e,r,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:i.length;for(n=o<0?l:a?o:0;n<l;n++)if(r=i[n],(r.selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!c(r.parentNode,"optgroup"))){if(e=xt(r).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var r,n,i=t.options,o=xt.makeArray(e),a=i.length;a--;)n=i[a],(n.selected=xt.inArray(xt.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=xt.inArray(xt(t).val(),e)>-1}},gt.checkOn||(xt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ee=/^(?:focusinfocus|focusoutblur)$/;xt.extend(xt.event,{trigger:function(t,e,n,i){var o,a,s,c,l,u,h,f=[n||at],p=dt.call(t,"type")?t.type:t,d=dt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||at,3!==n.nodeType&&8!==n.nodeType&&!Ee.test(p+xt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,t=t[xt.expando]?t:new xt.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:xt.makeArray(e,[t]),h=xt.event.special[p]||{},i||!h.trigger||h.trigger.apply(n,e)!==!1)){if(!i&&!h.noBubble&&!xt.isWindow(n)){for(c=h.delegateType||p,Ee.test(c+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||at)&&f.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?c:h.bindType||p,u=(Vt.get(a,"events")||{})[t.type]&&Vt.get(a,"handle"),u&&u.apply(a,e),u=l&&a[l],u&&u.apply&&zt(a)&&(t.result=u.apply(a,e),t.result===!1&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),e)!==!1||!zt(n)||l&&xt.isFunction(n[p])&&!xt.isWindow(n)&&(s=n[l],s&&(n[l]=null),xt.event.triggered=p,n[p](),xt.event.triggered=void 0,s&&(n[l]=s)),t.result}},simulate:function(t,e,r){var n=xt.extend(new xt.Event,r,{type:t,isSimulated:!0});xt.event.trigger(n,null,e)}}),xt.fn.extend({trigger:function(t,e){return this.each(function(){xt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return xt.event.trigger(t,e,r,!0)}}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){xt.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}),xt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),gt.focusin="onfocusin"in r,gt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(t,e){var r=function(t){xt.event.simulate(e,t.target,xt.event.fix(t))};xt.event.special[e]={setup:function(){var n=this.ownerDocument||this,i=Vt.access(n,e);i||n.addEventListener(t,r,!0),Vt.access(n,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=Vt.access(n,e)-1;i?Vt.access(n,e,i):(n.removeEventListener(t,r,!0),Vt.remove(n,e))}}});var Le=r.location,Pe=xt.now(),ke=/\?/;xt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||xt.error("Invalid XML: "+t),e};var Re=/\[\]$/,De=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;xt.param=function(t,e){var r,n=[],i=function(t,e){var r=xt.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(t)||t.jquery&&!xt.isPlainObject(t))xt.each(t,function(){i(this.name,this.value)});else for(r in t)J(r,t[r],e,i);return n.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=xt.prop(this,"elements");return t?xt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!xt(this).is(":disabled")&&Oe.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!Kt.test(t))}).map(function(t,e){var r=xt(this).val();return null==r?null:Array.isArray(r)?xt.map(r,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:r.replace(De,"\r\n")}}).get()}});var Ne=/%20/g,Ue=/#.*$/,Be=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ie=/^(?:GET|HEAD)$/,He=/^\/\//,je={},Ge={},We="*/".concat("*"),Xe=at.createElement("a");Xe.href=Le.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Le.href,type:"GET",isLocal:Ve.test(Le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?rt(rt(t,xt.ajaxSettings),e):rt(xt.ajaxSettings,t)},ajaxPrefilter:tt(je),ajaxTransport:tt(Ge),ajax:function(t,e){function n(t,e,n,s){var l,f,p,b,_,w=e;u||(u=!0,c&&r.clearTimeout(c),i=void 0,a=s||"",M.readyState=t>0?4:0,l=t>=200&&t<300||304===t,n&&(b=nt(d,M,n)),b=it(d,b,M,l),l?(d.ifModified&&(_=M.getResponseHeader("Last-Modified"),_&&(xt.lastModified[o]=_),_=M.getResponseHeader("etag"),_&&(xt.etag[o]=_)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,p=b.error,l=!p)):(p=w,!t&&w||(w="error",t<0&&(t=0))),M.status=t,M.statusText=(e||w)+"",l?g.resolveWith(m,[f,w,M]):g.rejectWith(m,[M,w,p]),M.statusCode(x),x=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[M,d,l?f:p]),y.fireWith(m,[M,w]),h&&(v.trigger("ajaxComplete",[M,d]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,a,s,c,l,u,h,f,p,d=xt.ajaxSetup({},e),m=d.context||d,v=d.context&&(m.nodeType||m.jquery)?xt(m):xt.event,g=xt.Deferred(),y=xt.Callbacks("once memory"),x=d.statusCode||{},b={},_={},w="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=ze.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)M.always(t[M.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(g.promise(M),d.url=((t||d.url||Le.href)+"").replace(He,Le.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(Ot)||[""],null==d.crossDomain){l=at.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Xe.protocol+"//"+Xe.host!=l.protocol+"//"+l.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=xt.param(d.data,d.traditional)),et(je,d,e,M),u)return M;h=xt.event&&d.global,h&&0===xt.active++&&xt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ie.test(d.type),o=d.url.replace(Ue,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ne,"+")):(p=d.url.slice(o.length),d.data&&(o+=(ke.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(o=o.replace(Be,"$1"),p=(ke.test(o)?"&":"?")+"_="+Pe++ +p),d.url=o+p),d.ifModified&&(xt.lastModified[o]&&M.setRequestHeader("If-Modified-Since",xt.lastModified[o]),xt.etag[o]&&M.setRequestHeader("If-None-Match",xt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&M.setRequestHeader("Content-Type",d.contentType),M.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+We+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)M.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(m,M,d)===!1||u))return M.abort();if(w="abort",y.add(d.complete),M.done(d.success),M.fail(d.error),i=et(Ge,d,e,M)){if(M.readyState=1,h&&v.trigger("ajaxSend",[M,d]),u)return M;d.async&&d.timeout>0&&(c=r.setTimeout(function(){M.abort("timeout")},d.timeout));try{u=!1,i.send(b,n)}catch(t){if(u)throw t;n(-1,t)}}else n(-1,"No Transport");return M},getJSON:function(t,e,r){return xt.get(t,e,r,"json")},getScript:function(t,e){return xt.get(t,void 0,e,"script")}}),xt.each(["get","post"],function(t,e){xt[e]=function(t,r,n,i){return xt.isFunction(r)&&(i=i||n,n=r,r=void 0),xt.ajax(xt.extend({url:t,type:e,dataType:i,data:r,success:n},xt.isPlainObject(t)&&t))}}),xt._evalUrl=function(t){return xt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},xt.fn.extend({wrapAll:function(t){var e;return this[0]&&(xt.isFunction(t)&&(t=t.call(this[0])),e=xt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return xt.isFunction(t)?this.each(function(e){xt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=xt(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=xt.isFunction(t);return this.each(function(r){xt(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(t){return!xt.expr.pseudos.visible(t)},xt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length);
},xt.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},qe=xt.ajaxSettings.xhr();gt.cors=!!qe&&"withCredentials"in qe,gt.ajax=qe=!!qe,xt.ajaxTransport(function(t){var e,n;if(gt.cors||qe&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($e[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),xt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return xt.globalEval(t),t}}}),xt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),xt.ajaxTransport("script",function(t){if(t.crossDomain){var e,r;return{send:function(n,i){e=xt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&i("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){r&&r()}}}});var Ye=[],Ke=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||xt.expando+"_"+Pe++;return this[t]=!0,t}}),xt.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,a,s=t.jsonp!==!1&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=xt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+i):t.jsonp!==!1&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||xt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always(function(){void 0===o?xt(r).removeProp(i):r[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),a&&xt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),gt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),xt.parseHTML=function(t,e,r){if("string"!=typeof t)return[];"boolean"==typeof e&&(r=e,e=!1);var n,i,o;return e||(gt.createHTMLDocument?(e=at.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=at.location.href,e.head.appendChild(n)):e=at),i=Et.exec(t),o=!r&&[],i?[e.createElement(i[1])]:(i=S([t],e,o),o&&o.length&&xt(o).remove(),xt.merge([],i.childNodes))},xt.fn.load=function(t,e,r){var n,i,o,a=this,s=t.indexOf(" ");return s>-1&&(n=Q(t.slice(s)),t=t.slice(0,s)),xt.isFunction(e)?(r=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&xt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(n?xt("<div>").append(xt.parseHTML(t)).find(n):t)}).always(r&&function(t,e){a.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){xt.fn[e]=function(t){return this.on(e,t)}}),xt.expr.pseudos.animated=function(t){return xt.grep(xt.timers,function(e){return t===e.elem}).length},xt.offset={setOffset:function(t,e,r){var n,i,o,a,s,c,l,u=xt.css(t,"position"),h=xt(t),f={};"static"===u&&(t.style.position="relative"),s=h.offset(),o=xt.css(t,"top"),c=xt.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1,l?(n=h.position(),a=n.top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),xt.isFunction(e)&&(e=e.call(t,r,xt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},xt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){xt.offset.setOffset(this,t,e)});var e,r,n,i,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect(),e=o.ownerDocument,r=e.documentElement,i=e.defaultView,{top:n.top+i.pageYOffset-r.clientTop,left:n.left+i.pageXOffset-r.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,r=this[0],n={top:0,left:0};return"fixed"===xt.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),c(t[0],"html")||(n=t.offset()),n={top:n.top+xt.css(t[0],"borderTopWidth",!0),left:n.left+xt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-xt.css(r,"marginTop",!0),left:e.left-n.left-xt.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===xt.css(t,"position");)t=t.offsetParent;return t||ee})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;xt.fn[t]=function(n){return Bt(this,function(t,n,i){var o;return xt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i?o?o[e]:t[n]:void(o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):t[n]=i)},t,n,arguments.length)}}),xt.each(["top","left"],function(t,e){xt.cssHooks[e]=U(gt.pixelPosition,function(t,r){if(r)return r=N(t,e),he.test(r)?xt(t).position()[e]+"px":r})}),xt.each({Height:"height",Width:"width"},function(t,e){xt.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){xt.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return Bt(this,function(e,r,i){var o;return xt.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?xt.css(e,r,s):xt.style(e,r,i,s)},e,a?i:void 0,a)}})}),xt.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}}),xt.holdReady=function(t){t?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=c,n=[],i=function(){return xt}.apply(e,n),!(void 0!==i&&(t.exports=i));var Qe=r.jQuery,Ze=r.$;return xt.noConflict=function(t){return r.$===xt&&(r.$=Ze),t&&r.jQuery===xt&&(r.jQuery=Qe),xt},o||(r.jQuery=r.$=xt),xt})},function(t,e,r){var n=n||{},i={REVISION:"69"};t.exports=i,void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:0}),i.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},i.CullFaceNone=0,i.CullFaceBack=1,i.CullFaceFront=2,i.CullFaceFrontBack=3,i.FrontFaceDirectionCW=0,i.FrontFaceDirectionCCW=1,i.BasicShadowMap=0,i.PCFShadowMap=1,i.PCFSoftShadowMap=2,i.FrontSide=0,i.BackSide=1,i.DoubleSide=2,i.NoShading=0,i.FlatShading=1,i.SmoothShading=2,i.NoColors=0,i.FaceColors=1,i.VertexColors=2,i.NoBlending=0,i.NormalBlending=1,i.AdditiveBlending=2,i.SubtractiveBlending=3,i.MultiplyBlending=4,i.CustomBlending=5,i.AddEquation=100,i.SubtractEquation=101,i.ReverseSubtractEquation=102,i.MinEquation=103,i.MaxEquation=104,i.ZeroFactor=200,i.OneFactor=201,i.SrcColorFactor=202,i.OneMinusSrcColorFactor=203,i.SrcAlphaFactor=204,i.OneMinusSrcAlphaFactor=205,i.DstAlphaFactor=206,i.OneMinusDstAlphaFactor=207,i.DstColorFactor=208,i.OneMinusDstColorFactor=209,i.SrcAlphaSaturateFactor=210,i.MultiplyOperation=0,i.MixOperation=1,i.AddOperation=2,i.UVMapping=function(){},i.CubeReflectionMapping=function(){},i.CubeRefractionMapping=function(){},i.SphericalReflectionMapping=function(){},i.SphericalRefractionMapping=function(){},i.RepeatWrapping=1e3,i.ClampToEdgeWrapping=1001,i.MirroredRepeatWrapping=1002,i.NearestFilter=1003,i.NearestMipMapNearestFilter=1004,i.NearestMipMapLinearFilter=1005,i.LinearFilter=1006,i.LinearMipMapNearestFilter=1007,i.LinearMipMapLinearFilter=1008,i.UnsignedByteType=1009,i.ByteType=1010,i.ShortType=1011,i.UnsignedShortType=1012,i.IntType=1013,i.UnsignedIntType=1014,i.FloatType=1015,i.UnsignedShort4444Type=1016,i.UnsignedShort5551Type=1017,i.UnsignedShort565Type=1018,i.AlphaFormat=1019,i.RGBFormat=1020,i.RGBAFormat=1021,i.LuminanceFormat=1022,i.LuminanceAlphaFormat=1023,i.RGB_S3TC_DXT1_Format=2001,i.RGBA_S3TC_DXT1_Format=2002,i.RGBA_S3TC_DXT3_Format=2003,i.RGBA_S3TC_DXT5_Format=2004,i.RGB_PVRTC_4BPPV1_Format=2100,i.RGB_PVRTC_2BPPV1_Format=2101,i.RGBA_PVRTC_4BPPV1_Format=2102,i.RGBA_PVRTC_2BPPV1_Format=2103,i.Color=function(t){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(t)},i.Color.prototype={constructor:i.Color,r:1,g:1,b:1,set:function(t){return t instanceof i.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(t,e,r){if(0===e)this.r=this.g=this.b=r;else{var n=function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t},i=r<=.5?r*(1+e):r+e-r*e,o=2*r-i;this.r=n(o,i,t+1/3),this.g=n(o,i,t),this.b=n(o,i,t-1/3)}return this},setStyle:function(t){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(t)){var e=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(t);return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(t)){var e=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(t);return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(t)){var e=/^\#([0-9a-f]{6})$/i.exec(t);return this.setHex(parseInt(e[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(t)){var e=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t);return this.setHex(parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3],16)),this}if(/^(\w+)$/i.test(t))return this.setHex(i.ColorKeywords[t]),this},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t){return this.r=t.r*t.r,this.g=t.g*t.g,this.b=t.b*t.b,this},copyLinearToGamma:function(t){return this.r=Math.sqrt(t.r),this.g=Math.sqrt(t.g),this.b=Math.sqrt(t.b),this},convertGammaToLinear:function(){var t=this.r,e=this.g,r=this.b;return this.r=t*t,this.g=e*e,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,r,n=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),c=Math.min(i,o,a),l=(c+s)/2;if(c===s)e=0,r=0;else{var u=s-c;switch(r=l<=.5?u/(s+c):u/(2-s-c),s){case i:e=(o-a)/u+(o<a?6:0);break;case o:e=(a-i)/u+2;break;case a:e=(i-o)/u+4}e/=6}return n.h=e,n.s=r,n.l=l,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,r){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new i.Color).setRGB(this.r,this.g,this.b)}},i.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},i.Quaternion=function(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1},i.Quaternion.prototype={constructor:i.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof i.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(t._x/2),n=Math.cos(t._y/2),o=Math.cos(t._z/2),a=Math.sin(t._x/2),s=Math.sin(t._y/2),c=Math.sin(t._z/2);return"XYZ"===t.order?(this._x=a*n*o+r*s*c,this._y=r*s*o-a*n*c,this._z=r*n*c+a*s*o,this._w=r*n*o-a*s*c):"YXZ"===t.order?(this._x=a*n*o+r*s*c,this._y=r*s*o-a*n*c,this._z=r*n*c-a*s*o,this._w=r*n*o+a*s*c):"ZXY"===t.order?(this._x=a*n*o-r*s*c,this._y=r*s*o+a*n*c,this._z=r*n*c+a*s*o,this._w=r*n*o-a*s*c):"ZYX"===t.order?(this._x=a*n*o-r*s*c,this._y=r*s*o+a*n*c,this._z=r*n*c-a*s*o,this._w=r*n*o+a*s*c):"YZX"===t.order?(this._x=a*n*o+r*s*c,this._y=r*s*o+a*n*c,this._z=r*n*c-a*s*o,this._w=r*n*o-a*s*c):"XZY"===t.order&&(this._x=a*n*o-r*s*c,this._y=r*s*o-a*n*c,this._z=r*n*c+a*s*o,this._w=r*n*o+a*s*c),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],l=r[2],u=r[6],h=r[10],f=n+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(u-c)*e,this._y=(o-l)*e,this._z=(a-i)*e):n>s&&n>h?(e=2*Math.sqrt(1+n-s-h),this._w=(u-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>h?(e=2*Math.sqrt(1+s-n-h),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+u)/e):(e=2*Math.sqrt(1+h-n-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(c+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,r=1e-6;return function(n,o){return void 0===t&&(t=new i.Vector3),e=n.dot(o)+1,e<r?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,o),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,l=e._w;return this._x=r*l+o*a+n*c-i*s,this._y=n*l+o*s+i*a-r*c,this._z=i*l+o*c+r*s-n*a,this._w=o*l-r*a-n*s-i*c,this.onChangeCallback(),this},multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.acos(a),c=Math.sqrt(1-a*a);if(Math.abs(c)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var l=Math.sin((1-e)*s)/c,u=Math.sin(e*s)/c;return this._w=o*l+this._w*u,this._x=r*l+this._x*u,this._y=n*l+this._y*u,this._z=i*l+this._z*u,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new i.Quaternion(this._x,this._y,this._z,this._w)}},i.Quaternion.slerp=function(t,e,r,n){return r.copy(t).slerp(e,n)},i.Vector2=function(t,e){this.x=t||0,this.y=e||0},i.Vector2.prototype={constructor:i.Vector2,set:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScalar:function(t){return this.x+=t,this.y+=t,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e}else this.x=0,this.y=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new i.Vector2,e=new i.Vector2),t.set(r,r),e.set(n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},clone:function(){return new i.Vector2(this.x,this.y)}},i.Vector3=function(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0},i.Vector3.prototype={constructor:i.Vector3,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return e instanceof i.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new i.Quaternion),this.applyQuaternion(t.setFromEuler(e)),this}}(),applyAxisAngle:function(){var t;return function(e,r){return void 0===t&&(t=new i.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,r)),this}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n+i[12],this.y=i[1]*e+i[5]*r+i[9]*n+i[13],this.z=i[2]*e+i[6]*r+i[10]*n+i[14],this},applyProjection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*n-a*r,l=s*r+a*e-i*n,u=s*n+i*r-o*e,h=-i*e-o*r-a*n;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new i.Matrix4),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new i.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize(),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new i.Vector3,e=new i.Vector3),t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var r=this.x,n=this.y,i=this.z;return this.x=n*t.z-i*t.y,this.y=i*t.x-r*t.z,this.z=r*t.y-n*t.x,this},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(){var t,e;return function(r){return void 0===t&&(t=new i.Vector3),t.copy(r).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new i.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new i.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/(this.length()*t.length());return Math.acos(i.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},setEulerFromRotationMatrix:function(t,e){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(t,e){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},setFromMatrixPosition:function(t){return this.x=t.elements[12],this.y=t.elements[13],this.z=t.elements[14],this},setFromMatrixScale:function(t){var e=this.set(t.elements[0],t.elements[1],t.elements[2]).length(),r=this.set(t.elements[4],t.elements[5],t.elements[6]).length(),n=this.set(t.elements[8],t.elements[9],t.elements[10]).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){var r=4*t,n=e.elements;return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},clone:function(){return new i.Vector3(this.x,this.y,this.z)}},i.Vector4=function(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1},i.Vector4.prototype={constructor:i.Vector4,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},copy:function(t){
return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e,this.w*=e}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=.01,a=.1,s=t.elements,c=s[0],l=s[4],u=s[8],h=s[1],f=s[5],p=s[9],d=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<o&&Math.abs(u-d)<o&&Math.abs(p-m)<o){if(Math.abs(l+h)<a&&Math.abs(u+d)<a&&Math.abs(p+m)<a&&Math.abs(c+f+v-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(f+1)/2,x=(v+1)/2,b=(l+h)/4,_=(u+d)/4,w=(p+m)/4;return g>y&&g>x?g<o?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(g),n=b/r,i=_/r):y>x?y<o?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(y),r=b/n,i=w/n):x<o?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(x),r=_/i,n=w/i),this.set(r,n,i,e),this}var M=Math.sqrt((m-p)*(m-p)+(u-d)*(u-d)+(h-l)*(h-l));return Math.abs(M)<.001&&(M=1),this.x=(m-p)/M,this.y=(u-d)/M,this.z=(h-l)/M,this.w=Math.acos((c+f+v-1)/2),this},min:function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this.w>t.w&&(this.w=t.w),this},max:function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this.w<t.w&&(this.w=t.w),this},clamp:function(t,e){return this.x<t.x?this.x=t.x:this.x>e.x&&(this.x=e.x),this.y<t.y?this.y=t.y:this.y>e.y&&(this.y=e.y),this.z<t.z?this.z=t.z:this.z>e.z&&(this.z=e.z),this.w<t.w?this.w=t.w:this.w>e.w&&(this.w=e.w),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new i.Vector4,e=new i.Vector4),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},clone:function(){return new i.Vector4(this.x,this.y,this.z,this.w)}},i.Euler=function(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||i.Euler.DefaultOrder},i.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],i.Euler.DefaultOrder="XYZ",i.Euler.prototype={constructor:i.Euler,_x:0,_y:0,_z:0,_order:i.Euler.DefaultOrder,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e){var r=i.Math.clamp,n=t.elements,o=n[0],a=n[4],s=n[8],c=n[1],l=n[5],u=n[9],h=n[2],f=n[6],p=n[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,this.onChangeCallback(),this},setFromQuaternion:function(t,e,r){var n=i.Math.clamp,o=t.x*t.x,a=t.y*t.y,s=t.z*t.z,c=t.w*t.w;return e=e||this._order,"XYZ"===e?(this._x=Math.atan2(2*(t.x*t.w-t.y*t.z),c-o-a+s),this._y=Math.asin(n(2*(t.x*t.z+t.y*t.w),-1,1)),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),c+o-a-s)):"YXZ"===e?(this._x=Math.asin(n(2*(t.x*t.w-t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),c-o-a+s),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),c-o+a-s)):"ZXY"===e?(this._x=Math.asin(n(2*(t.x*t.w+t.y*t.z),-1,1)),this._y=Math.atan2(2*(t.y*t.w-t.z*t.x),c-o-a+s),this._z=Math.atan2(2*(t.z*t.w-t.x*t.y),c-o+a-s)):"ZYX"===e?(this._x=Math.atan2(2*(t.x*t.w+t.z*t.y),c-o-a+s),this._y=Math.asin(n(2*(t.y*t.w-t.x*t.z),-1,1)),this._z=Math.atan2(2*(t.x*t.y+t.z*t.w),c+o-a-s)):"YZX"===e?(this._x=Math.atan2(2*(t.x*t.w-t.z*t.y),c-o+a-s),this._y=Math.atan2(2*(t.y*t.w-t.x*t.z),c+o-a-s),this._z=Math.asin(n(2*(t.x*t.y+t.z*t.w),-1,1))):"XZY"===e?(this._x=Math.atan2(2*(t.x*t.w+t.y*t.z),c-o+a-s),this._y=Math.atan2(2*(t.x*t.z+t.y*t.w),c+o-a-s),this._z=Math.asin(n(2*(t.z*t.w-t.x*t.y),-1,1))):console.warn("THREE.Euler: .setFromQuaternion() given unsupported order: "+e),this._order=e,r!==!1&&this.onChangeCallback(),this},reorder:function(){var t=new i.Quaternion;return function(e){t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){},clone:function(){return new i.Euler(this._x,this._y,this._z,this._order)}},i.Line3=function(t,e){this.start=void 0!==t?t:new i.Vector3,this.end=void 0!==e?e:new i.Vector3},i.Line3.prototype={constructor:i.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){var e=t||new i.Vector3;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new i.Vector3;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var r=e||new i.Vector3;return this.delta(r).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new i.Vector3,e=new i.Vector3;return function(r,n){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var o=e.dot(e),a=e.dot(t),s=a/o;return n&&(s=i.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e),o=r||new i.Vector3;return this.delta(o).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},clone:function(){return(new i.Line3).copy(this)}},i.Box2=function(t,e){this.min=void 0!==t?t:new i.Vector2(1/0,1/0),this.max=void 0!==e?e:new i.Vector2(-(1/0),-(1/0))},i.Box2.prototype={constructor:i.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i.Vector2;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){var e=t||new i.Vector2;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new i.Vector2;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var r=e||new i.Vector2;return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var r=e||new i.Vector2;return r.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i.Vector2;return function(e){var r=t.copy(e).clamp(this.min,this.max);return r.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new i.Box2).copy(this)}},i.Box3=function(t,e){this.min=void 0!==t?t:new i.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new i.Vector3(-(1/0),-(1/0),-(1/0))},i.Box3.prototype={constructor:i.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i.Vector3;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new i.Vector3;return function(e){var r=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){var n=e.geometry;if(void 0!==n)if(n instanceof i.Geometry)for(var o=n.vertices,a=0,s=o.length;a<s;a++)t.copy(o[a]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t);else if(n instanceof i.BufferGeometry&&void 0!==n.attributes.position)for(var c=n.attributes.position.array,a=0,s=c.length;a<s;a+=3)t.set(c[a],c[a+1],c[a+2]),t.applyMatrix4(e.matrixWorld),r.expandByPoint(t)}),this}}(),copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){var e=t||new i.Vector3;return e.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){var e=t||new i.Vector3;return e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var r=e||new i.Vector3;return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},clampPoint:function(t,e){var r=e||new i.Vector3;return r.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i.Vector3;return function(e){var r=t.copy(e).clamp(this.min,this.max);return r.sub(e).length()}}(),getBoundingSphere:function(){var t=new i.Vector3;return function(e){var r=e||new i.Sphere;return r.center=this.center(),r.radius=.5*this.size(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3,new i.Vector3];return function(e){return t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.makeEmpty(),this.setFromPoints(t),this}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)},clone:function(){return(new i.Box3).copy(this)}},i.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},i.Matrix3.prototype={constructor:i.Matrix3,set:function(t,e,r,n,i,o,a,s,c){var l=this.elements;return l[0]=t,l[3]=e,l[6]=r,l[1]=n,l[4]=i,l[7]=o,l[2]=a,l[5]=s,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new i.Vector3;return function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.x=e[o],t.y=e[o+1],t.z=e[o+2],t.applyMatrix3(this),e[o]=t.x,e[o+1]=t.y,e[o+2]=t.z;return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return e*o*l-e*a*c-r*i*l+r*a*s+n*i*c-n*o*s},getInverse:function(t,e){var r=t.elements,n=this.elements;n[0]=r[10]*r[5]-r[6]*r[9],n[1]=-r[10]*r[1]+r[2]*r[9],n[2]=r[6]*r[1]-r[2]*r[5],n[3]=-r[10]*r[4]+r[6]*r[8],n[4]=r[10]*r[0]-r[2]*r[8],n[5]=-r[6]*r[0]+r[2]*r[4],n[6]=r[9]*r[4]-r[5]*r[8],n[7]=-r[9]*r[0]+r[1]*r[8],n[8]=r[5]*r[0]-r[1]*r[4];var i=r[0]*n[0]+r[1]*n[3]+r[2]*n[6];if(0===i){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t},getNormalMatrix:function(t){return this.getInverse(t).transpose(),this},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},clone:function(){return(new i.Matrix3).fromArray(this.elements)}},i.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},i.Matrix4.prototype={constructor:i.Matrix4,set:function(t,e,r,n,i,o,a,s,c,l,u,h,f,p,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=r,v[12]=n,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=l,v[10]=u,v[14]=h,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(t){return this.elements.set(t.elements),this},extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractRotation:function(){var t=new i.Vector3;return function(e){var r=this.elements,n=e.elements,i=1/t.set(n[0],n[1],n[2]).length(),o=1/t.set(n[4],n[5],n[6]).length(),a=1/t.set(n[8],n[9],n[10]).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof i.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,o=t.z,a=Math.cos(r),s=Math.sin(r),c=Math.cos(n),l=Math.sin(n),u=Math.cos(o),h=Math.sin(o);if("XYZ"===t.order){var f=a*u,p=a*h,d=s*u,m=s*h;e[0]=c*u,e[4]=-c*h,e[8]=l,e[1]=p+d*l,e[5]=f-m*l,e[9]=-s*c,e[2]=m-f*l,e[6]=d+p*l,e[10]=a*c}else if("YXZ"===t.order){var v=c*u,g=c*h,y=l*u,x=l*h;e[0]=v+x*s,e[4]=y*s-g,e[8]=a*l,e[1]=a*h,e[5]=a*u,e[9]=-s,e[2]=g*s-y,e[6]=x+v*s,e[10]=a*c}else if("ZXY"===t.order){var v=c*u,g=c*h,y=l*u,x=l*h;e[0]=v-x*s,e[4]=-a*h,e[8]=y+g*s,e[1]=g+y*s,e[5]=a*u,e[9]=x-v*s,e[2]=-a*l,e[6]=s,e[10]=a*c}else if("ZYX"===t.order){var f=a*u,p=a*h,d=s*u,m=s*h;e[0]=c*u,e[4]=d*l-p,e[8]=f*l+m,e[1]=c*h,e[5]=m*l+f,e[9]=p*l-d,e[2]=-l,e[6]=s*c,e[10]=a*c}else if("YZX"===t.order){var b=a*c,_=a*l,w=s*c,M=s*l;e[0]=c*u,e[4]=M-b*h,e[8]=w*h+_,e[1]=h,e[5]=a*u,e[9]=-s*u,e[2]=-l*u,e[6]=_*h+w,e[10]=b-M*h}else if("XZY"===t.order){var b=a*c,_=a*l,w=s*c,M=s*l;e[0]=c*u,e[4]=-h,e[8]=l*u,e[1]=b*h+M,e[5]=a*u,e[9]=_*h-w,e[2]=w*h-_,e[6]=s*u,e[10]=M*h+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},makeRotationFromQuaternion:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z,o=t.w,a=r+r,s=n+n,c=i+i,l=r*a,u=r*s,h=r*c,f=n*s,p=n*c,d=i*c,m=o*a,v=o*s,g=o*c;return e[0]=1-(f+d),e[4]=u-g,e[8]=h+v,e[1]=u+g,e[5]=1-(l+d),e[9]=p-m,e[2]=h-v,e[6]=p+m,e[10]=1-(l+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new i.Vector3,e=new i.Vector3,r=new i.Vector3;return function(n,i,o){var a=this.elements;return r.subVectors(n,i).normalize(),0===r.length()&&(r.z=1),t.crossVectors(o,r).normalize(),0===t.length()&&(r.x+=1e-4,t.crossVectors(o,r).normalize()),e.crossVectors(r,t),a[0]=t.x,a[4]=e.x,a[8]=r.x,a[1]=t.y,a[5]=e.y,a[9]=r.y,a[2]=t.z,a[6]=e.z,a[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],l=r[1],u=r[5],h=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],g=r[3],y=r[7],x=r[11],b=r[15],_=n[0],w=n[4],M=n[8],S=n[12],T=n[1],C=n[5],A=n[9],E=n[13],L=n[2],P=n[6],k=n[10],R=n[14],D=n[3],F=n[7],O=n[11],N=n[15];return i[0]=o*_+a*T+s*L+c*D,i[4]=o*w+a*C+s*P+c*F,i[8]=o*M+a*A+s*k+c*O,i[12]=o*S+a*E+s*R+c*N,i[1]=l*_+u*T+h*L+f*D,i[5]=l*w+u*C+h*P+f*F,i[9]=l*M+u*A+h*k+f*O,i[13]=l*S+u*E+h*R+f*N,i[2]=p*_+d*T+m*L+v*D,i[6]=p*w+d*C+m*P+v*F,i[10]=p*M+d*A+m*k+v*O,i[14]=p*S+d*E+m*R+v*N,i[3]=g*_+y*T+x*L+b*D,i[7]=g*w+y*C+x*P+b*F,i[11]=g*M+y*A+x*k+b*O,i[15]=g*S+y*E+x*R+b*N,this},multiplyToArray:function(t,e,r){var n=this.elements;return this.multiplyMatrices(t,e),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToVector3Array:function(){var t=new i.Vector3;return function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=e.length);for(var i=0,o=r;i<n;i+=3,o+=3)t.x=e[o],t.y=e[o+1],t.z=e[o+2],t.applyMatrix4(this),e[o]=t.x,e[o+1]=t.y,e[o+2]=t.z;return e}}(),rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],f=t[14],p=t[3],d=t[7],m=t[11],v=t[15];return p*(+i*s*u-n*c*u-i*a*h+r*c*h+n*a*f-r*s*f)+d*(+e*s*f-e*c*h+i*o*h-n*o*f+n*c*l-i*s*l)+m*(+e*c*u-e*a*f-i*o*u+r*o*f+i*a*l-r*c*l)+v*(-n*a*l-e*s*u+e*a*h+n*o*u-r*o*h+r*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t},getPosition:function(){var t=new i.Vector3;return function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var e=this.elements;return t.set(e[12],e[13],e[14])}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[4],a=n[8],s=n[12],c=n[1],l=n[5],u=n[9],h=n[13],f=n[2],p=n[6],d=n[10],m=n[14],v=n[3],g=n[7],y=n[11],x=n[15];r[0]=u*m*g-h*d*g+h*p*y-l*m*y-u*p*x+l*d*x,r[4]=s*d*g-a*m*g-s*p*y+o*m*y+a*p*x-o*d*x,r[8]=a*h*g-s*u*g+s*l*y-o*h*y-a*l*x+o*u*x,r[12]=s*u*p-a*h*p-s*l*d+o*h*d+a*l*m-o*u*m,r[1]=h*d*v-u*m*v-h*f*y+c*m*y+u*f*x-c*d*x,r[5]=a*m*v-s*d*v+s*f*y-i*m*y-a*f*x+i*d*x,r[9]=s*u*v-a*h*v-s*c*y+i*h*y+a*c*x-i*u*x,r[13]=a*h*f-s*u*f+s*c*d-i*h*d-a*c*m+i*u*m,r[2]=l*m*v-h*p*v+h*f*g-c*m*g-l*f*x+c*p*x,r[6]=s*p*v-o*m*v-s*f*g+i*m*g+o*f*x-i*p*x,r[10]=o*h*v-s*l*v+s*c*g-i*h*g-o*c*x+i*l*x,r[14]=s*l*f-o*h*f-s*c*p+i*h*p+o*c*m-i*l*m,r[3]=u*p*v-l*d*v-u*f*g+c*d*g+l*f*y-c*p*y,r[7]=o*d*v-a*p*v+a*f*g-i*d*g-o*f*y+i*p*y,r[11]=a*l*v-o*u*v-a*c*g+i*u*g+o*c*y-i*l*y,r[15]=o*u*f-a*l*f+a*c*p-i*u*p-o*c*d+i*l*d;var b=i*r[0]+c*r[4]+f*r[8]+v*r[12];if(0==b){var _="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(_);return console.warn(_),this.identity(),this}return this.multiplyScalar(1/b),this},translate:function(t){console.warn("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.warn("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.warn("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.warn("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.warn("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,Math.max(r,n)))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,c=i*o,l=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,l*a+r,l*s-n*o,0,c*s-n*a,l*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},compose:function(t,e,r){return this.makeRotationFromQuaternion(e),this.scale(r),this.setPosition(t),this},decompose:function(){var t=new i.Vector3,e=new i.Matrix4;return function(r,n,i){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length(),l=this.determinant();l<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.elements.set(this.elements);var u=1/a,h=1/s,f=1/c;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makeFrustum:function(t,e,r,n,i,o){var a=this.elements,s=2*i/(e-t),c=2*i/(n-r),l=(e+t)/(e-t),u=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,r,n){var o=r*Math.tan(i.Math.degToRad(.5*t)),a=-o,s=a*e,c=o*e;return this.makeFrustum(s,c,a,o,r,n)},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=e-t,c=r-n,l=o-i,u=(e+t)/s,h=(r+n)/c,f=(o+i)/l;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2/c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(t){return this.elements.set(t),this},toArray:function(){var t=this.elements;return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},clone:function(){return(new i.Matrix4).fromArray(this.elements)}},i.Ray=function(t,e){this.origin=void 0!==t?t:new i.Vector3,this.direction=void 0!==e?e:new i.Vector3},i.Ray.prototype={constructor:i.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var r=e||new i.Vector3;return r.copy(this.direction).multiplyScalar(t).add(this.origin)},recast:function(){var t=new i.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var r=e||new i.Vector3;r.subVectors(t,this.origin);var n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(){var t=new i.Vector3;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceTo(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceTo(e))}}(),distanceSqToSegment:function(t,e,r,n){var i,o,a,s,c=t.clone().add(e).multiplyScalar(.5),l=e.clone().sub(t).normalize(),u=.5*t.distanceTo(e),h=this.origin.clone().sub(c),f=-this.direction.dot(l),p=h.dot(this.direction),d=-h.dot(l),m=h.lengthSq(),v=Math.abs(1-f*f);if(v>=0)if(i=f*d-p,o=f*p-d,s=u*v,i>=0)if(o>=-s)if(o<=s){var g=1/v;i*=g,o*=g,a=i*(i+f*o+2*p)+o*(f*i+o+2*d)+m}else o=u,i=Math.max(0,-(f*o+p)),a=-i*i+o*(o+2*d)+m;else o=-u,i=Math.max(0,-(f*o+p)),a=-i*i+o*(o+2*d)+m;else o<=-s?(i=Math.max(0,-(-f*u+p)),o=i>0?-u:Math.min(Math.max(-u,-d),u),a=-i*i+o*(o+2*d)+m):o<=s?(i=0,o=Math.min(Math.max(-u,-d),u),a=o*(o+2*d)+m):(i=Math.max(0,-(f*u+p)),o=i>0?u:Math.min(Math.max(-u,-d),u),a=-i*i+o*(o+2*d)+m);else o=f>0?-u:u,i=Math.max(0,-(f*o+p)),a=-i*i+o*(o+2*d)+m;return r&&r.copy(this.direction.clone().multiplyScalar(i).add(this.origin)),n&&n.copy(l.clone().multiplyScalar(o).add(c)),a},isIntersectionSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},intersectSphere:function(){var t=new i.Vector3;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,c=n+a;return s<0&&c<0?null:s<0?this.at(c,r):this.at(s,r)}}(),isIntersectionPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var r=t.normal.dot(this.direction);return r*e<0},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0==e)return 0==t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},isIntersectionBox:function(){var t=new i.Vector3;return function(e){return null!==this.intersectBox(e,t)}}(),intersectBox:function(t,e){var r,n,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(r=(t.min.x-h.x)*c,
n=(t.max.x-h.x)*c):(r=(t.max.x-h.x)*c,n=(t.min.x-h.x)*c),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),r>o||i>n?null:((i>r||r!==r)&&(r=i),(o<n||n!==n)&&(n=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),r>s||a>n?null:((a>r||r!==r)&&(r=a),(s<n||n!==n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectTriangle:function(){var t=new i.Vector3,e=new i.Vector3,r=new i.Vector3,n=new i.Vector3;return function(i,o,a,s,c){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var l,u=this.direction.dot(n);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}t.subVectors(this.origin,i);var h=l*this.direction.dot(r.crossVectors(t,r));if(h<0)return null;var f=l*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>u)return null;var p=-l*t.dot(n);return p<0?null:this.at(p/u,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)},clone:function(){return(new i.Ray).copy(this)}},i.Sphere=function(t,e){this.center=void 0!==t?t:new i.Vector3,this.radius=void 0!==e?e:0},i.Sphere.prototype={constructor:i.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new i.Box3;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).center(n);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},clampPoint:function(t,e){var r=this.center.distanceToSquared(t),n=e||new i.Vector3;return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new i.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius},clone:function(){return(new i.Sphere).copy(this)}},i.Frustum=function(t,e,r,n,o,a){this.planes=[void 0!==t?t:new i.Plane,void 0!==e?e:new i.Plane,void 0!==r?r:new i.Plane,void 0!==n?n:new i.Plane,void 0!==o?o:new i.Plane,void 0!==a?a:new i.Plane]},i.Frustum.prototype={constructor:i.Frustum,set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],h=r[8],f=r[9],p=r[10],d=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return e[0].setComponents(a-n,u-s,d-h,y-m).normalize(),e[1].setComponents(a+n,u+s,d+h,y+m).normalize(),e[2].setComponents(a+i,u+c,d+f,y+v).normalize(),e[3].setComponents(a-i,u-c,d-f,y-v).normalize(),e[4].setComponents(a-o,u-l,d-p,y-g).normalize(),e[5].setComponents(a+o,u+l,d+p,y+g).normalize(),this},intersectsObject:function(){var t=new i.Sphere;return function(e){var r=e.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere),t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){var o=e[i].distanceToPoint(r);if(o<n)return!1}return!0},intersectsBox:function(){var t=new i.Vector3,e=new i.Vector3;return function(r){for(var n=this.planes,i=0;i<6;i++){var o=n[i];t.x=o.normal.x>0?r.min.x:r.max.x,e.x=o.normal.x>0?r.max.x:r.min.x,t.y=o.normal.y>0?r.min.y:r.max.y,e.y=o.normal.y>0?r.max.y:r.min.y,t.z=o.normal.z>0?r.min.z:r.max.z,e.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0},clone:function(){return(new i.Frustum).copy(this)}},i.Plane=function(t,e){this.normal=void 0!==t?t:new i.Vector3(1,0,0),this.constant=void 0!==e?e:0},i.Plane.prototype={constructor:i.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new i.Vector3,e=new i.Vector3;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var r=this.distanceToPoint(t),n=e||new i.Vector3;return n.copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectLine:function(){var t=new i.Vector3;return function(e,r){var n=r||new i.Vector3,o=e.delta(t),a=this.normal.dot(o);if(0!=a){var s=-(e.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return n.copy(o).multiplyScalar(s).add(e.start)}else if(0==this.distanceToPoint(e.start))return n.copy(e.start)}}(),coplanarPoint:function(t){var e=t||new i.Vector3;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new i.Vector3,e=new i.Vector3,r=new i.Matrix3;return function(n,i){var o=i||r.getNormalMatrix(n),a=t.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(e);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant==this.constant},clone:function(){return(new i.Plane).copy(this)}},i.Math={generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;i<36;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,r[i]=e[19==i?3&t|8:t]);return r.join("")}}(),clamp:function(t,e,r){return t<e?e:t>r?r:t},clampBottom:function(t,e){return t<e?e:t},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*(3-2*t))},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e),t*t*t*(t*(6*t-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(){var t=Math.PI/180;return function(e){return e*t}}(),radToDeg:function(){var t=180/Math.PI;return function(e){return e*t}}(),isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t}},i.Spline=function(t){function e(t,e,r,n,i,o,a){var s=.5*(r-t),c=.5*(n-e);return(2*(e-r)+s+c)*a+(-3*(e-r)-2*s-c)*o+s*i+e}this.points=t;var r,n,o,a,s,c,l,u,h,f=[],p={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return r=(this.points.length-1)*t,n=Math.floor(r),o=r-n,f[0]=0===n?n:n-1,f[1]=n,f[2]=n>this.points.length-2?this.points.length-1:n+1,f[3]=n>this.points.length-3?this.points.length-1:n+2,c=this.points[f[0]],l=this.points[f[1]],u=this.points[f[2]],h=this.points[f[3]],a=o*o,s=o*a,p.x=e(c.x,l.x,u.x,h.x,o,a,s),p.y=e(c.y,l.y,u.y,h.y,o,a,s),p.z=e(c.z,l.z,u.z,h.z,o,a,s),p},this.getControlPointsArray=function(){var t,e,r=this.points.length,n=[];for(t=0;t<r;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,r,n,o,a=0,s=0,c=0,l=new i.Vector3,u=new i.Vector3,h=[],f=0;for(h[0]=0,t||(t=100),n=this.points.length*t,l.copy(this.points[0]),e=1;e<n;e++)r=e/n,o=this.getPoint(r),u.copy(o),f+=u.distanceTo(l),l.copy(o),a=(this.points.length-1)*r,s=Math.floor(a),s!=c&&(h[s]=f,c=s);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(t){var e,r,n,o,a,s,c,l,u=[],h=new i.Vector3,f=this.getLength();for(u.push(h.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(s=f.chunks[e]-f.chunks[e-1],c=Math.ceil(t*s/f.total),o=(e-1)/(this.points.length-1),a=e/(this.points.length-1),r=1;r<c-1;r++)n=o+r*(1/c)*(a-o),l=this.getPoint(n),u.push(h.copy(l).clone());u.push(h.copy(this.points[e]).clone())}this.points=u}},i.Triangle=function(t,e,r){this.a=void 0!==t?t:new i.Vector3,this.b=void 0!==e?e:new i.Vector3,this.c=void 0!==r?r:new i.Vector3},i.Triangle.normal=function(){var t=new i.Vector3;return function(e,r,n,o){var a=o||new i.Vector3;a.subVectors(n,r),t.subVectors(e,r),a.cross(t);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),i.Triangle.barycoordFromPoint=function(){var t=new i.Vector3,e=new i.Vector3,r=new i.Vector3;return function(n,o,a,s,c){t.subVectors(s,o),e.subVectors(a,o),r.subVectors(n,o);var l=t.dot(t),u=t.dot(e),h=t.dot(r),f=e.dot(e),p=e.dot(r),d=l*f-u*u,m=c||new i.Vector3;if(0==d)return m.set(-2,-1,-1);var v=1/d,g=(f*h-u*p)*v,y=(l*p-u*h)*v;return m.set(1-g-y,y,g)}}(),i.Triangle.containsPoint=function(){var t=new i.Vector3;return function(e,r,n,o){var a=i.Triangle.barycoordFromPoint(e,r,n,o,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),i.Triangle.prototype={constructor:i.Triangle,set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new i.Vector3,e=new i.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new i.Vector3;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return i.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new i.Plane;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return i.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return i.Triangle.containsPoint(t,this.a,this.b,this.c)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)},clone:function(){return(new i.Triangle).copy(this)}},i.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},i.Clock.prototype={constructor:i.Clock,start:function(){this.startTime=void 0!==n.performance&&void 0!==n.performance.now?n.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=void 0!==n.performance&&void 0!==n.performance.now?n.performance.now():Date.now();t=.001*(e-this.oldTime),this.oldTime=e,this.elapsedTime+=t}return t}},i.EventDispatcher=function(){},i.EventDispatcher.prototype={constructor:i.EventDispatcher,apply:function(t){t.addEventListener=i.EventDispatcher.prototype.addEventListener,t.hasEventListener=i.EventDispatcher.prototype.hasEventListener,t.removeEventListener=i.EventDispatcher.prototype.removeEventListener,t.dispatchEvent=i.EventDispatcher.prototype.dispatchEvent},addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),r[t].indexOf(e)===-1&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&r[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners,n=r[t];if(void 0!==n){var i=n.indexOf(e);i!==-1&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,r=e[t.type];if(void 0!==r){t.target=this;for(var n=[],i=r.length,o=0;o<i;o++)n[o]=r[o];for(var o=0;o<i;o++)n[o].call(this,t)}}}},function(t){t.Raycaster=function(e,r,n,i){this.ray=new t.Ray(e,r),this.near=n||0,this.far=i||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var e=function(t,e){return t.distance-e.distance},r=function(t,e,n,i){if(t.raycast(e,n),i===!0)for(var o=t.children,a=0,s=o.length;a<s;a++)r(o[a],e,n,!0)};t.Raycaster.prototype={constructor:t.Raycaster,precision:1e-4,linePrecision:1,set:function(t,e){this.ray.set(t,e)},intersectObject:function(t,n){var i=[];return r(t,this,i,n),i.sort(e),i},intersectObjects:function(t,n){var i=[];if(t instanceof Array==!1)return console.log("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=t.length;o<a;o++)r(t[o],this,i,n);return i.sort(e),i}}}(i),i.Object3D=function(){Object.defineProperty(this,"id",{value:i.Object3DIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=i.Object3D.DefaultUp.clone();var t=new i.Vector3,e=new i.Euler,r=new i.Quaternion,n=new i.Vector3(1,1,1),o=function(){r.setFromEuler(e,!1)},a=function(){e.setFromQuaternion(r,void 0,!1)};e.onChange(o),r.onChange(a),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n}}),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new i.Matrix4,this.matrixWorld=new i.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},i.Object3D.DefaultUp=new i.Vector3(0,1,0),i.Object3D.prototype={constructor:i.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order},set eulerOrder(t){console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=t},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new i.Quaternion;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new i.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new i.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new i.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new i.Vector3;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},translateX:function(){var t=new i.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new i.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new i.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new i.Matrix4;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new i.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add:",t,"can't be added as a child of itself."),this):(t instanceof i.Object3D?(void 0!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add:",t,"is not an instance of THREE.Object3D."),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var r=this.children.indexOf(t);r!==-1&&(t.parent=void 0,t.dispatchEvent({type:"removed"}),this.children.splice(r,1))},getChildByName:function(t,e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t,e)},getObjectById:function(t,e){if(this.id===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r],o=i.getObjectById(t,e);if(void 0!==o)return o}},getObjectByName:function(t,e){if(this.name===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r],o=i.getObjectByName(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new i.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new i.Vector3,e=new i.Vector3;return function(r){var n=r||new i.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new i.Quaternion;return function(e){var r=e||new i.Euler;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new i.Vector3,e=new i.Quaternion;return function(r){var n=r||new i.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new i.Quaternion;return function(e){var r=e||new i.Vector3;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=0,r=this.children.length;e<r;e++)this.children[e].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=0,r=this.children.length;e<r;e++)this.children[e].traverseVisible(t)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,r=this.children.length;e<r;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(){var t={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},e={},r=function(r){if(void 0===t.geometries&&(t.geometries=[]),void 0===e[r.uuid]){var n=r.toJSON();delete n.metadata,e[r.uuid]=n,t.geometries.push(n)}return r.uuid},n={},o=function(e){if(void 0===t.materials&&(t.materials=[]),void 0===n[e.uuid]){var r=e.toJSON();delete r.metadata,n[e.uuid]=r,t.materials.push(r)}return e.uuid},a=function(t){var e={};if(e.uuid=t.uuid,e.type=t.type,""!==t.name&&(e.name=t.name),"{}"!==JSON.stringify(t.userData)&&(e.userData=t.userData),t.visible!==!0&&(e.visible=t.visible),t instanceof i.PerspectiveCamera?(e.fov=t.fov,e.aspect=t.aspect,e.near=t.near,e.far=t.far):t instanceof i.OrthographicCamera?(e.left=t.left,e.right=t.right,e.top=t.top,e.bottom=t.bottom,e.near=t.near,e.far=t.far):t instanceof i.AmbientLight?e.color=t.color.getHex():t instanceof i.DirectionalLight?(e.color=t.color.getHex(),e.intensity=t.intensity):t instanceof i.PointLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance):t instanceof i.SpotLight?(e.color=t.color.getHex(),e.intensity=t.intensity,e.distance=t.distance,e.angle=t.angle,e.exponent=t.exponent):t instanceof i.HemisphereLight?(e.color=t.color.getHex(),e.groundColor=t.groundColor.getHex()):t instanceof i.Mesh?(e.geometry=r(t.geometry),e.material=o(t.material)):t instanceof i.Line?(e.geometry=r(t.geometry),e.material=o(t.material)):t instanceof i.Sprite&&(e.material=o(t.material)),e.matrix=t.matrix.toArray(),t.children.length>0){e.children=[];for(var n=0;n<t.children.length;n++)e.children.push(a(t.children[n]))}return e};return t.object=a(this),t},clone:function(t,e){if(void 0===t&&(t=new i.Object3D),void 0===e&&(e=!0),t.name=this.name,t.up.copy(this.up),t.position.copy(this.position),t.quaternion.copy(this.quaternion),t.scale.copy(this.scale),t.renderDepth=this.renderDepth,t.rotationAutoUpdate=this.rotationAutoUpdate,t.matrix.copy(this.matrix),t.matrixWorld.copy(this.matrixWorld),t.matrixAutoUpdate=this.matrixAutoUpdate,t.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,t.visible=this.visible,t.castShadow=this.castShadow,t.receiveShadow=this.receiveShadow,t.frustumCulled=this.frustumCulled,t.userData=JSON.parse(JSON.stringify(this.userData)),e===!0)for(var r=0;r<this.children.length;r++){var n=this.children[r];t.add(n.clone())}return t}},i.EventDispatcher.prototype.apply(i.Object3D.prototype),i.Object3DIdCount=0,i.Projector=function(){console.warn("THREE.Projector has been moved to /examples/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() has been removed.")}},i.Face3=function(t,e,r,n,o,a){this.a=t,this.b=e,this.c=r,this.normal=n instanceof i.Vector3?n:new i.Vector3,this.vertexNormals=n instanceof Array?n:[],this.color=o instanceof i.Color?o:new i.Color,this.vertexColors=o instanceof Array?o:[],this.vertexTangents=[],this.materialIndex=void 0!==a?a:0},i.Face3.prototype={constructor:i.Face3,clone:function(){var t=new i.Face3(this.a,this.b,this.c);t.normal.copy(this.normal),t.color.copy(this.color),t.materialIndex=this.materialIndex;for(var e=0,r=this.vertexNormals.length;e<r;e++)t.vertexNormals[e]=this.vertexNormals[e].clone();for(var e=0,r=this.vertexColors.length;e<r;e++)t.vertexColors[e]=this.vertexColors[e].clone();for(var e=0,r=this.vertexTangents.length;e<r;e++)t.vertexTangents[e]=this.vertexTangents[e].clone();return t}},i.Face4=function(t,e,r,n,o,a,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new i.Face3(t,e,r,o,a,s)},i.BufferAttribute=function(t,e){this.array=t,this.itemSize=e,this.needsUpdate=!1},i.BufferAttribute.prototype={constructor:i.BufferAttribute,get length(){return this.array.length},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n]},set:function(t){return this.array.set(t),this},setX:function(t,e){return this.array[t*this.itemSize]=e,this},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},clone:function(){return new i.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},i.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new i.BufferAttribute(t,e)},i.BufferGeometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},i.BufferGeometry.prototype={constructor:i.BufferGeometry,addAttribute:function(t,e){return e instanceof i.BufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[t]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[t]=e,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(t){return this.attributes[t]},addDrawCall:function(t,e,r){this.drawcalls.push({start:t,count:e,index:void 0!==r?r:0})},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new i.Matrix3).getNormalMatrix(t);n.applyToVector3Array(r.array),r.needsUpdate=!0}},center:function(){},fromGeometry:function(t,e){e=e||{vertexColors:i.NoColors};var r=t.vertices,n=t.faces,o=t.faceVertexUvs,a=e.vertexColors,s=o[0].length>0,c=3==n[0].vertexNormals.length,l=new Float32Array(3*n.length*3);this.addAttribute("position",new i.BufferAttribute(l,3));var u=new Float32Array(3*n.length*3);if(this.addAttribute("normal",new i.BufferAttribute(u,3)),a!==i.NoColors){var h=new Float32Array(3*n.length*3);this.addAttribute("color",new i.BufferAttribute(h,3))}if(s===!0){var f=new Float32Array(3*n.length*2);this.addAttribute("uv",new i.BufferAttribute(f,2))}for(var p=0,d=0,m=0;p<n.length;p++,d+=6,m+=9){var v=n[p],g=r[v.a],y=r[v.b],x=r[v.c];if(l[m]=g.x,l[m+1]=g.y,l[m+2]=g.z,l[m+3]=y.x,l[m+4]=y.y,l[m+5]=y.z,l[m+6]=x.x,l[m+7]=x.y,l[m+8]=x.z,c===!0){var b=v.vertexNormals[0],_=v.vertexNormals[1],w=v.vertexNormals[2];u[m]=b.x,u[m+1]=b.y,u[m+2]=b.z,u[m+3]=_.x,u[m+4]=_.y,u[m+5]=_.z,u[m+6]=w.x,u[m+7]=w.y,u[m+8]=w.z}else{var M=v.normal;u[m]=M.x,u[m+1]=M.y,u[m+2]=M.z,u[m+3]=M.x,u[m+4]=M.y,u[m+5]=M.z,u[m+6]=M.x,u[m+7]=M.y,u[m+8]=M.z}if(a===i.FaceColors){var S=v.color;h[m]=S.r,h[m+1]=S.g,h[m+2]=S.b,h[m+3]=S.r,h[m+4]=S.g,h[m+5]=S.b,h[m+6]=S.r,h[m+7]=S.g,h[m+8]=S.b}else if(a===i.VertexColors){var T=v.vertexColors[0],C=v.vertexColors[1],A=v.vertexColors[2];h[m]=T.r,h[m+1]=T.g,h[m+2]=T.b,h[m+3]=C.r,h[m+4]=C.g,h[m+5]=C.b,h[m+6]=A.r,h[m+7]=A.g,h[m+8]=A.b}if(s===!0){var E=o[0][p][0],L=o[0][p][1],P=o[0][p][2];f[d]=E.x,f[d+1]=E.y,f[d+2]=L.x,f[d+3]=L.y,f[d+4]=P.x,f[d+5]=P.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var t=new i.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new i.Box3);var e=this.attributes.position.array;if(e){var r=this.boundingBox;r.makeEmpty();for(var n=0,o=e.length;n<o;n+=3)t.set(e[n],e[n+1],e[n+2]),r.expandByPoint(t)}void 0!==e&&0!==e.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var t=new i.Box3,e=new i.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere);var r=this.attributes.position.array;if(r){t.makeEmpty();for(var n=this.boundingSphere.center,o=0,a=r.length;o<a;o+=3)e.set(r[o],r[o+1],r[o+2]),t.expandByPoint(e);t.center(n);for(var s=0,o=0,a=r.length;o<a;o+=3)e.set(r[o],r[o+1],r[o+2]),s=Math.max(s,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.attributes;if(t.position){var e=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new i.BufferAttribute(new Float32Array(e.length),3));else for(var r=t.normal.array,n=0,o=r.length;n<o;n++)r[n]=0;var a,s,c,r=t.normal.array,l=new i.Vector3,u=new i.Vector3,h=new i.Vector3,f=new i.Vector3,p=new i.Vector3;if(t.index)for(var d=t.index.array,m=this.offsets.length>0?this.offsets:[{start:0,count:d.length,index:0}],v=0,g=m.length;v<g;++v)for(var y=m[v].start,x=m[v].count,b=m[v].index,n=y,o=y+x;n<o;n+=3)a=3*(b+d[n]),s=3*(b+d[n+1]),c=3*(b+d[n+2]),l.fromArray(e,a),u.fromArray(e,s),h.fromArray(e,c),f.subVectors(h,u),p.subVectors(l,u),f.cross(p),r[a]+=f.x,r[a+1]+=f.y,r[a+2]+=f.z,r[s]+=f.x,r[s+1]+=f.y,r[s+2]+=f.z,r[c]+=f.x,r[c+1]+=f.y,r[c+2]+=f.z;else for(var n=0,o=e.length;n<o;n+=9)l.fromArray(e,n),u.fromArray(e,n+3),h.fromArray(e,n+6),f.subVectors(h,u),p.subVectors(l,u),f.cross(p),r[n]=f.x,r[n+1]=f.y,r[n+2]=f.z,r[n+3]=f.x,r[n+4]=f.y,r[n+5]=f.z,r[n+6]=f.x,r[n+7]=f.y,r[n+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},computeTangents:function(){function t(t,e,r){P.fromArray(n,3*t),k.fromArray(n,3*e),R.fromArray(n,3*r),D.fromArray(a,2*t),F.fromArray(a,2*e),O.fromArray(a,2*r),f=k.x-P.x,p=R.x-P.x,d=k.y-P.y,m=R.y-P.y,v=k.z-P.z,g=R.z-P.z,y=F.x-D.x,x=O.x-D.x,b=F.y-D.y,_=O.y-D.y,w=1/(y*_-x*b),N.set((_*f-b*p)*w,(_*d-b*m)*w,(_*v-b*g)*w),U.set((y*p-x*f)*w,(y*m-x*d)*w,(y*g-x*v)*w),l[t].add(N),l[e].add(N),l[r].add(N),u[t].add(U),u[e].add(U),u[r].add(U)}function e(t){$.fromArray(o,3*t),q.copy($),j=l[t],W.copy(j),W.sub($.multiplyScalar($.dot(j))).normalize(),X.crossVectors(q,j),G=X.dot(u[t]),H=G<0?-1:1,c[4*t]=W.x,c[4*t+1]=W.y,c[4*t+2]=W.z,c[4*t+3]=H}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var r=this.attributes.index.array,n=this.attributes.position.array,o=this.attributes.normal.array,a=this.attributes.uv.array,s=n.length/3;
void 0===this.attributes.tangent&&this.addAttribute("tangent",new i.BufferAttribute(new Float32Array(4*s),4));for(var c=this.attributes.tangent.array,l=[],u=[],h=0;h<s;h++)l[h]=new i.Vector3,u[h]=new i.Vector3;var f,p,d,m,v,g,y,x,b,_,w,M,S,T,C,A,E,L,P=new i.Vector3,k=new i.Vector3,R=new i.Vector3,D=new i.Vector2,F=new i.Vector2,O=new i.Vector2,N=new i.Vector3,U=new i.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,r.length,0);var B=this.drawcalls;for(T=0,C=B.length;T<C;++T){var z=B[T].start,V=B[T].count,I=B[T].index;for(M=z,S=z+V;M<S;M+=3)A=I+r[M],E=I+r[M+1],L=I+r[M+2],t(A,E,L)}var H,j,G,W=new i.Vector3,X=new i.Vector3,$=new i.Vector3,q=new i.Vector3;for(T=0,C=B.length;T<C;++T){var z=B[T].start,V=B[T].count,I=B[T].index;for(M=z,S=z+V;M<S;M+=3)A=I+r[M],E=I+r[M+1],L=I+r[M+2],e(A),e(E),e(L)}},computeOffsets:function(t){var e=t;void 0===t&&(e=65535);for(var r=(Date.now(),this.attributes.index.array),n=this.attributes.position.array,i=(n.length/3,r.length/3),o=new Uint16Array(r.length),a=0,s=0,c=[{start:0,count:0,index:0}],l=c[0],u=0,h=0,f=new Int32Array(6),p=new Int32Array(n.length),d=new Int32Array(n.length),m=0;m<n.length;m++)p[m]=-1,d[m]=-1;for(var v=0;v<i;v++){h=0;for(var g=0;g<3;g++){var y=r[3*v+g];p[y]==-1?(f[2*g]=y,f[2*g+1]=-1,h++):p[y]<l.index?(f[2*g]=y,f[2*g+1]=-1,u++):(f[2*g]=y,f[2*g+1]=p[y])}var x=s+h;if(x>l.index+e){var b={start:a,count:0,index:s};c.push(b),l=b;for(var _=0;_<6;_+=2){var w=f[_+1];w>-1&&w<l.index&&(f[_+1]=-1)}}for(var _=0;_<6;_+=2){var y=f[_],w=f[_+1];w===-1&&(w=s++),p[y]=w,d[w]=y,o[a++]=w-l.index,l.count++}}return this.reorderBuffers(o,d,s),this.offsets=c,c},merge:function(){console.log("BufferGeometry.merge(): TODO")},normalizeNormals:function(){for(var t,e,r,n,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],r=i[o+2],n=1/Math.sqrt(t*t+e*e+r*r),i[o]*=n,i[o+1]*=n,i[o+2]*=n},reorderBuffers:function(t,e,r){var n={};for(var i in this.attributes)if("index"!=i){var o=this.attributes[i].array;n[i]=new o.constructor(this.attributes[i].itemSize*r)}for(var a=0;a<r;a++){var s=e[a];for(var i in this.attributes)if("index"!=i)for(var c=this.attributes[i].array,l=this.attributes[i].itemSize,u=n[i],h=0;h<l;h++)u[a*l+h]=c[s*l+h]}this.attributes.index.array=t;for(var i in this.attributes)"index"!=i&&(this.attributes[i].array=n[i],this.attributes[i].numItems=this.attributes[i].itemSize*r)},toJSON:function(){var t={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},e=this.attributes,r=this.offsets,n=this.boundingSphere;for(var i in e){for(var o=e[i],a=[],s=o.array,c=0,l=s.length;c<l;c++)a[c]=s[c];t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:a}}return r.length>0&&(t.data.offsets=JSON.parse(JSON.stringify(r))),null!==n&&(t.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),t},clone:function(){var t=new i.BufferGeometry;for(var e in this.attributes){var r=this.attributes[e];t.addAttribute(e,r.clone())}for(var n=0,o=this.offsets.length;n<o;n++){var a=this.offsets[n];t.offsets.push({start:a.start,index:a.index,count:a.count})}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.BufferGeometry.prototype),i.Geometry=function(){Object.defineProperty(this,"id",{value:i.GeometryIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},i.Geometry.prototype={constructor:i.Geometry,applyMatrix:function(t){for(var e=(new i.Matrix3).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){var o=this.vertices[r];o.applyMatrix4(t)}for(var r=0,n=this.faces.length;r<n;r++){var a=this.faces[r];a.normal.applyMatrix3(e).normalize();for(var s=0,c=a.vertexNormals.length;s<c;s++)a.vertexNormals[s].applyMatrix3(e).normalize()}this.boundingBox instanceof i.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof i.Sphere&&this.computeBoundingSphere()},fromBufferGeometry:function(t){for(var e=this,r=t.attributes,n=r.position.array,o=void 0!==r.index?r.index.array:void 0,a=void 0!==r.normal?r.normal.array:void 0,s=void 0!==r.color?r.color.array:void 0,c=void 0!==r.uv?r.uv.array:void 0,l=[],u=[],h=0,f=0;h<n.length;h+=3,f+=2)e.vertices.push(new i.Vector3(n[h],n[h+1],n[h+2])),void 0!==a&&l.push(new i.Vector3(a[h],a[h+1],a[h+2])),void 0!==s&&e.colors.push(new i.Color(s[h],s[h+1],s[h+2])),void 0!==c&&u.push(new i.Vector2(c[f],c[f+1]));var p=function(t,r,n){var o=void 0!==a?[l[t].clone(),l[r].clone(),l[n].clone()]:[],c=void 0!==s?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[];e.faces.push(new i.Face3(t,r,n,o,c)),e.faceVertexUvs[0].push([u[t],u[r],u[n]])};if(void 0!==o)for(var h=0;h<o.length;h+=3)p(o[h],o[h+1],o[h+2]);else for(var h=0;h<n.length/3;h+=3)p(h,h+1,h+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=new i.Vector3;return t.addVectors(this.boundingBox.min,this.boundingBox.max),t.multiplyScalar(-.5),this.applyMatrix((new i.Matrix4).makeTranslation(t.x,t.y,t.z)),this.computeBoundingBox(),t},computeFaceNormals:function(){for(var t=new i.Vector3,e=new i.Vector3,r=0,n=this.faces.length;r<n;r++){var o=this.faces[r],a=this.vertices[o.a],s=this.vertices[o.b],c=this.vertices[o.c];t.subVectors(c,s),e.subVectors(a,s),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,r,n,o,a,s;for(s=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)s[e]=new i.Vector3;if(t){var c,l,u,h=new i.Vector3,f=new i.Vector3;new i.Vector3,new i.Vector3,new i.Vector3;for(n=0,o=this.faces.length;n<o;n++)a=this.faces[n],c=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),f.subVectors(c,l),h.cross(f),s[a.a].add(h),s[a.b].add(h),s[a.c].add(h)}else for(n=0,o=this.faces.length;n<o;n++)a=this.faces[n],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(e=0,r=this.vertices.length;e<r;e++)s[e].normalize();for(n=0,o=this.faces.length;n<o;n++)a=this.faces[n],a.vertexNormals[0]=s[a.a].clone(),a.vertexNormals[1]=s[a.b].clone(),a.vertexNormals[2]=s[a.c].clone()},computeMorphNormals:function(){var t,e,r,n,o;for(r=0,n=this.faces.length;r<n;r++)for(o=this.faces[r],o.__originalFaceNormal?o.__originalFaceNormal.copy(o.normal):o.__originalFaceNormal=o.normal.clone(),o.__originalVertexNormals||(o.__originalVertexNormals=[]),t=0,e=o.vertexNormals.length;t<e;t++)o.__originalVertexNormals[t]?o.__originalVertexNormals[t].copy(o.vertexNormals[t]):o.__originalVertexNormals[t]=o.vertexNormals[t].clone();var a=new i.Geometry;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var s,c,l=this.morphNormals[t].faceNormals,u=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)s=new i.Vector3,c={a:new i.Vector3,b:new i.Vector3,c:new i.Vector3},l.push(s),u.push(c)}var h=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,c;for(r=0,n=this.faces.length;r<n;r++)o=this.faces[r],s=h.faceNormals[r],c=h.vertexNormals[r],s.copy(o.normal),c.a.copy(o.vertexNormals[0]),c.b.copy(o.vertexNormals[1]),c.c.copy(o.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)o=this.faces[r],o.normal=o.__originalFaceNormal,o.vertexNormals=o.__originalVertexNormals},computeTangents:function(){function t(t,e,r,n,i,o,a){u=t.vertices[e],h=t.vertices[r],f=t.vertices[n],p=l[i],d=l[o],m=l[a],v=h.x-u.x,g=f.x-u.x,y=h.y-u.y,x=f.y-u.y,b=h.z-u.z,_=f.z-u.z,w=d.x-p.x,M=m.x-p.x,S=d.y-p.y,T=m.y-p.y,C=1/(w*T-M*S),R.set((T*v-S*g)*C,(T*y-S*x)*C,(T*b-S*_)*C),D.set((w*g-M*v)*C,(w*x-M*y)*C,(w*_-M*b)*C),P[e].add(R),P[r].add(R),P[n].add(R),k[e].add(D),k[r].add(D),k[n].add(D)}var e,r,n,o,a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,_,w,M,S,T,C,A,E,L,P=[],k=[],R=new i.Vector3,D=new i.Vector3,F=new i.Vector3,O=new i.Vector3,N=new i.Vector3;for(n=0,o=this.vertices.length;n<o;n++)P[n]=new i.Vector3,k[n]=new i.Vector3;for(e=0,r=this.faces.length;e<r;e++)c=this.faces[e],l=this.faceVertexUvs[0][e],t(this,c.a,c.b,c.c,0,1,2);var U=["a","b","c","d"];for(e=0,r=this.faces.length;e<r;e++)for(c=this.faces[e],a=0;a<Math.min(c.vertexNormals.length,3);a++)N.copy(c.vertexNormals[a]),s=c[U[a]],A=P[s],F.copy(A),F.sub(N.multiplyScalar(N.dot(A))).normalize(),O.crossVectors(c.vertexNormals[a],A),E=O.dot(k[s]),L=E<0?-1:1,c.vertexTangents[a]=new i.Vector4(F.x,F.y,F.z,L);this.hasTangents=!0},computeLineDistances:function(){for(var t=0,e=this.vertices,r=0,n=e.length;r<n;r++)r>0&&(t+=e[r].distanceTo(e[r-1])),this.lineDistances[r]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new i.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new i.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t instanceof i.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var n,o=this.vertices.length,a=this.vertices,s=t.vertices,c=this.faces,l=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0];void 0===r&&(r=0),void 0!==e&&(n=(new i.Matrix3).getNormalMatrix(e));for(var f=0,p=s.length;f<p;f++){var d=s[f],m=d.clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(f=0,p=l.length;f<p;f++){var v,g,y,x=l[f],b=x.vertexNormals,_=x.vertexColors;v=new i.Face3(x.a+o,x.b+o,x.c+o),v.normal.copy(x.normal),void 0!==n&&v.normal.applyMatrix3(n).normalize();for(var w=0,M=b.length;w<M;w++)g=b[w].clone(),void 0!==n&&g.applyMatrix3(n).normalize(),v.vertexNormals.push(g);v.color.copy(x.color);for(var w=0,M=_.length;w<M;w++)y=_[w],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+r,c.push(v)}for(f=0,p=h.length;f<p;f++){var S=h[f],T=[];if(void 0!==S){for(var w=0,M=S.length;w<M;w++)T.push(new i.Vector2(S[w].x,S[w].y));u.push(T)}}},mergeVertices:function(){var t,e,r,n,i,o,a,s,c={},l=[],u=[],h=4,f=Math.pow(10,h);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],e=Math.round(t.x*f)+"_"+Math.round(t.y*f)+"_"+Math.round(t.z*f),void 0===c[e]?(c[e]=r,l.push(this.vertices[r]),u[r]=l.length-1):u[r]=u[c[e]];var p=[];for(r=0,n=this.faces.length;r<n;r++){i=this.faces[r],i.a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var d=-1,m=0;m<3;m++)if(o[m]==o[(m+1)%3]){d=m,p.push(r);break}}for(r=p.length-1;r>=0;r--){var v=p[r];for(this.faces.splice(v,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(v,1)}var g=this.vertices.length-l.length;return this.vertices=l,g},toJSON:function(){function t(t,e,r){return r?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function r(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],c=0;c<this.vertices.length;c++){var l=this.vertices[c];s.push(l.x,l.y,l.z)}for(var u=[],h=[],f={},p=[],d={},m=[],v={},c=0;c<this.faces.length;c++){var g=this.faces[c],y=!1,x=!1,b=void 0!==this.faceVertexUvs[0][c],_=g.normal.length()>0,w=g.vertexNormals.length>0,M=1!==g.color.r||1!==g.color.g||1!==g.color.b,S=g.vertexColors.length>0,T=0;if(T=t(T,0,0),T=t(T,1,y),T=t(T,2,x),T=t(T,3,b),T=t(T,4,_),T=t(T,5,w),T=t(T,6,M),T=t(T,7,S),u.push(T),u.push(g.a,g.b,g.c),b){var C=this.faceVertexUvs[0][c];u.push(n(C[0]),n(C[1]),n(C[2]))}if(_&&u.push(e(g.normal)),w){var A=g.vertexNormals;u.push(e(A[0]),e(A[1]),e(A[2]))}if(M&&u.push(r(g.color)),S){var E=g.vertexColors;u.push(r(E[0]),r(E[1]),r(E[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,p.length>0&&(i.data.colors=p),m.length>0&&(i.data.uvs=[m]),i.data.faces=u,i},clone:function(){for(var t=new i.Geometry,e=this.vertices,r=0,n=e.length;r<n;r++)t.vertices.push(e[r].clone());for(var o=this.faces,r=0,n=o.length;r<n;r++)t.faces.push(o[r].clone());for(var a=this.faceVertexUvs[0],r=0,n=a.length;r<n;r++){for(var s=a[r],c=[],l=0,u=s.length;l<u;l++)c.push(new i.Vector2(s[l].x,s[l].y));t.faceVertexUvs[0].push(c)}return t},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Geometry.prototype),i.GeometryIdCount=0,i.Camera=function(){i.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new i.Matrix4,this.projectionMatrix=new i.Matrix4},i.Camera.prototype=Object.create(i.Object3D.prototype),i.Camera.prototype.getWorldDirection=function(){var t=new i.Quaternion;return function(e){var r=e||new i.Vector3;return this.getWorldQuaternion(t),r.set(0,0,-1).applyQuaternion(t)}}(),i.Camera.prototype.lookAt=function(){var t=new i.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),i.Camera.prototype.clone=function(t){return void 0===t&&(t=new i.Camera),i.Object3D.prototype.clone.call(this,t),t.matrixWorldInverse.copy(this.matrixWorldInverse),t.projectionMatrix.copy(this.projectionMatrix),t},i.CubeCamera=function(t,e,r){i.Object3D.call(this),this.type="CubeCamera";var n=90,o=1,a=new i.PerspectiveCamera(n,o,t,e);a.up.set(0,-1,0),a.lookAt(new i.Vector3(1,0,0)),this.add(a);var s=new i.PerspectiveCamera(n,o,t,e);s.up.set(0,-1,0),s.lookAt(new i.Vector3(-1,0,0)),this.add(s);var c=new i.PerspectiveCamera(n,o,t,e);c.up.set(0,0,1),c.lookAt(new i.Vector3(0,1,0)),this.add(c);var l=new i.PerspectiveCamera(n,o,t,e);l.up.set(0,0,-1),l.lookAt(new i.Vector3(0,-1,0)),this.add(l);var u=new i.PerspectiveCamera(n,o,t,e);u.up.set(0,-1,0),u.lookAt(new i.Vector3(0,0,1)),this.add(u);var h=new i.PerspectiveCamera(n,o,t,e);h.up.set(0,-1,0),h.lookAt(new i.Vector3(0,0,-1)),this.add(h),this.renderTarget=new i.WebGLRenderTargetCube(r,r,{format:i.RGBFormat,magFilter:i.LinearFilter,minFilter:i.LinearFilter}),this.updateCubeMap=function(t,e){var r=this.renderTarget,n=r.generateMipmaps;r.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,a,r),r.activeCubeFace=1,t.render(e,s,r),r.activeCubeFace=2,t.render(e,c,r),r.activeCubeFace=3,t.render(e,l,r),r.activeCubeFace=4,t.render(e,u,r),r.generateMipmaps=n,r.activeCubeFace=5,t.render(e,h,r)}},i.CubeCamera.prototype=Object.create(i.Object3D.prototype),i.OrthographicCamera=function(t,e,r,n,o,a){i.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==o?o:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},i.OrthographicCamera.prototype=Object.create(i.Camera.prototype),i.OrthographicCamera.prototype.updateProjectionMatrix=function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(r-t,r+t,n+e,n-e,this.near,this.far)},i.OrthographicCamera.prototype.clone=function(){var t=new i.OrthographicCamera;return i.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},i.PerspectiveCamera=function(t,e,r,n){i.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==t?t:50,this.aspect=void 0!==e?e:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype=Object.create(i.Camera.prototype),i.PerspectiveCamera.prototype.setLens=function(t,e){void 0===e&&(e=24),this.fov=2*i.Math.radToDeg(Math.atan(e/(2*t))),this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.setViewOffset=function(t,e,r,n,i,o){this.fullWidth=t,this.fullHeight=e,this.x=r,this.y=n,this.width=i,this.height=o,this.updateProjectionMatrix()},i.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var t=i.Math.radToDeg(2*Math.atan(Math.tan(.5*i.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var e=this.fullWidth/this.fullHeight,r=Math.tan(i.Math.degToRad(.5*t))*this.near,n=-r,o=e*n,a=e*r,s=Math.abs(a-o),c=Math.abs(r-n);this.projectionMatrix.makeFrustum(o+this.x*s/this.fullWidth,o+(this.x+this.width)*s/this.fullWidth,r-(this.y+this.height)*c/this.fullHeight,r-this.y*c/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(t,this.aspect,this.near,this.far)},i.PerspectiveCamera.prototype.clone=function(){var t=new i.PerspectiveCamera;return i.Camera.prototype.clone.call(this,t),t.zoom=this.zoom,t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t.projectionMatrix.copy(this.projectionMatrix),t},i.Light=function(t){i.Object3D.call(this),this.type="Light",this.color=new i.Color(t)},i.Light.prototype=Object.create(i.Object3D.prototype),i.Light.prototype.clone=function(t){return void 0===t&&(t=new i.Light),i.Object3D.prototype.clone.call(this,t),t.color.copy(this.color),t},i.AmbientLight=function(t){i.Light.call(this,t),this.type="AmbientLight"},i.AmbientLight.prototype=Object.create(i.Light.prototype),i.AmbientLight.prototype.clone=function(){var t=new i.AmbientLight;return i.Light.prototype.clone.call(this,t),t},i.AreaLight=function(t,e){i.Light.call(this,t),this.type="AreaLight",this.normal=new i.Vector3(0,-1,0),this.right=new i.Vector3(1,0,0),this.intensity=void 0!==e?e:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},i.AreaLight.prototype=Object.create(i.Light.prototype),i.DirectionalLight=function(t,e){i.Light.call(this,t),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new i.Object3D,this.intensity=void 0!==e?e:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new i.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},i.DirectionalLight.prototype=Object.create(i.Light.prototype),i.DirectionalLight.prototype.clone=function(){var t=new i.DirectionalLight;return i.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraLeft=this.shadowCameraLeft,t.shadowCameraRight=this.shadowCameraRight,t.shadowCameraTop=this.shadowCameraTop,t.shadowCameraBottom=this.shadowCameraBottom,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t.shadowCascade=this.shadowCascade,t.shadowCascadeOffset.copy(this.shadowCascadeOffset),t.shadowCascadeCount=this.shadowCascadeCount,t.shadowCascadeBias=this.shadowCascadeBias.slice(0),t.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),t.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),t.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),t.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),t},i.HemisphereLight=function(t,e,r){i.Light.call(this,t),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new i.Color(e),this.intensity=void 0!==r?r:1},i.HemisphereLight.prototype=Object.create(i.Light.prototype),i.HemisphereLight.prototype.clone=function(){var t=new i.HemisphereLight;return i.Light.prototype.clone.call(this,t),t.groundColor.copy(this.groundColor),t.intensity=this.intensity,t},i.PointLight=function(t,e,r){i.Light.call(this,t),this.type="PointLight",this.intensity=void 0!==e?e:1,this.distance=void 0!==r?r:0},i.PointLight.prototype=Object.create(i.Light.prototype),i.PointLight.prototype.clone=function(){var t=new i.PointLight;return i.Light.prototype.clone.call(this,t),t.intensity=this.intensity,t.distance=this.distance,t},i.SpotLight=function(t,e,r,n,o){i.Light.call(this,t),this.type="SpotLight",this.position.set(0,1,0),this.target=new i.Object3D,this.intensity=void 0!==e?e:1,this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.exponent=void 0!==o?o:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},i.SpotLight.prototype=Object.create(i.Light.prototype),i.SpotLight.prototype.clone=function(){var t=new i.SpotLight;return i.Light.prototype.clone.call(this,t),t.target=this.target.clone(),t.intensity=this.intensity,t.distance=this.distance,t.angle=this.angle,t.exponent=this.exponent,t.castShadow=this.castShadow,t.onlyShadow=this.onlyShadow,t.shadowCameraNear=this.shadowCameraNear,t.shadowCameraFar=this.shadowCameraFar,t.shadowCameraFov=this.shadowCameraFov,t.shadowCameraVisible=this.shadowCameraVisible,t.shadowBias=this.shadowBias,t.shadowDarkness=this.shadowDarkness,t.shadowMapWidth=this.shadowMapWidth,t.shadowMapHeight=this.shadowMapHeight,t},i.Cache=function(){this.files={}},i.Cache.prototype={constructor:i.Cache,add:function(t,e){this.files[t]=e},get:function(t){return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},i.Loader=function(t){this.showStatus=t,this.statusDomElement=t?i.Loader.prototype.addStatusElement():null,this.imageLoader=new i.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},i.Loader.prototype={constructor:i.Loader,crossOrigin:void 0,addStatusElement:function(){var t=document.createElement("div");return t.style.position="absolute",t.style.right="0px",t.style.top="0px",t.style.fontSize="0.8em",t.style.textAlign="left",t.style.background="rgba(0,0,0,0.25)",t.style.color="#fff",t.style.width="120px",t.style.padding="0.5em 0.5em 0.5em 0.5em",t.style.zIndex=1e3,t.innerHTML="Loading ...",t},updateProgress:function(t){var e="Loaded ";e+=t.total?(100*t.loaded/t.total).toFixed(0)+"%":(t.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=e},extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e);return r},needsTangents:function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];if(n instanceof i.ShaderMaterial)return!0}return!1},createMaterial:function(t,e){function r(t){var e=Math.log(t)/Math.LN2;return Math.pow(2,Math.round(e))}function n(t,n,o,s,c,l,u){var h,f=e+o,p=i.Loader.Handlers.get(f);if(null!==p?h=p.load(f):(h=new i.Texture,p=a.imageLoader,p.crossOrigin=a.crossOrigin,p.load(f,function(t){if(i.Math.isPowerOfTwo(t.width)===!1||i.Math.isPowerOfTwo(t.height)===!1){var e=r(t.width),n=r(t.height),o=document.createElement("canvas");o.width=e,o.height=n;var a=o.getContext("2d");a.drawImage(t,0,0,e,n),h.image=o}else h.image=t;h.needsUpdate=!0})),h.sourceFile=o,s&&(h.repeat.set(s[0],s[1]),1!==s[0]&&(h.wrapS=i.RepeatWrapping),1!==s[1]&&(h.wrapT=i.RepeatWrapping)),c&&h.offset.set(c[0],c[1]),l){var d={repeat:i.RepeatWrapping,mirror:i.MirroredRepeatWrapping};void 0!==d[l[0]]&&(h.wrapS=d[l[0]]),void 0!==d[l[1]]&&(h.wrapT=d[l[1]])}u&&(h.anisotropy=u),t[n]=h}function o(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]}var a=this,s="MeshLambertMaterial",c={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(t.shading){var l=t.shading.toLowerCase();"phong"===l?s="MeshPhongMaterial":"basic"===l&&(s="MeshBasicMaterial")}if(void 0!==t.blending&&void 0!==i[t.blending]&&(c.blending=i[t.blending]),(void 0!==t.transparent||t.opacity<1)&&(c.transparent=t.transparent),void 0!==t.depthTest&&(c.depthTest=t.depthTest),void 0!==t.depthWrite&&(c.depthWrite=t.depthWrite),void 0!==t.visible&&(c.visible=t.visible),void 0!==t.flipSided&&(c.side=i.BackSide),void 0!==t.doubleSided&&(c.side=i.DoubleSide),void 0!==t.wireframe&&(c.wireframe=t.wireframe),void 0!==t.vertexColors&&("face"===t.vertexColors?c.vertexColors=i.FaceColors:t.vertexColors&&(c.vertexColors=i.VertexColors)),t.colorDiffuse?c.color=o(t.colorDiffuse):t.DbgColor&&(c.color=t.DbgColor),t.colorSpecular&&(c.specular=o(t.colorSpecular)),t.colorAmbient&&(c.ambient=o(t.colorAmbient)),t.colorEmissive&&(c.emissive=o(t.colorEmissive)),t.transparency&&(c.opacity=t.transparency),t.specularCoef&&(c.shininess=t.specularCoef),t.mapDiffuse&&e&&n(c,"map",t.mapDiffuse,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy),t.mapLight&&e&&n(c,"lightMap",t.mapLight,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy),t.mapBump&&e&&n(c,"bumpMap",t.mapBump,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy),t.mapNormal&&e&&n(c,"normalMap",t.mapNormal,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy),t.mapSpecular&&e&&n(c,"specularMap",t.mapSpecular,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy),t.mapAlpha&&e&&n(c,"alphaMap",t.mapAlpha,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy),t.mapBumpScale&&(c.bumpScale=t.mapBumpScale),t.mapNormal){var u=i.ShaderLib.normalmap,h=i.UniformsUtils.clone(u.uniforms);h.tNormal.value=c.normalMap,t.mapNormalFactor&&h.uNormalScale.value.set(t.mapNormalFactor,t.mapNormalFactor),c.map&&(h.tDiffuse.value=c.map,h.enableDiffuse.value=!0),c.specularMap&&(h.tSpecular.value=c.specularMap,h.enableSpecular.value=!0),c.lightMap&&(h.tAO.value=c.lightMap,h.enableAO.value=!0),h.diffuse.value.setHex(c.color),h.specular.value.setHex(c.specular),h.ambient.value.setHex(c.ambient),h.shininess.value=c.shininess,void 0!==c.opacity&&(h.opacity.value=c.opacity);var f={fragmentShader:u.fragmentShader,vertexShader:u.vertexShader,uniforms:h,lights:!0,fog:!0},p=new i.ShaderMaterial(f);c.transparent&&(p.transparent=!0)}else var p=new i[s](c);return void 0!==t.DbgName&&(p.name=t.DbgName),p}},i.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=0,r=this.handlers.length;e<r;e+=2){var n=this.handlers[e],i=this.handlers[e+1];if(n.test(t))return i}return null}},i.XHRLoader=function(t){this.cache=new i.Cache,this.manager=void 0!==t?t:i.DefaultLoadingManager},i.XHRLoader.prototype={constructor:i.XHRLoader,load:function(t,e,r,n){var i=this,o=i.cache.get(t);if(void 0!==o)return void(e&&e(o));var a=new XMLHttpRequest;a.open("GET",t,!0),a.addEventListener("load",function(r){i.cache.add(t,this.response),e&&e(this.response),i.manager.itemEnd(t)},!1),void 0!==r&&a.addEventListener("progress",function(t){r(t)},!1),void 0!==n&&a.addEventListener("error",function(t){n(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),a.send(null),i.manager.itemStart(t)},setResponseType:function(t){this.responseType=t},setCrossOrigin:function(t){this.crossOrigin=t}};i.ImageLoader=function(t){this.cache=new i.Cache,this.manager=void 0!==t?t:i.DefaultLoadingManager};i.ImageLoader.prototype={constructor:i.ImageLoader,load:function(t,e,r,n){var i=this,o=i.cache.get(t);if(void 0!==o)return void e(o);var a=document.createElement("img");return void 0!==e&&a.addEventListener("load",function(r){i.cache.add(t,this),e(this),i.manager.itemEnd(t)},!1),void 0!==r&&a.addEventListener("progress",function(t){r(t)},!1),void 0!==n&&a.addEventListener("error",function(t){n(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=t,i.manager.itemStart(t),a},setCrossOrigin:function(t){this.crossOrigin=t}},i.JSONLoader=function(t){i.Loader.call(this,t),this.withCredentials=!1},i.JSONLoader.prototype=Object.create(i.Loader.prototype),i.JSONLoader.prototype.load=function(t,e,r){r=r&&"string"==typeof r?r:this.extractUrlBase(t),this.onLoadStart(),this.loadAjaxJSON(this,t,e,r)},i.JSONLoader.prototype.loadAjaxJSON=function(t,e,r,n,i){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+e+'" seems to be a Scene. Use THREE.SceneLoader instead.');var c=t.parse(s,n);r(c.geometry,c.materials)}else console.error('THREE.JSONLoader: "'+e+'" seems to be unreachable or the file is empty.');t.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+e+'" ('+o.status+")");else o.readyState===o.LOADING?i&&(0===a&&(a=o.getResponseHeader("Content-Length")),i({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&void 0!==i&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",e,!0),o.withCredentials=this.withCredentials,o.send(null)},i.JSONLoader.prototype.parse=function(t,e){function r(e){function r(t,e){return t&1<<e}var n,o,s,c,l,u,h,f,p,d,m,v,g,y,x,b,_,w,M,S,T,C,A,E,L,P,k,R=t.faces,D=t.vertices,F=t.normals,O=t.colors,N=0;if(void 0!==t.uvs){for(n=0;n<t.uvs.length;n++)t.uvs[n].length&&N++;for(n=0;n<N;n++)a.faceVertexUvs[n]=[]}for(c=0,l=D.length;c<l;)w=new i.Vector3,w.x=D[c++]*e,w.y=D[c++]*e,w.z=D[c++]*e,a.vertices.push(w);for(c=0,l=R.length;c<l;)if(d=R[c++],m=r(d,0),v=r(d,1),g=r(d,3),y=r(d,4),x=r(d,5),b=r(d,6),_=r(d,7),m){if(S=new i.Face3,S.a=R[c],S.b=R[c+1],S.c=R[c+3],T=new i.Face3,T.a=R[c+1],T.b=R[c+2],T.c=R[c+3],c+=4,v&&(p=R[c++],S.materialIndex=p,T.materialIndex=p),s=a.faces.length,g)for(n=0;n<N;n++)for(E=t.uvs[n],a.faceVertexUvs[n][s]=[],a.faceVertexUvs[n][s+1]=[],o=0;o<4;o++)f=R[c++],P=E[2*f],k=E[2*f+1],L=new i.Vector2(P,k),2!==o&&a.faceVertexUvs[n][s].push(L),0!==o&&a.faceVertexUvs[n][s+1].push(L);if(y&&(h=3*R[c++],S.normal.set(F[h++],F[h++],F[h]),T.normal.copy(S.normal)),x)for(n=0;n<4;n++)h=3*R[c++],A=new i.Vector3(F[h++],F[h++],F[h]),2!==n&&S.vertexNormals.push(A),0!==n&&T.vertexNormals.push(A);if(b&&(u=R[c++],C=O[u],S.color.setHex(C),T.color.setHex(C)),_)for(n=0;n<4;n++)u=R[c++],C=O[u],2!==n&&S.vertexColors.push(new i.Color(C)),0!==n&&T.vertexColors.push(new i.Color(C));a.faces.push(S),a.faces.push(T)}else{if(M=new i.Face3,M.a=R[c++],M.b=R[c++],M.c=R[c++],v&&(p=R[c++],M.materialIndex=p),s=a.faces.length,g)for(n=0;n<N;n++)for(E=t.uvs[n],a.faceVertexUvs[n][s]=[],o=0;o<3;o++)f=R[c++],P=E[2*f],k=E[2*f+1],L=new i.Vector2(P,k),a.faceVertexUvs[n][s].push(L);if(y&&(h=3*R[c++],M.normal.set(F[h++],F[h++],F[h])),x)for(n=0;n<3;n++)h=3*R[c++],A=new i.Vector3(F[h++],F[h++],F[h]),M.vertexNormals.push(A);if(b&&(u=R[c++],M.color.setHex(O[u])),_)for(n=0;n<3;n++)u=R[c++],M.vertexColors.push(new i.Color(O[u]));a.faces.push(M)}}function n(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,n=t.skinWeights.length;r<n;r+=e){var o=t.skinWeights[r],s=e>1?t.skinWeights[r+1]:0,c=e>2?t.skinWeights[r+2]:0,l=e>3?t.skinWeights[r+3]:0;
a.skinWeights.push(new i.Vector4(o,s,c,l))}if(t.skinIndices)for(var r=0,n=t.skinIndices.length;r<n;r+=e){var u=t.skinIndices[r],h=e>1?t.skinIndices[r+1]:0,f=e>2?t.skinIndices[r+2]:0,p=e>3?t.skinIndices[r+3]:0;a.skinIndices.push(new i.Vector4(u,h,f,p))}a.bones=t.bones,a.bones&&a.bones.length>0&&(a.skinWeights.length!==a.skinIndices.length||a.skinIndices.length!==a.vertices.length)&&console.warn("When skinning, number of vertices ("+a.vertices.length+"), skinIndices ("+a.skinIndices.length+"), and skinWeights ("+a.skinWeights.length+") should match."),a.animation=t.animation,a.animations=t.animations}function o(e){if(void 0!==t.morphTargets){var r,n,o,s,c,l;for(r=0,n=t.morphTargets.length;r<n;r++)for(a.morphTargets[r]={},a.morphTargets[r].name=t.morphTargets[r].name,a.morphTargets[r].vertices=[],c=a.morphTargets[r].vertices,l=t.morphTargets[r].vertices,o=0,s=l.length;o<s;o+=3){var u=new i.Vector3;u.x=l[o]*e,u.y=l[o+1]*e,u.z=l[o+2]*e,c.push(u)}}if(void 0!==t.morphColors){var r,n,h,f,p,d,m;for(r=0,n=t.morphColors.length;r<n;r++)for(a.morphColors[r]={},a.morphColors[r].name=t.morphColors[r].name,a.morphColors[r].colors=[],p=a.morphColors[r].colors,d=t.morphColors[r].colors,h=0,f=d.length;h<f;h+=3)m=new i.Color(16755200),m.setRGB(d[h],d[h+1],d[h+2]),p.push(m)}}var a=new i.Geometry,s=void 0!==t.scale?1/t.scale:1;if(r(s),n(),o(s),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:a};var c=this.initMaterials(t.materials,e);return this.needsTangents(c)&&a.computeTangents(),{geometry:a,materials:c}},i.LoadingManager=function(t,e,r){var n=this,i=0,o=0;this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){o++},this.itemEnd=function(t){i++,void 0!==n.onProgress&&n.onProgress(t,i,o),i===o&&void 0!==n.onLoad&&n.onLoad()}},i.DefaultLoadingManager=new i.LoadingManager,i.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:i.DefaultLoadingManager},i.BufferGeometryLoader.prototype={constructor:i.BufferGeometryLoader,load:function(t,e,r,n){var o=this,a=new i.XHRLoader;a.setCrossOrigin(this.crossOrigin),a.load(t,function(t){e(o.parse(JSON.parse(t)))},r,n)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new i.BufferGeometry,r=t.attributes;for(var o in r){var a=r[o],s=new n[a.type](a.array);e.addAttribute(o,new i.BufferAttribute(s,a.itemSize))}var c=t.offsets;void 0!==c&&(e.offsets=JSON.parse(JSON.stringify(c)));var l=t.boundingSphere;if(void 0!==l){var u=new i.Vector3;void 0!==l.center&&u.fromArray(l.center),e.boundingSphere=new i.Sphere(u,l.radius)}return e}},i.MaterialLoader=function(t){this.manager=void 0!==t?t:i.DefaultLoadingManager},i.MaterialLoader.prototype={constructor:i.MaterialLoader,load:function(t,e,r,n){var o=this,a=new i.XHRLoader;a.setCrossOrigin(this.crossOrigin),a.load(t,function(t){e(o.parse(JSON.parse(t)))},r,n)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=new i[t.type];if(void 0!==t.color&&e.color.setHex(t.color),void 0!==t.ambient&&e.ambient.setHex(t.ambient),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.materials)for(var r=0,n=t.materials.length;r<n;r++)e.materials.push(this.parse(t.materials[r]));return e}},i.ObjectLoader=function(t){this.manager=void 0!==t?t:i.DefaultLoadingManager},i.ObjectLoader.prototype={constructor:i.ObjectLoader,load:function(t,e,r,n){var o=this,a=new i.XHRLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(t,function(t){e(o.parse(JSON.parse(t)))},r,n)},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t){var e=this.parseGeometries(t.geometries),r=this.parseMaterials(t.materials),n=this.parseObject(t.object,e,r);return n},parseGeometries:function(t){var e={};if(void 0!==t)for(var r=new i.JSONLoader,n=new i.BufferGeometryLoader,o=0,a=t.length;o<a;o++){var s,c=t[o];switch(c.type){case"PlaneGeometry":s=new i.PlaneGeometry(c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new i.BoxGeometry(c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":s=new i.CircleGeometry(c.radius,c.segments);break;case"CylinderGeometry":s=new i.CylinderGeometry(c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded);break;case"SphereGeometry":s=new i.SphereGeometry(c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"IcosahedronGeometry":s=new i.IcosahedronGeometry(c.radius,c.detail);break;case"TorusGeometry":s=new i.TorusGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":s=new i.TorusKnotGeometry(c.radius,c.tube,c.radialSegments,c.tubularSegments,c.p,c.q,c.heightScale);break;case"BufferGeometry":s=n.parse(c.data);break;case"Geometry":s=r.parse(c.data).geometry}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),e[c.uuid]=s}return e},parseMaterials:function(t){var e={};if(void 0!==t)for(var r=new i.MaterialLoader,n=0,o=t.length;n<o;n++){var a=t[n],s=r.parse(a);s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),e[a.uuid]=s}return e},parseObject:function(){var t=new i.Matrix4;return function(e,r,n){var o;switch(e.type){case"Scene":o=new i.Scene;break;case"PerspectiveCamera":o=new i.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":o=new i.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":o=new i.AmbientLight(e.color);break;case"DirectionalLight":o=new i.DirectionalLight(e.color,e.intensity);break;case"PointLight":o=new i.PointLight(e.color,e.intensity,e.distance);break;case"SpotLight":o=new i.SpotLight(e.color,e.intensity,e.distance,e.angle,e.exponent);break;case"HemisphereLight":o=new i.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var a=r[e.geometry],s=n[e.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new i.Mesh(a,s);break;case"Line":var a=r[e.geometry],s=n[e.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined geometry",e.geometry),void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new i.Line(a,s);break;case"Sprite":var s=n[e.material];void 0===s&&console.warn("THREE.ObjectLoader: Undefined material",e.material),o=new i.Sprite(s);break;case"Group":o=new i.Group;break;default:o=new i.Object3D}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var c in e.children)o.add(this.parseObject(e.children[c],r,n));return o}}()},i.TextureLoader=function(t){this.manager=void 0!==t?t:i.DefaultLoadingManager},i.TextureLoader.prototype={constructor:i.TextureLoader,load:function(t,e,r,n){var o=this,a=new i.ImageLoader(o.manager);a.setCrossOrigin(this.crossOrigin),a.load(t,function(t){var r=new i.Texture(t);r.needsUpdate=!0,void 0!==e&&e(r)},r,n)},setCrossOrigin:function(t){this.crossOrigin=t}},i.CompressedTextureLoader=function(){this._parser=null},i.CompressedTextureLoader.prototype={constructor:i.CompressedTextureLoader,load:function(t,e,r){var n=this,o=[],a=new i.CompressedTexture;a.image=o;var s=new i.XHRLoader;if(s.setResponseType("arraybuffer"),t instanceof Array)for(var c=0,l=function(r){s.load(t[r],function(t){var s=n._parser(t,!0);o[r]={width:s.width,height:s.height,format:s.format,mipmaps:s.mipmaps},c+=1,6===c&&(1==s.mipmapCount&&(a.minFilter=i.LinearFilter),a.format=s.format,a.needsUpdate=!0,e&&e(a))})},u=0,h=t.length;u<h;++u)l(u);else s.load(t,function(t){var r=n._parser(t,!0);if(r.isCubemap)for(var s=r.mipmaps.length/r.mipmapCount,c=0;c<s;c++){o[c]={mipmaps:[]};for(var l=0;l<r.mipmapCount;l++)o[c].mipmaps.push(r.mipmaps[c*r.mipmapCount+l]),o[c].format=r.format,o[c].width=r.width,o[c].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=i.LinearFilter),a.format=r.format,a.needsUpdate=!0,e&&e(a)});return a}},i.Material=function(){Object.defineProperty(this,"id",{value:i.MaterialIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.type="Material",this.side=i.FrontSide,this.opacity=1,this.transparent=!1,this.blending=i.NormalBlending,this.blendSrc=i.SrcAlphaFactor,this.blendDst=i.OneMinusSrcAlphaFactor,this.blendEquation=i.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},i.Material.prototype={constructor:i.Material,setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r){if(e in this){var n=this[e];n instanceof i.Color?n.set(r):n instanceof i.Vector3&&r instanceof i.Vector3?n.copy(r):"overdraw"==e?this[e]=Number(r):this[e]=r}}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(){var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(t.name=this.name),this instanceof i.MeshBasicMaterial?(t.color=this.color.getHex(),this.vertexColors!==i.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(t.blending=this.blending),this.side!==i.FrontSide&&(t.side=this.side)):this instanceof i.MeshLambertMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),this.vertexColors!==i.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(t.blending=this.blending),this.side!==i.FrontSide&&(t.side=this.side)):this instanceof i.MeshPhongMaterial?(t.color=this.color.getHex(),t.ambient=this.ambient.getHex(),t.emissive=this.emissive.getHex(),t.specular=this.specular.getHex(),t.shininess=this.shininess,this.vertexColors!==i.NoColors&&(t.vertexColors=this.vertexColors),this.blending!==i.NormalBlending&&(t.blending=this.blending),this.side!==i.FrontSide&&(t.side=this.side)):this instanceof i.MeshNormalMaterial?(this.shading!==i.FlatShading&&(t.shading=this.shading),this.blending!==i.NormalBlending&&(t.blending=this.blending),this.side!==i.FrontSide&&(t.side=this.side)):this instanceof i.MeshDepthMaterial?(this.blending!==i.NormalBlending&&(t.blending=this.blending),this.side!==i.FrontSide&&(t.side=this.side)):this instanceof i.ShaderMaterial?(t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader):this instanceof i.SpriteMaterial&&(t.color=this.color.getHex()),this.opacity<1&&(t.opacity=this.opacity),this.transparent!==!1&&(t.transparent=this.transparent),this.wireframe!==!1&&(t.wireframe=this.wireframe),t},clone:function(t){return void 0===t&&(t=new i.Material),t.name=this.name,t.side=this.side,t.opacity=this.opacity,t.transparent=this.transparent,t.blending=this.blending,t.blendSrc=this.blendSrc,t.blendDst=this.blendDst,t.blendEquation=this.blendEquation,t.depthTest=this.depthTest,t.depthWrite=this.depthWrite,t.polygonOffset=this.polygonOffset,t.polygonOffsetFactor=this.polygonOffsetFactor,t.polygonOffsetUnits=this.polygonOffsetUnits,t.alphaTest=this.alphaTest,t.overdraw=this.overdraw,t.visible=this.visible,t},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Material.prototype),i.MaterialIdCount=0,i.LineBasicMaterial=function(t){i.Material.call(this),this.type="LineBasicMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=i.NoColors,this.fog=!0,this.setValues(t)},i.LineBasicMaterial.prototype=Object.create(i.Material.prototype),i.LineBasicMaterial.prototype.clone=function(){var t=new i.LineBasicMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.linecap=this.linecap,t.linejoin=this.linejoin,t.vertexColors=this.vertexColors,t.fog=this.fog,t},i.LineDashedMaterial=function(t){i.Material.call(this),this.type="LineDashedMaterial",this.color=new i.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(t)},i.LineDashedMaterial.prototype=Object.create(i.Material.prototype),i.LineDashedMaterial.prototype.clone=function(){var t=new i.LineDashedMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.linewidth=this.linewidth,t.scale=this.scale,t.dashSize=this.dashSize,t.gapSize=this.gapSize,t.vertexColors=this.vertexColors,t.fog=this.fog,t},i.MeshBasicMaterial=function(t){i.Material.call(this),this.type="MeshBasicMaterial",this.color=new i.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(t)},i.MeshBasicMaterial.prototype=Object.create(i.Material.prototype),i.MeshBasicMaterial.prototype.clone=function(){var t=new i.MeshBasicMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t},i.MeshLambertMaterial=function(t){i.Material.call(this),this.type="MeshLambertMaterial",this.color=new i.Color(16777215),this.ambient=new i.Color(16777215),this.emissive=new i.Color(0),this.wrapAround=!1,this.wrapRGB=new i.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},i.MeshLambertMaterial.prototype=Object.create(i.Material.prototype),i.MeshLambertMaterial.prototype.clone=function(){var t=new i.MeshLambertMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},i.MeshPhongMaterial=function(t){i.Material.call(this),this.type="MeshPhongMaterial",this.color=new i.Color(16777215),this.ambient=new i.Color(16777215),this.emissive=new i.Color(0),this.specular=new i.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new i.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=i.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=i.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},i.MeshPhongMaterial.prototype=Object.create(i.Material.prototype),i.MeshPhongMaterial.prototype.clone=function(){var t=new i.MeshPhongMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.ambient.copy(this.ambient),t.emissive.copy(this.emissive),t.specular.copy(this.specular),t.shininess=this.shininess,t.metal=this.metal,t.wrapAround=this.wrapAround,t.wrapRGB.copy(this.wrapRGB),t.map=this.map,t.lightMap=this.lightMap,t.bumpMap=this.bumpMap,t.bumpScale=this.bumpScale,t.normalMap=this.normalMap,t.normalScale.copy(this.normalScale),t.specularMap=this.specularMap,t.alphaMap=this.alphaMap,t.envMap=this.envMap,t.combine=this.combine,t.reflectivity=this.reflectivity,t.refractionRatio=this.refractionRatio,t.fog=this.fog,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.wireframeLinecap=this.wireframeLinecap,t.wireframeLinejoin=this.wireframeLinejoin,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},i.MeshDepthMaterial=function(t){i.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)},i.MeshDepthMaterial.prototype=Object.create(i.Material.prototype),i.MeshDepthMaterial.prototype.clone=function(){var t=new i.MeshDepthMaterial;return i.Material.prototype.clone.call(this,t),t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},i.MeshNormalMaterial=function(t){i.Material.call(this,t),this.type="MeshNormalMaterial",this.shading=i.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(t)},i.MeshNormalMaterial.prototype=Object.create(i.Material.prototype),i.MeshNormalMaterial.prototype.clone=function(){var t=new i.MeshNormalMaterial;return i.Material.prototype.clone.call(this,t),t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t},i.MeshFaceMaterial=function(t){this.uuid=i.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=t instanceof Array?t:[]},i.MeshFaceMaterial.prototype={constructor:i.MeshFaceMaterial,toJSON:function(){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=0,r=this.materials.length;e<r;e++)t.materials.push(this.materials[e].toJSON());return t},clone:function(){for(var t=new i.MeshFaceMaterial,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t}},i.PointCloudMaterial=function(t){i.Material.call(this),this.type="PointCloudMaterial",this.color=new i.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=i.NoColors,this.fog=!0,this.setValues(t)},i.PointCloudMaterial.prototype=Object.create(i.Material.prototype),i.PointCloudMaterial.prototype.clone=function(){var t=new i.PointCloudMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.size=this.size,t.sizeAttenuation=this.sizeAttenuation,t.vertexColors=this.vertexColors,t.fog=this.fog,t},i.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new i.PointCloudMaterial(t)},i.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new i.PointCloudMaterial(t)},i.ShaderMaterial=function(t){i.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=i.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=i.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(t)},i.ShaderMaterial.prototype=Object.create(i.Material.prototype),i.ShaderMaterial.prototype.clone=function(){var t=new i.ShaderMaterial;return i.Material.prototype.clone.call(this,t),t.fragmentShader=this.fragmentShader,t.vertexShader=this.vertexShader,t.uniforms=i.UniformsUtils.clone(this.uniforms),t.attributes=this.attributes,t.defines=this.defines,t.shading=this.shading,t.wireframe=this.wireframe,t.wireframeLinewidth=this.wireframeLinewidth,t.fog=this.fog,t.lights=this.lights,t.vertexColors=this.vertexColors,t.skinning=this.skinning,t.morphTargets=this.morphTargets,t.morphNormals=this.morphNormals,t},i.RawShaderMaterial=function(t){i.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},i.RawShaderMaterial.prototype=Object.create(i.ShaderMaterial.prototype),i.RawShaderMaterial.prototype.clone=function(){var t=new i.RawShaderMaterial;return i.ShaderMaterial.prototype.clone.call(this,t),t},i.SpriteMaterial=function(t){i.Material.call(this),this.type="SpriteMaterial",this.color=new i.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(t)},i.SpriteMaterial.prototype=Object.create(i.Material.prototype),i.SpriteMaterial.prototype.clone=function(){var t=new i.SpriteMaterial;return i.Material.prototype.clone.call(this,t),t.color.copy(this.color),t.map=this.map,t.rotation=this.rotation,t.fog=this.fog,t},i.Texture=function(t,e,r,n,o,a,s,c,l){Object.defineProperty(this,"id",{value:i.TextureIdCount++}),this.uuid=i.Math.generateUUID(),this.name="",this.image=void 0!==t?t:i.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:i.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:i.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:i.ClampToEdgeWrapping,this.magFilter=void 0!==o?o:i.LinearFilter,this.minFilter=void 0!==a?a:i.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==s?s:i.RGBAFormat,this.type=void 0!==c?c:i.UnsignedByteType,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},i.Texture.DEFAULT_IMAGE=void 0,i.Texture.DEFAULT_MAPPING=new i.UVMapping,i.Texture.prototype={constructor:i.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},clone:function(t){return void 0===t&&(t=new i.Texture),t.image=this.image,t.mipmaps=this.mipmaps.slice(0),t.mapping=this.mapping,t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.format=this.format,t.type=this.type,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.generateMipmaps=this.generateMipmaps,t.premultiplyAlpha=this.premultiplyAlpha,t.flipY=this.flipY,t.unpackAlignment=this.unpackAlignment,t},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},i.EventDispatcher.prototype.apply(i.Texture.prototype),i.TextureIdCount=0,i.CubeTexture=function(t,e,r,n,o,a,s,c,l){i.Texture.call(this,t,e,r,n,o,a,s,c,l),this.images=t},i.CubeTexture.prototype=Object.create(i.Texture.prototype),i.CubeTexture.clone=function(t){return void 0===t&&(t=new i.CubeTexture),i.Texture.prototype.clone.call(this,t),t.images=this.images,t},i.CompressedTexture=function(t,e,r,n,o,a,s,c,l,u,h){i.Texture.call(this,null,a,s,c,l,u,n,o,h),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},i.CompressedTexture.prototype=Object.create(i.Texture.prototype),i.CompressedTexture.prototype.clone=function(){var t=new i.CompressedTexture;return i.Texture.prototype.clone.call(this,t),t},i.DataTexture=function(t,e,r,n,o,a,s,c,l,u,h){i.Texture.call(this,null,a,s,c,l,u,n,o,h),this.image={data:t,width:e,height:r}},i.DataTexture.prototype=Object.create(i.Texture.prototype),i.DataTexture.prototype.clone=function(){var t=new i.DataTexture;return i.Texture.prototype.clone.call(this,t),t},i.VideoTexture=function(t,e,r,n,o,a,s,c,l){i.Texture.call(this,t,e,r,n,o,a,s,c,l),this.generateMipmaps=!1;var u=this,h=function(){requestAnimationFrame(h),t.readyState===t.HAVE_ENOUGH_DATA&&(u.needsUpdate=!0)};h()},i.VideoTexture.prototype=Object.create(i.Texture.prototype),i.Group=function(){i.Object3D.call(this),this.type="Group"},i.Group.prototype=Object.create(i.Object3D.prototype),i.PointCloud=function(t,e){i.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==t?t:new i.Geometry,this.material=void 0!==e?e:new i.PointCloudMaterial({color:16777215*Math.random()}),this.sortParticles=!1},i.PointCloud.prototype=Object.create(i.Object3D.prototype),i.PointCloud.prototype.raycast=function(){var t=new i.Matrix4,e=new i.Ray;return function(r,n){var o=this,a=o.geometry,s=r.params.PointCloud.threshold;if(t.getInverse(this.matrixWorld),e.copy(r.ray).applyMatrix4(t),null===a.boundingBox||e.isIntersectionBox(a.boundingBox)!==!1){var c=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=new i.Vector3,u=function(t,i){var a=e.distanceToPoint(t);if(a<c){var s=e.closestPointToPoint(t);s.applyMatrix4(o.matrixWorld);var l=r.ray.origin.distanceTo(s);n.push({distance:l,distanceToRay:a,point:s.clone(),index:i,face:null,object:o})}};if(a instanceof i.BufferGeometry){var h=a.attributes,f=h.position.array;if(void 0!==h.index){var p=h.index.array,d=a.offsets;if(0===d.length){var m={start:0,count:p.length,index:0};d=[m]}for(var v=0,g=d.length;v<g;++v)for(var y=d[v].start,x=d[v].count,b=d[v].index,_=y,w=y+x;_<w;_++){var M=b+p[_];l.fromArray(f,3*M),u(l,M)}}else for(var S=f.length/3,_=0;_<S;_++)l.set(f[3*_],f[3*_+1],f[3*_+2]),u(l,_)}else for(var T=this.geometry.vertices,_=0;_<T.length;_++)u(T[_],_)}}}(),i.PointCloud.prototype.clone=function(t){return void 0===t&&(t=new i.PointCloud(this.geometry,this.material)),t.sortParticles=this.sortParticles,i.Object3D.prototype.clone.call(this,t),t},i.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new i.PointCloud(t,e)},i.Line=function(t,e,r){i.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new i.Geometry,this.material=void 0!==e?e:new i.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==r?r:i.LineStrip},i.LineStrip=0,i.LinePieces=1,i.Line.prototype=Object.create(i.Object3D.prototype),i.Line.prototype.raycast=function(){var t=new i.Matrix4,e=new i.Ray,r=new i.Sphere;return function(n,o){var a=n.linePrecision,s=a*a,c=this.geometry;if(null===c.boundingSphere&&c.computeBoundingSphere(),r.copy(c.boundingSphere),r.applyMatrix4(this.matrixWorld),n.ray.isIntersectionSphere(r)!==!1&&(t.getInverse(this.matrixWorld),e.copy(n.ray).applyMatrix4(t),c instanceof i.Geometry))for(var l=c.vertices,u=l.length,h=new i.Vector3,f=new i.Vector3,p=this.mode===i.LineStrip?1:2,d=0;d<u-1;d+=p){var m=e.distanceSqToSegment(l[d],l[d+1],f,h);if(!(m>s)){var v=e.origin.distanceTo(f);v<n.near||v>n.far||o.push({distance:v,point:h.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}}(),i.Line.prototype.clone=function(t){return void 0===t&&(t=new i.Line(this.geometry,this.material,this.mode)),i.Object3D.prototype.clone.call(this,t),t},i.Mesh=function(t,e){i.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new i.Geometry,this.material=void 0!==e?e:new i.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},i.Mesh.prototype=Object.create(i.Object3D.prototype),i.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},i.Mesh.prototype.getMorphTargetIndexByName=function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},i.Mesh.prototype.raycast=function(){var t=new i.Matrix4,e=new i.Ray,r=new i.Sphere,n=new i.Vector3,o=new i.Vector3,a=new i.Vector3;return function(s,c){var l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),r.copy(l.boundingSphere),r.applyMatrix4(this.matrixWorld),s.ray.isIntersectionSphere(r)!==!1&&(t.getInverse(this.matrixWorld),e.copy(s.ray).applyMatrix4(t),null===l.boundingBox||e.isIntersectionBox(l.boundingBox)!==!1))if(l instanceof i.BufferGeometry){var u=this.material;if(void 0===u)return;var h,f,p,d=l.attributes,m=s.precision;if(void 0!==d.index){var v=d.index.array,g=d.position.array,y=l.offsets;0===y.length&&(y=[{start:0,count:v.length,index:0}]);for(var x=0,b=y.length;x<b;++x)for(var _=y[x].start,w=y[x].count,M=y[x].index,S=_,T=_+w;S<T;S+=3){if(h=M+v[S],f=M+v[S+1],p=M+v[S+2],n.fromArray(g,3*h),o.fromArray(g,3*f),a.fromArray(g,3*p),u.side===i.BackSide)var C=e.intersectTriangle(a,o,n,!0);else var C=e.intersectTriangle(n,o,a,u.side!==i.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var A=s.ray.origin.distanceTo(C);A<m||A<s.near||A>s.far||c.push({distance:A,point:C,face:new i.Face3(h,f,p,i.Triangle.normal(n,o,a)),faceIndex:null,object:this})}}}else for(var g=d.position.array,S=0,E=0,T=g.length;S<T;S+=3,E+=9){if(h=S,f=S+1,p=S+2,n.fromArray(g,E),o.fromArray(g,E+3),a.fromArray(g,E+6),u.side===i.BackSide)var C=e.intersectTriangle(a,o,n,!0);else var C=e.intersectTriangle(n,o,a,u.side!==i.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var A=s.ray.origin.distanceTo(C);A<m||A<s.near||A>s.far||c.push({distance:A,point:C,face:new i.Face3(h,f,p,i.Triangle.normal(n,o,a)),faceIndex:null,object:this})}}}else if(l instanceof i.Geometry)for(var h,f,p,L=this.material instanceof i.MeshFaceMaterial,P=L===!0?this.material.materials:null,m=s.precision,k=l.vertices,R=0,D=l.faces.length;R<D;R++){var F=l.faces[R],u=L===!0?P[F.materialIndex]:this.material;if(void 0!==u){if(h=k[F.a],f=k[F.b],p=k[F.c],u.morphTargets===!0){var O=l.morphTargets,N=this.morphTargetInfluences;n.set(0,0,0),o.set(0,0,0),a.set(0,0,0);for(var U=0,B=O.length;U<B;U++){var z=N[U];if(0!==z){var V=O[U].vertices;n.x+=(V[F.a].x-h.x)*z,n.y+=(V[F.a].y-h.y)*z,n.z+=(V[F.a].z-h.z)*z,o.x+=(V[F.b].x-f.x)*z,o.y+=(V[F.b].y-f.y)*z,o.z+=(V[F.b].z-f.z)*z,a.x+=(V[F.c].x-p.x)*z,a.y+=(V[F.c].y-p.y)*z,a.z+=(V[F.c].z-p.z)*z}}n.add(h),o.add(f),a.add(p),h=n,f=o,p=a}if(u.side===i.BackSide)var C=e.intersectTriangle(p,f,h,!0);else var C=e.intersectTriangle(h,f,p,u.side!==i.DoubleSide);if(null!==C){C.applyMatrix4(this.matrixWorld);var A=s.ray.origin.distanceTo(C);A<m||A<s.near||A>s.far||c.push({distance:A,point:C,face:F,faceIndex:R,object:this})}}}}}(),i.Mesh.prototype.clone=function(t,e){return void 0===t&&(t=new i.Mesh(this.geometry,this.material)),i.Object3D.prototype.clone.call(this,t,e),t},i.Bone=function(t){i.Object3D.call(this),this.skin=t},i.Bone.prototype=Object.create(i.Object3D.prototype),i.Skeleton=function(t,e,r){if(this.useVertexTexture=void 0===r||r,
this.identityMatrix=new i.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n;n=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new i.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,i.RGBAFormat,i.FloatType),this.boneTexture.minFilter=i.NearestFilter,this.boneTexture.magFilter=i.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var o=0,a=this.bones.length;o<a;o++)this.boneInverses.push(new i.Matrix4)}},i.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new i.Matrix4;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},i.Skeleton.prototype.pose=function(){for(var t,e=0,r=this.bones.length;e<r;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,r=this.bones.length;e<r;e++)t=this.bones[e],t&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},i.Skeleton.prototype.update=function(){var t=new i.Matrix4;return function(){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(n,this.boneInverses[e]),t.flattenToArrayOffset(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),i.SkinnedMesh=function(t,e,r){i.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new i.Matrix4,this.bindMatrixInverse=new i.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var o,a,s,c,l,u=0,h=this.geometry.bones.length;u<h;++u)a=this.geometry.bones[u],s=a.pos,c=a.rotq,l=a.scl,o=new i.Bone(this),n.push(o),o.name=a.name,o.position.set(s[0],s[1],s[2]),o.quaternion.set(c[0],c[1],c[2],c[3]),void 0!==l?o.scale.set(l[0],l[1],l[2]):o.scale.set(1,1,1);for(var u=0,h=this.geometry.bones.length;u<h;++u)a=this.geometry.bones[u],a.parent!==-1?n[a.parent].add(n[u]):this.add(n[u])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new i.Skeleton(n,void 0,r))},i.SkinnedMesh.prototype=Object.create(i.Mesh.prototype),i.SkinnedMesh.prototype.bind=function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},i.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},i.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof i.Geometry)for(var t=0;t<this.geometry.skinIndices.length;t++){var e=this.geometry.skinWeights[t],r=1/e.lengthManhattan();r!==1/0?e.multiplyScalar(r):e.set(1)}},i.SkinnedMesh.prototype.updateMatrixWorld=function(t){i.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},i.SkinnedMesh.prototype.clone=function(t){return void 0===t&&(t=new i.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),i.Mesh.prototype.clone.call(this,t),t},i.MorphAnimMesh=function(t,e){i.Mesh.call(this,t,e),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},i.MorphAnimMesh.prototype=Object.create(i.Mesh.prototype),i.MorphAnimMesh.prototype.setFrameRange=function(t,e){this.startKeyframe=t,this.endKeyframe=e,this.length=this.endKeyframe-this.startKeyframe+1},i.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},i.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},i.MorphAnimMesh.prototype.parseAnimations=function(){var t=this.geometry;t.animations||(t.animations={});for(var e,r=t.animations,n=/([a-z]+)_?(\d+)/,i=0,o=t.morphTargets.length;i<o;i++){var a=t.morphTargets[i],s=a.name.match(n);if(s&&s.length>1){var c=s[1];s[2];r[c]||(r[c]={start:1/0,end:-(1/0)});var l=r[c];i<l.start&&(l.start=i),i>l.end&&(l.end=i),e||(e=c)}}t.firstAnimation=e},i.MorphAnimMesh.prototype.setAnimationLabel=function(t,e,r){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[t]={start:e,end:r}},i.MorphAnimMesh.prototype.playAnimation=function(t,e){var r=this.geometry.animations[t];r?(this.setFrameRange(r.start,r.end),this.duration=1e3*((r.end-r.start)/e),this.time=0):console.warn("animation["+t+"] undefined")},i.MorphAnimMesh.prototype.updateAnimation=function(t){var e=this.duration/this.length;this.time+=this.direction*t,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var r=this.startKeyframe+i.Math.clamp(Math.floor(this.time/e),0,this.length-1);r!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[r]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=r);var n=this.time%e/e;this.directionBackwards&&(n=1-n),this.morphTargetInfluences[this.currentKeyframe]=n,this.morphTargetInfluences[this.lastKeyframe]=1-n},i.MorphAnimMesh.prototype.interpolateTargets=function(t,e,r){for(var n=this.morphTargetInfluences,i=0,o=n.length;i<o;i++)n[i]=0;t>-1&&(n[t]=1-r),e>-1&&(n[e]=r)},i.MorphAnimMesh.prototype.clone=function(t){return void 0===t&&(t=new i.MorphAnimMesh(this.geometry,this.material)),t.duration=this.duration,t.mirroredLoop=this.mirroredLoop,t.time=this.time,t.lastKeyframe=this.lastKeyframe,t.currentKeyframe=this.currentKeyframe,t.direction=this.direction,t.directionBackwards=this.directionBackwards,i.Mesh.prototype.clone.call(this,t),t},i.LOD=function(){i.Object3D.call(this),this.objects=[]},i.LOD.prototype=Object.create(i.Object3D.prototype),i.LOD.prototype.addLevel=function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=0;r<this.objects.length&&!(e<this.objects[r].distance);r++);this.objects.splice(r,0,{distance:e,object:t}),this.add(t)},i.LOD.prototype.getObjectForDistance=function(t){for(var e=1,r=this.objects.length;e<r&&!(t<this.objects[e].distance);e++);return this.objects[e-1].object},i.LOD.prototype.raycast=function(){var t=new i.Vector3;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,r)}}(),i.LOD.prototype.update=function(){var t=new i.Vector3,e=new i.Vector3;return function(r){if(this.objects.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);this.objects[0].object.visible=!0;for(var i=1,o=this.objects.length;i<o&&n>=this.objects[i].distance;i++)this.objects[i-1].object.visible=!1,this.objects[i].object.visible=!0;for(;i<o;i++)this.objects[i].object.visible=!1}}}(),i.LOD.prototype.clone=function(t){void 0===t&&(t=new i.LOD),i.Object3D.prototype.clone.call(this,t);for(var e=0,r=this.objects.length;e<r;e++){var n=this.objects[e].object.clone();n.visible=0===e,t.addLevel(n,this.objects[e].distance)}return t},i.Sprite=function(){var t=new Uint16Array([0,1,2,0,2,3]),e=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),r=new Float32Array([0,0,1,0,1,1,0,1]),n=new i.BufferGeometry;return n.addAttribute("index",new i.BufferAttribute(t,1)),n.addAttribute("position",new i.BufferAttribute(e,3)),n.addAttribute("uv",new i.BufferAttribute(r,2)),function(t){i.Object3D.call(this),this.type="Sprite",this.geometry=n,this.material=void 0!==t?t:new i.SpriteMaterial}}(),i.Sprite.prototype=Object.create(i.Object3D.prototype),i.Sprite.prototype.raycast=function(){var t=new i.Vector3;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceToPoint(t);n>this.scale.x||r.push({distance:n,point:this.position,face:null,object:this})}}(),i.Sprite.prototype.clone=function(t){return void 0===t&&(t=new i.Sprite(this.material)),i.Object3D.prototype.clone.call(this,t),t},i.Particle=i.Sprite,i.LensFlare=function(t,e,r,n,o){i.Object3D.call(this),this.lensFlares=[],this.positionScreen=new i.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,r,n,o)},i.LensFlare.prototype=Object.create(i.Object3D.prototype),i.LensFlare.prototype.add=function(t,e,r,n,o,a){void 0===e&&(e=-1),void 0===r&&(r=0),void 0===a&&(a=1),void 0===o&&(o=new i.Color(16777215)),void 0===n&&(n=i.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:t,size:e,distance:r,x:0,y:0,z:0,scale:1,rotation:1,opacity:a,color:o,blending:n})},i.LensFlare.prototype.updateLensFlares=function(){var t,e,r=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<r;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)},i.Scene=function(){i.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},i.Scene.prototype=Object.create(i.Object3D.prototype),i.Scene.prototype.clone=function(t){return void 0===t&&(t=new i.Scene),i.Object3D.prototype.clone.call(this,t),null!==this.fog&&(t.fog=this.fog.clone()),null!==this.overrideMaterial&&(t.overrideMaterial=this.overrideMaterial.clone()),t.autoUpdate=this.autoUpdate,t.matrixAutoUpdate=this.matrixAutoUpdate,t},i.Fog=function(t,e,r){this.name="",this.color=new i.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3},i.Fog.prototype.clone=function(){return new i.Fog(this.color.getHex(),this.near,this.far)},i.FogExp2=function(t,e){this.name="",this.color=new i.Color(t),this.density=void 0!==e?e:25e-5},i.FogExp2.prototype.clone=function(){return new i.FogExp2(this.color.getHex(),this.density)},i.ShaderChunk={},i.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( gl_FragColor.a < ALPHATEST ) discard;\n\n#endif\n",i.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\tvec3 dirVector = normalize( lDirection.xyz );\n\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t#endif\n\n\t#endif\n\n\t#ifdef WRAP_AROUND\n\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n\t\t#endif\n\n\t#endif\n\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n\t#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\tfloat lDistance = 1.0;\n\t\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n\t\t\tlVector = normalize( lVector );\n\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n\t\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n\n#endif",i.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",i.ShaderChunk.default_vertex="vec4 mvPosition;\n\n#ifdef USE_SKINNING\n\n\tmvPosition = modelViewMatrix * skinned;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\n\n\tmvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\n\n\tmvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",i.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\t#ifdef USE_MORPHNORMALS\n\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n\t#else\n\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n\t#endif\n\n#endif\n",i.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif",i.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\n#endif",i.ShaderChunk.lights_phong_fragment="vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef DOUBLE_SIDED\n\n\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tvec3 pointDiffuse = vec3( 0.0 );\n\tvec3 pointSpecular = vec3( 0.0 );\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( pointLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\n\t\t\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\tpointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\n\t\t\t\t// specular\n\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tvec3 spotDiffuse = vec3( 0.0 );\n\tvec3 spotSpecular = vec3( 0.0 );\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat lDistance = 1.0;\n\t\tif ( spotLightDistance[ i ] > 0.0 )\n\t\t\tlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n\t\tlVector = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\t\t\t// diffuse\n\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n\t\t\t#else\n\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t\t#endif\n\n\t\t\tspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\n\t\t\t\t\t// specular\n\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tvec3 dirDiffuse = vec3( 0.0 );\n\tvec3 dirSpecular = vec3( 0.0 );\n\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n\t\tvec3 dirVector = normalize( lDirection.xyz );\n\n\t\t\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, dirVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\tdirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\n\t\t// specular\n\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n\t\t/*\n\t\t// fresnel term from skin shader\n\t\tconst float F0 = 0.128;\n\n\t\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\n\t\tfloat exponential = pow( base, 5.0 );\n\n\t\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\n\t\t*/\n\n\t\t/*\n\t\t// fresnel term from fresnel shader\n\t\tconst float mFresnelBias = 0.08;\n\t\tconst float mFresnelScale = 0.3;\n\t\tconst float mFresnelPower = 5.0;\n\n\t\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n\t\t*/\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t// \t\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tvec3 hemiDiffuse = vec3( 0.0 );\n\tvec3 hemiSpecular = vec3( 0.0 );\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n\t\tvec3 lVector = normalize( lDirection.xyz );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\themiDiffuse += diffuse * hemiColor;\n\n\t\t// specular (sky light)\n\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n\t\t// specular (ground light)\n\n\t\tvec3 lVectorGround = -lVector;\n\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n\t}\n\n#endif\n\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n\n#if MAX_DIR_LIGHTS > 0\n\n\ttotalDiffuse += dirDiffuse;\n\ttotalSpecular += dirSpecular;\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\ttotalDiffuse += hemiDiffuse;\n\ttotalSpecular += hemiSpecular;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\ttotalDiffuse += pointDiffuse;\n\ttotalSpecular += pointSpecular;\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\ttotalDiffuse += spotDiffuse;\n\ttotalSpecular += spotSpecular;\n\n#endif\n\n#ifdef METAL\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\n#else\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\n#endif",i.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif",i.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tvec3 morphedNormal = vec3( 0.0 );\n\n\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n\tmorphedNormal += normal;\n\n#endif",i.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\tuniform samplerCube envMap;\n\tuniform float flipEnvMap;\n\tuniform int combine;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform bool useRefract;\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif",i.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",i.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",i.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n",i.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n\n#endif",i.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif",i.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif",i.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\t#ifdef GAMMA_INPUT\n\n\t\ttexelColor.xyz *= texelColor.xyz;\n\n\t#endif\n\n\tgl_FragColor = gl_FragColor * texelColor;\n\n#endif",i.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n\tvUv2 = uv2;\n\n#endif",i.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tgl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n\n#endif",i.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",i.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\t#ifdef GAMMA_INPUT\n\n\t\tvColor = color * color;\n\n\t#else\n\n\t\tvColor = color;\n\n\t#endif\n\n#endif",i.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\t#ifdef USE_MORPHTARGETS\n\n\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n",i.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\tuniform bool useRefract;\n\n#endif\n",i.ShaderChunk.linear_to_gamma_fragment="#ifdef GAMMA_OUTPUT\n\n\tgl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n\n#endif",i.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif",i.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\n\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n",i.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n",i.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\tvec3 reflectVec;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\n\t\tvec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\n\t\tif ( useRefract ) {\n\n\t\t\treflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t} else { \n\n\t\t\treflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t}\n\n\t#else\n\n\t\treflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t\tvec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#else\n\n\t\tvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#endif\n\n\t#ifdef GAMMA_INPUT\n\n\t\tcubeColor.xyz *= cubeColor.xyz;\n\n\t#endif\n\n\tif ( combine == 1 ) {\n\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n\n\t} else if ( combine == 2 ) {\n\n\t\tgl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n\n\t} else {\n\n\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n\n\t}\n\n#endif",
i.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif",i.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif",i.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif",i.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif",i.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tconst float LOG2 = 1.442695;\n\t\tfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n#endif",i.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t\t\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t\t\t//\thttp://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t\t\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif",i.ShaderChunk.defaultnormal_vertex="vec3 objectNormal;\n\n#ifdef USE_SKINNING\n\n\tobjectNormal = skinnedNormal.xyz;\n\n#endif\n\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\n\n\tobjectNormal = morphedNormal;\n\n#endif\n\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\n\n\tobjectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;",i.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",i.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",i.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",i.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\tgl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n\n#endif",i.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",i.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tgl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n\n#endif",i.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n\tmorphed += position;\n\n#endif",i.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n\tworldNormal = normalize( worldNormal );\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\tif ( useRefract ) {\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t} else {\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t}\n\n#endif",i.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\t#ifdef SHADOWMAP_DEBUG\n\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n\t#endif\n\n\t#ifdef SHADOWMAP_CASCADE\n\n\t\tint inFrustumCount = 0;\n\n\t#endif\n\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\t\t\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n\t\t#else\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t#endif\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n\t\t\t\t\t\t\t\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\tshadow += 1.0;\n\n\t\t\t\t}\n\n\t\t\t\tshadow /= 9.0;\n\n\t\t*/\n\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#else\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\n\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t// \t\t\t\t\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n\t\t\t#endif\n\n\t\t}\n\n\n\t\t#ifdef SHADOWMAP_DEBUG\n\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\n\t\t\t#else\n\n\t\t\t\tif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t}\n\n\t#ifdef GAMMA_OUTPUT\n\n\t\tshadowColor *= shadowColor;\n\n\t#endif\n\n\tgl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n\n#endif\n",i.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#endif\n\n\t#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n\t#endif\n\n\t#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n#endif",i.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n#endif",i.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",i.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif",i.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tgl_FragColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",i.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",i.UniformsUtils={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t){e[r]={};for(var n in t[r]){var o=t[r][n];o instanceof i.Color||o instanceof i.Vector2||o instanceof i.Vector3||o instanceof i.Vector4||o instanceof i.Matrix4||o instanceof i.Texture?e[r][n]=o.clone():o instanceof Array?e[r][n]=o.slice():e[r][n]=o}}return e}},i.UniformsLib={common:{diffuse:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new i.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new i.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new i.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new i.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new i.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},i.ShaderLib={basic:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,i.UniformsLib.shadowmap]),vertexShader:[i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"\t#endif",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,i.UniformsLib.lights,i.UniformsLib.shadowmap,{ambient:{type:"c",value:new i.Color(16777215)},emissive:{type:"c",value:new i.Color(0)},wrapRGB:{type:"v3",value:new i.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.lights_lambert_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_lambert_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\tgl_FragColor.xyz *= vLightFront;","\t\telse","\t\t\tgl_FragColor.xyz *= vLightBack;","\t#else","\t\tgl_FragColor.xyz *= vLightFront;","\t#endif",i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.bump,i.UniformsLib.normalmap,i.UniformsLib.fog,i.UniformsLib.lights,i.UniformsLib.shadowmap,{ambient:{type:"c",value:new i.Color(16777215)},emissive:{type:"c",value:new i.Color(0)},specular:{type:"c",value:new i.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new i.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",i.ShaderChunk.map_pars_vertex,i.ShaderChunk.lightmap_pars_vertex,i.ShaderChunk.envmap_pars_vertex,i.ShaderChunk.lights_phong_pars_vertex,i.ShaderChunk.color_pars_vertex,i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.map_vertex,i.ShaderChunk.lightmap_vertex,i.ShaderChunk.color_vertex,i.ShaderChunk.morphnormal_vertex,i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,i.ShaderChunk.defaultnormal_vertex,"\tvNormal = normalize( transformedNormal );",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",i.ShaderChunk.worldpos_vertex,i.ShaderChunk.envmap_vertex,i.ShaderChunk.lights_phong_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_pars_fragment,i.ShaderChunk.alphamap_pars_fragment,i.ShaderChunk.lightmap_pars_fragment,i.ShaderChunk.envmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.lights_phong_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.bumpmap_pars_fragment,i.ShaderChunk.normalmap_pars_fragment,i.ShaderChunk.specularmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( vec3( 1.0 ), opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_fragment,i.ShaderChunk.alphamap_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.specularmap_fragment,i.ShaderChunk.lights_phong_fragment,i.ShaderChunk.lightmap_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.envmap_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:i.UniformsUtils.merge([i.UniformsLib.particle,i.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",i.ShaderChunk.color_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.worldpos_vertex,i.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.map_particle_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( psColor, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.map_particle_fragment,i.ShaderChunk.alphatest_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:i.UniformsUtils.merge([i.UniformsLib.common,i.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",i.ShaderChunk.color_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",i.ShaderChunk.color_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tgl_FragColor = vec4( diffuse, opacity );",i.ShaderChunk.logdepthbuf_fragment,i.ShaderChunk.color_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",i.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},normalmap:{uniforms:i.UniformsUtils.merge([i.UniformsLib.fog,i.UniformsLib.lights,i.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new i.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},diffuse:{type:"c",value:new i.Color(16777215)},specular:{type:"c",value:new i.Color(1118481)},ambient:{type:"c",value:new i.Color(16777215)},shininess:{type:"f",value:30},opacity:{type:"f",value:1},useRefract:{type:"i",value:0},refractionRatio:{type:"f",value:.98},reflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new i.Vector2(0,0)},uRepeat:{type:"v2",value:new i.Vector2(1,1)},wrapRGB:{type:"v3",value:new i.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform vec2 uNormalScale;","uniform bool useRefract;","uniform float refractionRatio;","uniform float reflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_HEMI_LIGHTS > 0","\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];","\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","\tuniform vec3 wrapRGB;","#endif","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",i.ShaderChunk.shadowmap_pars_fragment,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",i.ShaderChunk.logdepthbuf_fragment,"\tgl_FragColor = vec4( vec3( 1.0 ), opacity );","\tvec3 specularTex = vec3( 1.0 );","\tvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","\tnormalTex.xy *= uNormalScale;","\tnormalTex = normalize( normalTex );","\tif( enableDiffuse ) {","\t\t#ifdef GAMMA_INPUT","\t\t\tvec4 texelColor = texture2D( tDiffuse, vUv );","\t\t\ttexelColor.xyz *= texelColor.xyz;","\t\t\tgl_FragColor = gl_FragColor * texelColor;","\t\t#else","\t\t\tgl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","\t\t#endif","\t}","\tif( enableAO ) {","\t\t#ifdef GAMMA_INPUT","\t\t\tvec4 aoColor = texture2D( tAO, vUv );","\t\t\taoColor.xyz *= aoColor.xyz;","\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","\t\t#else","\t\t\tgl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","\t\t#endif","\t}",i.ShaderChunk.alphatest_fragment,"\tif( enableSpecular )","\t\tspecularTex = texture2D( tSpecular, vUv ).xyz;","\tmat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","\tvec3 finalNormal = tsb * normalTex;","\t#ifdef FLIP_SIDED","\t\tfinalNormal = -finalNormal;","\t#endif","\tvec3 normal = normalize( finalNormal );","\tvec3 viewPosition = normalize( vViewPosition );","\t#if MAX_POINT_LIGHTS > 0","\t\tvec3 pointDiffuse = vec3( 0.0 );","\t\tvec3 pointSpecular = vec3( 0.0 );","\t\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","\t\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","\t\t\tvec3 pointVector = lPosition.xyz + vViewPosition.xyz;","\t\t\tfloat pointDistance = 1.0;","\t\t\tif ( pointLightDistance[ i ] > 0.0 )","\t\t\t\tpointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );","\t\t\tpointVector = normalize( pointVector );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tfloat pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","\t\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","\t\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","\t\t\t#else","\t\t\t\tfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","\t\t\t#endif","\t\t\tpointDiffuse += pointDistance * pointLightColor[ i ] * diffuse * pointDiffuseWeight;","\t\t\tvec3 pointHalfVector = normalize( pointVector + viewPosition );","\t\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","\t\t\tfloat pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, shininess ), 0.0 );","\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;","\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( pointVector, pointHalfVector ), 0.0 ), 5.0 );","\t\t\tpointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","\t\t}","\t#endif","\t#if MAX_SPOT_LIGHTS > 0","\t\tvec3 spotDiffuse = vec3( 0.0 );","\t\tvec3 spotSpecular = vec3( 0.0 );","\t\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","\t\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","\t\t\tvec3 spotVector = lPosition.xyz + vViewPosition.xyz;","\t\t\tfloat spotDistance = 1.0;","\t\t\tif ( spotLightDistance[ i ] > 0.0 )","\t\t\t\tspotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );","\t\t\tspotVector = normalize( spotVector );","\t\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","\t\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {","\t\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );","\t\t\t\t#ifdef WRAP_AROUND","\t\t\t\t\tfloat spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );","\t\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );","\t\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","\t\t\t\t#else","\t\t\t\t\tfloat spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );","\t\t\t\t#endif","\t\t\t\tspotDiffuse += spotDistance * spotLightColor[ i ] * diffuse * spotDiffuseWeight * spotEffect;","\t\t\t\tvec3 spotHalfVector = normalize( spotVector + viewPosition );","\t\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","\t\t\t\tfloat spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, shininess ), 0.0 );","\t\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;","\t\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( spotVector, spotHalfVector ), 0.0 ), 5.0 );","\t\t\t\tspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;","\t\t\t}","\t\t}","\t#endif","\t#if MAX_DIR_LIGHTS > 0","\t\tvec3 dirDiffuse = vec3( 0.0 );","\t\tvec3 dirSpecular = vec3( 0.0 );","\t\tfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","\t\t\tvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","\t\t\tvec3 dirVector = normalize( lDirection.xyz );","\t\t\t#ifdef WRAP_AROUND","\t\t\t\tfloat directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","\t\t\t\tfloat directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","\t\t\t\tvec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","\t\t\t#else","\t\t\t\tfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","\t\t\t#endif","\t\t\tdirDiffuse += directionalLightColor[ i ] * diffuse * dirDiffuseWeight;","\t\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );","\t\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","\t\t\tfloat dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, shininess ), 0.0 );","\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;","\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );","\t\t\tdirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","\t\t}","\t#endif","\t#if MAX_HEMI_LIGHTS > 0","\t\tvec3 hemiDiffuse = vec3( 0.0 );","\t\tvec3 hemiSpecular = vec3( 0.0 );","\t\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {","\t\t\tvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );","\t\t\tvec3 lVector = normalize( lDirection.xyz );","\t\t\tfloat dotProduct = dot( normal, lVector );","\t\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;","\t\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );","\t\t\themiDiffuse += diffuse * hemiColor;","\t\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );","\t\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;","\t\t\tfloat hemiSpecularWeightSky = specularTex.r * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );","\t\t\tvec3 lVectorGround = -lVector;","\t\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );","\t\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;","\t\t\tfloat hemiSpecularWeightGround = specularTex.r * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );","\t\t\tfloat dotProductGround = dot( normal, lVectorGround );","\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;","\t\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );","\t\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );","\t\t\themiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );","\t\t}","\t#endif","\tvec3 totalDiffuse = vec3( 0.0 );","\tvec3 totalSpecular = vec3( 0.0 );","\t#if MAX_DIR_LIGHTS > 0","\t\ttotalDiffuse += dirDiffuse;","\t\ttotalSpecular += dirSpecular;","\t#endif","\t#if MAX_HEMI_LIGHTS > 0","\t\ttotalDiffuse += hemiDiffuse;","\t\ttotalSpecular += hemiSpecular;","\t#endif","\t#if MAX_POINT_LIGHTS > 0","\t\ttotalDiffuse += pointDiffuse;","\t\ttotalSpecular += pointSpecular;","\t#endif","\t#if MAX_SPOT_LIGHTS > 0","\t\ttotalDiffuse += spotDiffuse;","\t\ttotalSpecular += spotSpecular;","\t#endif","\t#ifdef METAL","\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient + totalSpecular );","\t#else","\t\tgl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","\t#endif","\tif ( enableReflection ) {","\t\tvec3 vReflect;","\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );","\t\tif ( useRefract ) {","\t\t\tvReflect = refract( cameraToVertex, normal, refractionRatio );","\t\t} else {","\t\t\tvReflect = reflect( cameraToVertex, normal );","\t\t}","\t\tvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","\t\t#ifdef GAMMA_INPUT","\t\t\tcubeColor.xyz *= cubeColor.xyz;","\t\t#endif","\t\tgl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * reflectivity );","\t}",i.ShaderChunk.shadowmap_fragment,i.ShaderChunk.linear_to_gamma_fragment,i.ShaderChunk.fog_fragment,"}"].join("\n"),
vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","uniform bool enableDisplacement;","#ifdef VERTEX_TEXTURES","\tuniform sampler2D tDisplacement;","\tuniform float uDisplacementScale;","\tuniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","varying vec3 vWorldPosition;","varying vec3 vViewPosition;",i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.shadowmap_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.skinbase_vertex,i.ShaderChunk.skinnormal_vertex,"\t#ifdef USE_SKINNING","\t\tvNormal = normalize( normalMatrix * skinnedNormal.xyz );","\t\tvec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );","\t\tvTangent = normalize( normalMatrix * skinnedTangent.xyz );","\t#else","\t\tvNormal = normalize( normalMatrix * normal );","\t\tvTangent = normalize( normalMatrix * tangent.xyz );","\t#endif","\tvBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );","\tvUv = uv * uRepeat + uOffset;","\tvec3 displacedPosition;","\t#ifdef VERTEX_TEXTURES","\t\tif ( enableDisplacement ) {","\t\t\tvec3 dv = texture2D( tDisplacement, uv ).xyz;","\t\t\tfloat df = uDisplacementScale * dv.x + uDisplacementBias;","\t\t\tdisplacedPosition = position + normalize( normal ) * df;","\t\t} else {","\t\t\t#ifdef USE_SKINNING","\t\t\t\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );","\t\t\t\tvec4 skinned = vec4( 0.0 );","\t\t\t\tskinned += boneMatX * skinVertex * skinWeight.x;","\t\t\t\tskinned += boneMatY * skinVertex * skinWeight.y;","\t\t\t\tskinned += boneMatZ * skinVertex * skinWeight.z;","\t\t\t\tskinned += boneMatW * skinVertex * skinWeight.w;","\t\t\t\tskinned  = bindMatrixInverse * skinned;","\t\t\t\tdisplacedPosition = skinned.xyz;","\t\t\t#else","\t\t\t\tdisplacedPosition = position;","\t\t\t#endif","\t\t}","\t#else","\t\t#ifdef USE_SKINNING","\t\t\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );","\t\t\tvec4 skinned = vec4( 0.0 );","\t\t\tskinned += boneMatX * skinVertex * skinWeight.x;","\t\t\tskinned += boneMatY * skinVertex * skinWeight.y;","\t\t\tskinned += boneMatZ * skinVertex * skinWeight.z;","\t\t\tskinned += boneMatW * skinVertex * skinWeight.w;","\t\t\tskinned  = bindMatrixInverse * skinned;","\t\t\tdisplacedPosition = skinned.xyz;","\t\t#else","\t\t\tdisplacedPosition = position;","\t\t#endif","\t#endif","\tvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );","\tvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,"\tvWorldPosition = worldPosition.xyz;","\tvViewPosition = -mvPosition.xyz;","\t#ifdef USE_SHADOWMAP","\t\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {","\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;","\t\t}","\t#endif","}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",i.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",i.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[i.ShaderChunk.morphtarget_pars_vertex,i.ShaderChunk.skinning_pars_vertex,i.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",i.ShaderChunk.skinbase_vertex,i.ShaderChunk.morphtarget_vertex,i.ShaderChunk.skinning_vertex,i.ShaderChunk.default_vertex,i.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[i.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",i.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")}},i.WebGLRenderer=function(t){function e(){Bt.clearColor(0,0,0,1),Bt.clearDepth(1),Bt.clearStencil(0),Bt.enable(Bt.DEPTH_TEST),Bt.depthFunc(Bt.LEQUAL),Bt.frontFace(Bt.CCW),Bt.cullFace(Bt.BACK),Bt.enable(Bt.CULL_FACE),Bt.enable(Bt.BLEND),Bt.blendEquation(Bt.FUNC_ADD),Bt.blendFunc(Bt.SRC_ALPHA,Bt.ONE_MINUS_SRC_ALPHA),Bt.viewport(oe,ae,se,ce),Bt.clearColor(Lt.r,Lt.g,Lt.b,Pt)}function r(t){t.__webglVertexBuffer=Bt.createBuffer(),t.__webglColorBuffer=Bt.createBuffer(),zt.info.memory.geometries++}function o(t){t.__webglVertexBuffer=Bt.createBuffer(),t.__webglColorBuffer=Bt.createBuffer(),t.__webglLineDistanceBuffer=Bt.createBuffer(),zt.info.memory.geometries++}function a(t){t.__webglVertexBuffer=Bt.createBuffer(),t.__webglNormalBuffer=Bt.createBuffer(),t.__webglTangentBuffer=Bt.createBuffer(),t.__webglColorBuffer=Bt.createBuffer(),t.__webglUVBuffer=Bt.createBuffer(),t.__webglUV2Buffer=Bt.createBuffer(),t.__webglSkinIndicesBuffer=Bt.createBuffer(),t.__webglSkinWeightsBuffer=Bt.createBuffer(),t.__webglFaceBuffer=Bt.createBuffer(),t.__webglLineBuffer=Bt.createBuffer();var e,r;if(t.numMorphTargets)for(t.__webglMorphTargetsBuffers=[],e=0,r=t.numMorphTargets;e<r;e++)t.__webglMorphTargetsBuffers.push(Bt.createBuffer());if(t.numMorphNormals)for(t.__webglMorphNormalsBuffers=[],e=0,r=t.numMorphNormals;e<r;e++)t.__webglMorphNormalsBuffers.push(Bt.createBuffer());zt.info.memory.geometries++}function s(t){var e=t.geometry,r=t.material,n=e.vertices.length;if(r.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var i in r.attributes){var o=r.attributes[i];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(n*a),o.buffer=Bt.createBuffer(),o.buffer.belongsToAttribute=i,o.needsUpdate=!0}e.__webglCustomAttributesList.push(o)}}}function c(t,e){var r=t.vertices.length;t.__vertexArray=new Float32Array(3*r),t.__colorArray=new Float32Array(3*r),t.__sortArray=[],t.__webglParticleCount=r,s(e)}function l(t,e){var r=t.vertices.length;t.__vertexArray=new Float32Array(3*r),t.__colorArray=new Float32Array(3*r),t.__lineDistanceArray=new Float32Array(1*r),t.__webglLineCount=r,s(e)}function u(t,e){var r=e.geometry,n=t.faces3,i=3*n.length,o=1*n.length,a=3*n.length,s=h(e,t);t.__vertexArray=new Float32Array(3*i),t.__normalArray=new Float32Array(3*i),t.__colorArray=new Float32Array(3*i),t.__uvArray=new Float32Array(2*i),r.faceVertexUvs.length>1&&(t.__uv2Array=new Float32Array(2*i)),r.hasTangents&&(t.__tangentArray=new Float32Array(4*i)),e.geometry.skinWeights.length&&e.geometry.skinIndices.length&&(t.__skinIndexArray=new Float32Array(4*i),t.__skinWeightArray=new Float32Array(4*i));var c=null!==_e.get("OES_element_index_uint")&&o>21845?Uint32Array:Uint16Array;t.__typeArray=c,t.__faceArray=new c(3*o),t.__lineArray=new c(2*a);var l,u;if(t.numMorphTargets)for(t.__morphTargetsArrays=[],l=0,u=t.numMorphTargets;l<u;l++)t.__morphTargetsArrays.push(new Float32Array(3*i));if(t.numMorphNormals)for(t.__morphNormalsArrays=[],l=0,u=t.numMorphNormals;l<u;l++)t.__morphNormalsArrays.push(new Float32Array(3*i));if(t.__webglFaceCount=3*o,t.__webglLineCount=2*a,s.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var f in s.attributes){var p=s.attributes[f],d={};for(var m in p)d[m]=p[m];if(!d.__webglInitialized||d.createUniqueBuffers){d.__webglInitialized=!0;var v=1;"v2"===d.type?v=2:"v3"===d.type?v=3:"v4"===d.type?v=4:"c"===d.type&&(v=3),d.size=v,d.array=new Float32Array(i*v),d.buffer=Bt.createBuffer(),d.buffer.belongsToAttribute=f,p.needsUpdate=!0,d.__original=p}t.__webglCustomAttributesList.push(d)}}t.__inittedArrays=!0}function h(t,e){return t.material instanceof i.MeshFaceMaterial?t.material.materials[e.materialIndex]:t.material}function f(t){return t&&void 0!==t.shading&&t.shading===i.SmoothShading}function p(t,e,r){var n,i,o,a,s,c,l,u,h,f,p,d,m=t.vertices,v=m.length,g=t.colors,y=g.length,x=t.__vertexArray,b=t.__colorArray,_=t.__sortArray,w=t.verticesNeedUpdate,M=(t.elementsNeedUpdate,t.colorsNeedUpdate),T=t.__webglCustomAttributesList;if(r.sortParticles){for(me.copy(de),me.multiply(r.matrixWorld),n=0;n<v;n++)o=m[n],ve.copy(o),ve.applyProjection(me),_[n]=[ve.z,n];for(_.sort(S),n=0;n<v;n++)o=m[_[n][1]],a=3*n,x[a]=o.x,x[a+1]=o.y,x[a+2]=o.z;for(i=0;i<y;i++)a=3*i,c=g[_[i][1]],b[a]=c.r,b[a+1]=c.g,b[a+2]=c.b;if(T)for(l=0,u=T.length;l<u;l++)if(d=T[l],void 0===d.boundTo||"vertices"===d.boundTo)if(a=0,f=d.value.length,1===d.size)for(h=0;h<f;h++)s=_[h][1],d.array[h]=d.value[s];else if(2===d.size)for(h=0;h<f;h++)s=_[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,a+=2;else if(3===d.size)if("c"===d.type)for(h=0;h<f;h++)s=_[h][1],p=d.value[s],d.array[a]=p.r,d.array[a+1]=p.g,d.array[a+2]=p.b,a+=3;else for(h=0;h<f;h++)s=_[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,a+=3;else if(4===d.size)for(h=0;h<f;h++)s=_[h][1],p=d.value[s],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,d.array[a+3]=p.w,a+=4}else{if(w)for(n=0;n<v;n++)o=m[n],a=3*n,x[a]=o.x,x[a+1]=o.y,x[a+2]=o.z;if(M)for(i=0;i<y;i++)c=g[i],a=3*i,b[a]=c.r,b[a+1]=c.g,b[a+2]=c.b;if(T)for(l=0,u=T.length;l<u;l++)if(d=T[l],d.needsUpdate&&(void 0===d.boundTo||"vertices"===d.boundTo))if(f=d.value.length,a=0,1===d.size)for(h=0;h<f;h++)d.array[h]=d.value[h];else if(2===d.size)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,a+=2;else if(3===d.size)if("c"===d.type)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.r,d.array[a+1]=p.g,d.array[a+2]=p.b,a+=3;else for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,a+=3;else if(4===d.size)for(h=0;h<f;h++)p=d.value[h],d.array[a]=p.x,d.array[a+1]=p.y,d.array[a+2]=p.z,d.array[a+3]=p.w,a+=4}if((w||r.sortParticles)&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglVertexBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,x,e)),(M||r.sortParticles)&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglColorBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,b,e)),T)for(l=0,u=T.length;l<u;l++)d=T[l],(d.needsUpdate||r.sortParticles)&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,d.buffer),Bt.bufferData(Bt.ARRAY_BUFFER,d.array,e))}function d(t,e){var r,n,i,o,a,s,c,l,u,h,f,p,d=t.vertices,m=t.colors,v=t.lineDistances,g=d.length,y=m.length,x=v.length,b=t.__vertexArray,_=t.__colorArray,w=t.__lineDistanceArray,M=t.verticesNeedUpdate,S=t.colorsNeedUpdate,T=t.lineDistancesNeedUpdate,C=t.__webglCustomAttributesList;if(M){for(r=0;r<g;r++)o=d[r],a=3*r,b[a]=o.x,b[a+1]=o.y,b[a+2]=o.z;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglVertexBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,b,e)}if(S){for(n=0;n<y;n++)s=m[n],a=3*n,_[a]=s.r,_[a+1]=s.g,_[a+2]=s.b;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglColorBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,_,e)}if(T){for(i=0;i<x;i++)w[i]=v[i];Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglLineDistanceBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,w,e)}if(C)for(c=0,l=C.length;c<l;c++)if(p=C[c],p.needsUpdate&&(void 0===p.boundTo||"vertices"===p.boundTo)){if(a=0,h=p.value.length,1===p.size)for(u=0;u<h;u++)p.array[u]=p.value[u];else if(2===p.size)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,a+=2;else if(3===p.size)if("c"===p.type)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.r,p.array[a+1]=f.g,p.array[a+2]=f.b,a+=3;else for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,a+=3;else if(4===p.size)for(u=0;u<h;u++)f=p.value[u],p.array[a]=f.x,p.array[a+1]=f.y,p.array[a+2]=f.z,p.array[a+3]=f.w,a+=4;Bt.bindBuffer(Bt.ARRAY_BUFFER,p.buffer),Bt.bufferData(Bt.ARRAY_BUFFER,p.array,e)}}function m(t,e,r,n,o){if(t.__inittedArrays){var a,s,c,l,u,h,p,d,m,v,g,y,x,b,_,w,M,S,T,C,A,E,L,P,k,R,D,F,O,N,U,B,z,V,I,H,j,G,W,X,$,q,Y=f(o),K=0,Q=0,Z=0,J=0,tt=0,et=0,rt=0,nt=0,it=0,ot=0,at=0,st=0,ct=0,lt=t.__vertexArray,ut=t.__uvArray,ht=t.__uv2Array,ft=t.__normalArray,pt=t.__tangentArray,dt=t.__colorArray,mt=t.__skinIndexArray,vt=t.__skinWeightArray,gt=t.__morphTargetsArrays,yt=t.__morphNormalsArrays,xt=t.__webglCustomAttributesList,bt=t.__faceArray,_t=t.__lineArray,wt=e.geometry,Mt=wt.verticesNeedUpdate,St=wt.elementsNeedUpdate,Tt=wt.uvsNeedUpdate,Ct=wt.normalsNeedUpdate,At=wt.tangentsNeedUpdate,Et=wt.colorsNeedUpdate,Lt=wt.morphTargetsNeedUpdate,Pt=wt.vertices,kt=t.faces3,Rt=wt.faces,Dt=wt.faceVertexUvs[0],Ft=wt.faceVertexUvs[1],Ot=(wt.colors,wt.skinIndices),Nt=wt.skinWeights,Ut=wt.morphTargets,zt=wt.morphNormals;if(Mt){for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],y=Pt[l.a],x=Pt[l.b],b=Pt[l.c],lt[Q]=y.x,lt[Q+1]=y.y,lt[Q+2]=y.z,lt[Q+3]=x.x,lt[Q+4]=x.y,lt[Q+5]=x.z,lt[Q+6]=b.x,lt[Q+7]=b.y,lt[Q+8]=b.z,Q+=9;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglVertexBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,lt,r)}if(Lt)for(I=0,H=Ut.length;I<H;I++){for(at=0,a=0,s=kt.length;a<s;a++)W=kt[a],l=Rt[W],y=Ut[I].vertices[l.a],x=Ut[I].vertices[l.b],b=Ut[I].vertices[l.c],j=gt[I],j[at]=y.x,j[at+1]=y.y,j[at+2]=y.z,j[at+3]=x.x,j[at+4]=x.y,j[at+5]=x.z,j[at+6]=b.x,j[at+7]=b.y,j[at+8]=b.z,o.morphNormals&&(Y?(X=zt[I].vertexNormals[W],S=X.a,T=X.b,C=X.c):(S=zt[I].faceNormals[W],T=S,C=S),G=yt[I],G[at]=S.x,G[at+1]=S.y,G[at+2]=S.z,G[at+3]=T.x,G[at+4]=T.y,G[at+5]=T.z,G[at+6]=C.x,G[at+7]=C.y,G[at+8]=C.z),at+=9;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[I]),Bt.bufferData(Bt.ARRAY_BUFFER,gt[I],r),o.morphNormals&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[I]),Bt.bufferData(Bt.ARRAY_BUFFER,yt[I],r))}if(Nt.length){for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],P=Nt[l.a],k=Nt[l.b],R=Nt[l.c],vt[ot]=P.x,vt[ot+1]=P.y,vt[ot+2]=P.z,vt[ot+3]=P.w,vt[ot+4]=k.x,vt[ot+5]=k.y,vt[ot+6]=k.z,vt[ot+7]=k.w,vt[ot+8]=R.x,vt[ot+9]=R.y,vt[ot+10]=R.z,vt[ot+11]=R.w,D=Ot[l.a],F=Ot[l.b],O=Ot[l.c],mt[ot]=D.x,mt[ot+1]=D.y,mt[ot+2]=D.z,mt[ot+3]=D.w,mt[ot+4]=F.x,mt[ot+5]=F.y,mt[ot+6]=F.z,mt[ot+7]=F.w,mt[ot+8]=O.x,mt[ot+9]=O.y,mt[ot+10]=O.z,mt[ot+11]=O.w,ot+=12;ot>0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglSkinIndicesBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,mt,r),Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglSkinWeightsBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,vt,r))}if(Et){for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],p=l.vertexColors,d=l.color,3===p.length&&o.vertexColors===i.VertexColors?(A=p[0],E=p[1],L=p[2]):(A=d,E=d,L=d),dt[it]=A.r,dt[it+1]=A.g,dt[it+2]=A.b,dt[it+3]=E.r,dt[it+4]=E.g,dt[it+5]=E.b,dt[it+6]=L.r,dt[it+7]=L.g,dt[it+8]=L.b,it+=9;it>0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglColorBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,dt,r))}if(At&&wt.hasTangents){for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],m=l.vertexTangents,_=m[0],w=m[1],M=m[2],pt[rt]=_.x,pt[rt+1]=_.y,pt[rt+2]=_.z,pt[rt+3]=_.w,pt[rt+4]=w.x,pt[rt+5]=w.y,pt[rt+6]=w.z,pt[rt+7]=w.w,pt[rt+8]=M.x,pt[rt+9]=M.y,pt[rt+10]=M.z,pt[rt+11]=M.w,rt+=12;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglTangentBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,pt,r)}if(Ct){for(a=0,s=kt.length;a<s;a++)if(l=Rt[kt[a]],u=l.vertexNormals,h=l.normal,3===u.length&&Y)for(N=0;N<3;N++)B=u[N],ft[et]=B.x,ft[et+1]=B.y,ft[et+2]=B.z,et+=3;else for(N=0;N<3;N++)ft[et]=h.x,ft[et+1]=h.y,ft[et+2]=h.z,et+=3;Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglNormalBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,ft,r)}if(Tt&&Dt){for(a=0,s=kt.length;a<s;a++)if(c=kt[a],v=Dt[c],void 0!==v)for(N=0;N<3;N++)z=v[N],ut[Z]=z.x,ut[Z+1]=z.y,Z+=2;Z>0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglUVBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,ut,r))}if(Tt&&Ft){for(a=0,s=kt.length;a<s;a++)if(c=kt[a],g=Ft[c],void 0!==g)for(N=0;N<3;N++)V=g[N],ht[J]=V.x,ht[J+1]=V.y,J+=2;J>0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglUV2Buffer),Bt.bufferData(Bt.ARRAY_BUFFER,ht,r))}if(St){for(a=0,s=kt.length;a<s;a++)bt[tt]=K,bt[tt+1]=K+1,bt[tt+2]=K+2,tt+=3,_t[nt]=K,_t[nt+1]=K+1,_t[nt+2]=K,_t[nt+3]=K+2,_t[nt+4]=K+1,_t[nt+5]=K+2,nt+=6,K+=3;Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,t.__webglFaceBuffer),Bt.bufferData(Bt.ELEMENT_ARRAY_BUFFER,bt,r),Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,t.__webglLineBuffer),Bt.bufferData(Bt.ELEMENT_ARRAY_BUFFER,_t,r)}if(xt)for(N=0,U=xt.length;N<U;N++)if(q=xt[N],q.__original.needsUpdate){if(st=0,ct=0,1===q.size){if(void 0===q.boundTo||"vertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],q.array[st]=q.value[l.a],q.array[st+1]=q.value[l.b],q.array[st+2]=q.value[l.c],st+=3;else if("faces"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],q.array[st]=$,q.array[st+1]=$,q.array[st+2]=$,st+=3}else if(2===q.size){if(void 0===q.boundTo||"vertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],y=q.value[l.a],x=q.value[l.b],b=q.value[l.c],q.array[st]=y.x,q.array[st+1]=y.y,q.array[st+2]=x.x,q.array[st+3]=x.y,q.array[st+4]=b.x,q.array[st+5]=b.y,st+=6;else if("faces"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],y=$,x=$,b=$,q.array[st]=y.x,q.array[st+1]=y.y,q.array[st+2]=x.x,q.array[st+3]=x.y,q.array[st+4]=b.x,q.array[st+5]=b.y,st+=6}else if(3===q.size){var Vt;if(Vt="c"===q.type?["r","g","b"]:["x","y","z"],void 0===q.boundTo||"vertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],y=q.value[l.a],x=q.value[l.b],b=q.value[l.c],q.array[st]=y[Vt[0]],q.array[st+1]=y[Vt[1]],q.array[st+2]=y[Vt[2]],q.array[st+3]=x[Vt[0]],q.array[st+4]=x[Vt[1]],q.array[st+5]=x[Vt[2]],q.array[st+6]=b[Vt[0]],q.array[st+7]=b[Vt[1]],q.array[st+8]=b[Vt[2]],st+=9;else if("faces"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],y=$,x=$,b=$,q.array[st]=y[Vt[0]],q.array[st+1]=y[Vt[1]],q.array[st+2]=y[Vt[2]],q.array[st+3]=x[Vt[0]],q.array[st+4]=x[Vt[1]],q.array[st+5]=x[Vt[2]],q.array[st+6]=b[Vt[0]],q.array[st+7]=b[Vt[1]],q.array[st+8]=b[Vt[2]],st+=9;else if("faceVertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],y=$[0],x=$[1],b=$[2],q.array[st]=y[Vt[0]],q.array[st+1]=y[Vt[1]],q.array[st+2]=y[Vt[2]],q.array[st+3]=x[Vt[0]],q.array[st+4]=x[Vt[1]],q.array[st+5]=x[Vt[2]],q.array[st+6]=b[Vt[0]],q.array[st+7]=b[Vt[1]],q.array[st+8]=b[Vt[2]],st+=9}else if(4===q.size)if(void 0===q.boundTo||"vertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)l=Rt[kt[a]],y=q.value[l.a],x=q.value[l.b],b=q.value[l.c],q.array[st]=y.x,q.array[st+1]=y.y,q.array[st+2]=y.z,q.array[st+3]=y.w,q.array[st+4]=x.x,q.array[st+5]=x.y,q.array[st+6]=x.z,q.array[st+7]=x.w,q.array[st+8]=b.x,q.array[st+9]=b.y,q.array[st+10]=b.z,q.array[st+11]=b.w,st+=12;else if("faces"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],y=$,x=$,b=$,q.array[st]=y.x,q.array[st+1]=y.y,q.array[st+2]=y.z,q.array[st+3]=y.w,q.array[st+4]=x.x,q.array[st+5]=x.y,q.array[st+6]=x.z,q.array[st+7]=x.w,q.array[st+8]=b.x,q.array[st+9]=b.y,q.array[st+10]=b.z,q.array[st+11]=b.w,st+=12;else if("faceVertices"===q.boundTo)for(a=0,s=kt.length;a<s;a++)$=q.value[kt[a]],y=$[0],x=$[1],b=$[2],q.array[st]=y.x,q.array[st+1]=y.y,q.array[st+2]=y.z,q.array[st+3]=y.w,q.array[st+4]=x.x,q.array[st+5]=x.y,q.array[st+6]=x.z,q.array[st+7]=x.w,q.array[st+8]=b.x,q.array[st+9]=b.y,q.array[st+10]=b.z,q.array[st+11]=b.w,st+=12;Bt.bindBuffer(Bt.ARRAY_BUFFER,q.buffer),Bt.bufferData(Bt.ARRAY_BUFFER,q.array,r)}n&&(delete t.__inittedArrays,delete t.__colorArray,delete t.__normalArray,delete t.__tangentArray,delete t.__uvArray,delete t.__uv2Array,delete t.__faceArray,delete t.__vertexArray,delete t.__lineArray,delete t.__skinIndexArray,delete t.__skinWeightArray)}}function v(t){for(var e=t.attributes,r=t.attributesKeys,n=0,i=r.length;n<i;n++){var o=r[n],a=e[o];if(void 0===a.buffer&&(a.buffer=Bt.createBuffer(),a.needsUpdate=!0),a.needsUpdate===!0){var s="index"===o?Bt.ELEMENT_ARRAY_BUFFER:Bt.ARRAY_BUFFER;Bt.bindBuffer(s,a.buffer),Bt.bufferData(s,a.array,Bt.STATIC_DRAW),a.needsUpdate=!1}}}function g(t,e,r,n){for(var i=r.attributes,o=e.attributes,a=e.attributesKeys,s=0,c=a.length;s<c;s++){var l=a[s],u=o[l];if(u>=0){var h=i[l];if(void 0!==h){var f=h.itemSize;Bt.bindBuffer(Bt.ARRAY_BUFFER,h.buffer),x(u),Bt.vertexAttribPointer(u,f,Bt.FLOAT,!1,0,n*f*4)}else void 0!==t.defaultAttributeValues&&(2===t.defaultAttributeValues[l].length?Bt.vertexAttrib2fv(u,t.defaultAttributeValues[l]):3===t.defaultAttributeValues[l].length&&Bt.vertexAttrib3fv(u,t.defaultAttributeValues[l]))}}b()}function y(){for(var t=0,e=he.length;t<e;t++)he[t]=0}function x(t){he[t]=1,0===fe[t]&&(Bt.enableVertexAttribArray(t),fe[t]=1)}function b(){for(var t=0,e=fe.length;t<e;t++)fe[t]!==he[t]&&(Bt.disableVertexAttribArray(t),fe[t]=0)}function _(t,e,r){var n=t.program.attributes;if(r.morphTargetBase!==-1&&n.position>=0?(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[r.morphTargetBase]),x(n.position),Bt.vertexAttribPointer(n.position,3,Bt.FLOAT,!1,0,0)):n.position>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglVertexBuffer),x(n.position),Bt.vertexAttribPointer(n.position,3,Bt.FLOAT,!1,0,0)),r.morphTargetForcedOrder.length)for(var i=0,o=r.morphTargetForcedOrder,a=r.morphTargetInfluences;i<t.numSupportedMorphTargets&&i<o.length;)n["morphTarget"+i]>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[o[i]]),x(n["morphTarget"+i]),Bt.vertexAttribPointer(n["morphTarget"+i],3,Bt.FLOAT,!1,0,0)),n["morphNormal"+i]>=0&&t.morphNormals&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[o[i]]),x(n["morphNormal"+i]),Bt.vertexAttribPointer(n["morphNormal"+i],3,Bt.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[i]=a[o[i]],i++;else{var s,c,l=[],a=r.morphTargetInfluences,u=a.length;for(c=0;c<u;c++)s=a[c],s>0&&l.push([s,c]);l.length>t.numSupportedMorphTargets?(l.sort(S),l.length=t.numSupportedMorphTargets):l.length>t.numSupportedMorphNormals?l.sort(S):0===l.length&&l.push([0,0]);for(var h,i=0;i<t.numSupportedMorphTargets;)l[i]?(h=l[i][1],n["morphTarget"+i]>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[h]),x(n["morphTarget"+i]),Bt.vertexAttribPointer(n["morphTarget"+i],3,Bt.FLOAT,!1,0,0)),n["morphNormal"+i]>=0&&t.morphNormals&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[h]),x(n["morphNormal"+i]),Bt.vertexAttribPointer(n["morphNormal"+i],3,Bt.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[i]=a[h]):r.__webglMorphTargetInfluences[i]=0,i++}null!==t.program.uniforms.morphTargetInfluences&&Bt.uniform1fv(t.program.uniforms.morphTargetInfluences,r.__webglMorphTargetInfluences)}function w(t,e){return t.material.id!==e.material.id?e.material.id-t.material.id:t.z!==e.z?e.z-t.z:t.id-e.id}function M(t,e){return t.z!==e.z?t.z-e.z:t.id-e.id}function S(t,e){return e[0]-t[0]}function T(t,e){if(e.visible!==!1){if(e instanceof i.Scene||e instanceof i.Group);else if(P(e,t),e instanceof i.Light)kt.push(e);else if(e instanceof i.Sprite)Nt.push(e);else if(e instanceof i.LensFlare)Ut.push(e);else{var r=Rt[e.id];if(r&&(e.frustumCulled===!1||pe.intersectsObject(e)===!0)){O(e,t);for(var n=0,o=r.length;n<o;n++){var a=r[n];L(a),a.render=!0,zt.sortObjects===!0&&(null!==e.renderDepth?a.z=e.renderDepth:(ve.setFromMatrixPosition(e.matrixWorld),ve.applyProjection(de),a.z=ve.z))}}}for(var n=0,o=e.children.length;n<o;n++)T(t,e.children[n])}}function C(t,e,r,n,o,a){for(var s,c=t.length-1;c!==-1;c--){var l=t[c],u=l.object,h=l.buffer;if(et(u,e),a)s=a;else{if(s=l.material,!s)continue;o&&zt.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),zt.setDepthTest(s.depthTest),zt.setDepthWrite(s.depthWrite),at(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}zt.setMaterialFaces(s),h instanceof i.BufferGeometry?zt.renderBufferDirect(e,r,n,s,h,u):zt.renderBuffer(e,r,n,s,h,u)}}function A(t,e,r,n,i,o,a){for(var s,c=0,l=t.length;c<l;c++){var u=t[c],h=u.object;if(h.visible){if(a)s=a;else{if(s=u[e],!s)continue;o&&zt.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),zt.setDepthTest(s.depthTest),zt.setDepthWrite(s.depthWrite),at(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}zt.renderImmediateObject(r,n,i,s,h)}}}function E(t){var e=t.object,r=e.material;r.transparent?(t.transparent=r,t.opaque=null):(t.opaque=r,t.transparent=null)}function L(t){var e=t.object,r=t.buffer,n=e.geometry,o=e.material;if(o instanceof i.MeshFaceMaterial){var a=n instanceof i.BufferGeometry?0:r.materialIndex;o=o.materials[a],t.material=o,o.transparent?Ot.push(t):Ft.push(t)}else o&&(t.material=o,o.transparent?Ot.push(t):Ft.push(t))}function P(t,e){void 0===t.__webglInit&&(t.__webglInit=!0,t._modelViewMatrix=new i.Matrix4,t._normalMatrix=new i.Matrix3,t.addEventListener("removed",Be));var n=t.geometry;if(void 0===n||void 0===n.__webglInit&&(n.__webglInit=!0,n.addEventListener("dispose",ze),n instanceof i.BufferGeometry||(t instanceof i.Mesh?R(e,t,n):t instanceof i.Line?void 0===n.__webglVertexBuffer&&(o(n),l(n,t),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0,n.lineDistancesNeedUpdate=!0):t instanceof i.PointCloud&&void 0===n.__webglVertexBuffer&&(r(n),c(n,t),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0))),void 0===t.__webglActive)if(t.__webglActive=!0,t instanceof i.Mesh){if(n instanceof i.BufferGeometry)D(Rt,n,t);else if(n instanceof i.Geometry)for(var a=qe[n.id],s=0,u=a.length;s<u;s++)D(Rt,a[s],t)}else t instanceof i.Line||t instanceof i.PointCloud?D(Rt,n,t):(t instanceof i.ImmediateRenderObject||t.immediateRenderCallback)&&F(Dt,t)}function k(t,e){for(var r,n,i=_e.get("OES_element_index_uint")?4294967296:65535,o={},a=t.morphTargets.length,s=t.morphNormals.length,c={},l=[],u=0,h=t.faces.length;u<h;u++){var f=t.faces[u],p=e?f.materialIndex:0;p in o||(o[p]={hash:p,counter:0}),r=o[p].hash+"_"+o[p].counter,r in c||(n={id:Ye++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},c[r]=n,l.push(n)),c[r].vertices+3>i&&(o[p].counter+=1,r=o[p].hash+"_"+o[p].counter,r in c||(n={id:Ye++,faces3:[],materialIndex:p,vertices:0,numMorphTargets:a,numMorphNormals:s},c[r]=n,l.push(n))),c[r].faces3.push(u),c[r].vertices+=3}return l}function R(t,e,r){var n=e.material,o=!1;void 0!==qe[r.id]&&r.groupsNeedUpdate!==!0||(delete Rt[e.id],qe[r.id]=k(r,n instanceof i.MeshFaceMaterial),r.groupsNeedUpdate=!1);for(var s=qe[r.id],c=0,l=s.length;c<l;c++){var h=s[c];void 0===h.__webglVertexBuffer?(a(h),u(h,e),r.verticesNeedUpdate=!0,r.morphTargetsNeedUpdate=!0,r.elementsNeedUpdate=!0,r.uvsNeedUpdate=!0,r.normalsNeedUpdate=!0,r.tangentsNeedUpdate=!0,r.colorsNeedUpdate=!0,o=!0):o=!1,(o||void 0===e.__webglActive)&&D(Rt,h,e)}e.__webglActive=!0}function D(t,e,r){var n=r.id;t[n]=t[n]||[],t[n].push({id:n,buffer:e,object:r,material:null,z:0})}function F(t,e){t.push({id:null,object:e,opaque:null,transparent:null,z:0})}function O(t,e){var r,n,o=t.geometry;if(o instanceof i.BufferGeometry)v(o);else if(t instanceof i.Mesh){o.groupsNeedUpdate===!0&&R(e,t,o);for(var a=qe[o.id],s=0,c=a.length;s<c;s++){var l=a[s];n=h(t,l),o.groupsNeedUpdate===!0&&u(l,t),r=n.attributes&&N(n),(o.verticesNeedUpdate||o.morphTargetsNeedUpdate||o.elementsNeedUpdate||o.uvsNeedUpdate||o.normalsNeedUpdate||o.colorsNeedUpdate||o.tangentsNeedUpdate||r)&&m(l,t,Bt.DYNAMIC_DRAW,!o.dynamic,n)}o.verticesNeedUpdate=!1,o.morphTargetsNeedUpdate=!1,o.elementsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.tangentsNeedUpdate=!1,n.attributes&&U(n)}else t instanceof i.Line?(n=h(t,o),r=n.attributes&&N(n),(o.verticesNeedUpdate||o.colorsNeedUpdate||o.lineDistancesNeedUpdate||r)&&d(o,Bt.DYNAMIC_DRAW),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,o.lineDistancesNeedUpdate=!1,n.attributes&&U(n)):t instanceof i.PointCloud&&(n=h(t,o),r=n.attributes&&N(n),(o.verticesNeedUpdate||o.colorsNeedUpdate||t.sortParticles||r)&&p(o,Bt.DYNAMIC_DRAW,t),o.verticesNeedUpdate=!1,o.colorsNeedUpdate=!1,n.attributes&&U(n))}function N(t){for(var e in t.attributes)if(t.attributes[e].needsUpdate)return!0;return!1}function U(t){for(var e in t.attributes)t.attributes[e].needsUpdate=!1}function B(t){t instanceof i.Mesh||t instanceof i.PointCloud||t instanceof i.Line?delete Rt[t.id]:(t instanceof i.ImmediateRenderObject||t.immediateRenderCallback)&&z(Dt,t),delete t.__webglInit,delete t._modelViewMatrix,delete t._normalMatrix,delete t.__webglActive}function z(t,e){for(var r=t.length-1;r>=0;r--)t[r].object===e&&t.splice(r,1)}function V(t,e,r,n){t.addEventListener("dispose",He);var o;if(t instanceof i.MeshDepthMaterial?o="depth":t instanceof i.MeshNormalMaterial?o="normal":t instanceof i.MeshBasicMaterial?o="basic":t instanceof i.MeshLambertMaterial?o="lambert":t instanceof i.MeshPhongMaterial?o="phong":t instanceof i.LineBasicMaterial?o="basic":t instanceof i.LineDashedMaterial?o="dashed":t instanceof i.PointCloudMaterial&&(o="particle_basic"),o){var a=i.ShaderLib[o];t.__webglShader={uniforms:i.UniformsUtils.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}}else t.__webglShader={uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};var s=gt(e),c=yt(e),l=vt(n),u={precision:_t,supportsVertexTextures:Ce,map:!!t.map,envMap:!!t.envMap,lightMap:!!t.lightMap,bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,vertexColors:t.vertexColors,fog:r,useFog:t.fog,fogExp:r instanceof i.FogExp2,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:Et,skinning:t.skinning,maxBones:l,useVertexTexture:Ae&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:zt.maxMorphTargets,maxMorphNormals:zt.maxMorphNormals,maxDirLights:s.directional,maxPointLights:s.point,maxSpotLights:s.spot,maxHemiLights:s.hemi,maxShadows:c,shadowMapEnabled:zt.shadowMapEnabled&&n.receiveShadow&&c>0,shadowMapType:zt.shadowMapType,shadowMapDebug:zt.shadowMapDebug,shadowMapCascade:zt.shadowMapCascade,alphaTest:t.alphaTest,metal:t.metal,wrapAround:t.wrapAround,doubleSided:t.side===i.DoubleSide,flipSided:t.side===i.BackSide},h=[];if(o?h.push(o):(h.push(t.fragmentShader),h.push(t.vertexShader)),void 0!==t.defines)for(var f in t.defines)h.push(f),h.push(t.defines[f]);for(var f in u)h.push(f),h.push(u[f]);for(var p,d=h.join(),m=0,v=Vt.length;m<v;m++){var g=Vt[m];if(g.code===d){p=g,p.usedTimes++;break}}void 0===p&&(p=new i.WebGLProgram(zt,d,t,u),Vt.push(p),zt.info.memory.programs=Vt.length),t.program=p;var y=p.attributes;if(t.morphTargets){t.numSupportedMorphTargets=0;for(var x,b="morphTarget",_=0;_<zt.maxMorphTargets;_++)x=b+_,y[x]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;var x,b="morphNormal";for(_=0;_<zt.maxMorphNormals;_++)x=b+_,y[x]>=0&&t.numSupportedMorphNormals++}t.uniformsList=[];for(var w in t.__webglShader.uniforms){var M=t.program.uniforms[w];M&&t.uniformsList.push([t.__webglShader.uniforms[w],M])}}function I(t,e,r,n,o){Xt=0,n.needsUpdate&&(n.program&&$e(n),V(n,e,r,o),n.needsUpdate=!1),n.morphTargets&&(o.__webglMorphTargetInfluences||(o.__webglMorphTargetInfluences=new Float32Array(zt.maxMorphTargets)));var a=!1,s=!1,c=!1,l=n.program,u=l.uniforms,h=n.__webglShader.uniforms;if(l.id!==It&&(Bt.useProgram(l.program),It=l.id,a=!0,s=!0,c=!0),n.id!==jt&&(jt===-1&&(c=!0),jt=n.id,s=!0),(a||t!==Wt)&&(Bt.uniformMatrix4fv(u.projectionMatrix,!1,t.projectionMatrix.elements),Et&&Bt.uniform1f(u.logDepthBufFC,2/(Math.log(t.far+1)/Math.LN2)),t!==Wt&&(Wt=t),(n instanceof i.ShaderMaterial||n instanceof i.MeshPhongMaterial||n.envMap)&&null!==u.cameraPosition&&(ve.setFromMatrixPosition(t.matrixWorld),Bt.uniform3f(u.cameraPosition,ve.x,ve.y,ve.z)),(n instanceof i.MeshPhongMaterial||n instanceof i.MeshLambertMaterial||n instanceof i.ShaderMaterial||n.skinning)&&null!==u.viewMatrix&&Bt.uniformMatrix4fv(u.viewMatrix,!1,t.matrixWorldInverse.elements)),n.skinning)if(o.bindMatrix&&null!==u.bindMatrix&&Bt.uniformMatrix4fv(u.bindMatrix,!1,o.bindMatrix.elements),o.bindMatrixInverse&&null!==u.bindMatrixInverse&&Bt.uniformMatrix4fv(u.bindMatrixInverse,!1,o.bindMatrixInverse.elements),Ae&&o.skeleton&&o.skeleton.useVertexTexture){if(null!==u.boneTexture){var f=J();Bt.uniform1i(u.boneTexture,f),zt.setTexture(o.skeleton.boneTexture,f)}null!==u.boneTextureWidth&&Bt.uniform1i(u.boneTextureWidth,o.skeleton.boneTextureWidth),
null!==u.boneTextureHeight&&Bt.uniform1i(u.boneTextureHeight,o.skeleton.boneTextureHeight)}else o.skeleton&&o.skeleton.boneMatrices&&null!==u.boneGlobalMatrices&&Bt.uniformMatrix4fv(u.boneGlobalMatrices,!1,o.skeleton.boneMatrices);return s&&(r&&n.fog&&X(h,r),(n instanceof i.MeshPhongMaterial||n instanceof i.MeshLambertMaterial||n.lights)&&(ye&&(c=!0,it(e),ye=!1),c?(Y(h,xe),K(h,!0)):K(h,!1)),(n instanceof i.MeshBasicMaterial||n instanceof i.MeshLambertMaterial||n instanceof i.MeshPhongMaterial)&&H(h,n),n instanceof i.LineBasicMaterial?j(h,n):n instanceof i.LineDashedMaterial?(j(h,n),G(h,n)):n instanceof i.PointCloudMaterial?W(h,n):n instanceof i.MeshPhongMaterial?$(h,n):n instanceof i.MeshLambertMaterial?q(h,n):n instanceof i.MeshDepthMaterial?(h.mNear.value=t.near,h.mFar.value=t.far,h.opacity.value=n.opacity):n instanceof i.MeshNormalMaterial&&(h.opacity.value=n.opacity),o.receiveShadow&&!n._shadowPass&&Q(h,e),tt(n.uniformsList)),Z(u,o),null!==u.modelMatrix&&Bt.uniformMatrix4fv(u.modelMatrix,!1,o.matrixWorld.elements),l}function H(t,e){t.opacity.value=e.opacity,zt.gammaInput?t.diffuse.value.copyGammaToLinear(e.color):t.diffuse.value=e.color,t.map.value=e.map,t.lightMap.value=e.lightMap,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));var r;if(e.map?r=e.map:e.specularMap?r=e.specularMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.alphaMap&&(r=e.alphaMap),void 0!==r){var n=r.offset,o=r.repeat;t.offsetRepeat.value.set(n.x,n.y,o.x,o.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof i.WebGLRenderTargetCube?1:-1,zt.gammaInput?t.reflectivity.value=e.reflectivity:t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.combine.value=e.combine,t.useRefract.value=e.envMap&&e.envMap.mapping instanceof i.CubeRefractionMapping}function j(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function G(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function W(t,e){t.psColor.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size,t.scale.value=xt.height/2,t.map.value=e.map}function X(t,e){t.fogColor.value=e.color,e instanceof i.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof i.FogExp2&&(t.fogDensity.value=e.density)}function $(t,e){t.shininess.value=e.shininess,zt.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive),t.specular.value.copyGammaToLinear(e.specular)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive,t.specular.value=e.specular),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function q(t,e){zt.gammaInput?(t.ambient.value.copyGammaToLinear(e.ambient),t.emissive.value.copyGammaToLinear(e.emissive)):(t.ambient.value=e.ambient,t.emissive.value=e.emissive),e.wrapAround&&t.wrapRGB.value.copy(e.wrapRGB)}function Y(t,e){t.ambientLightColor.value=e.ambient,t.directionalLightColor.value=e.directional.colors,t.directionalLightDirection.value=e.directional.positions,t.pointLightColor.value=e.point.colors,t.pointLightPosition.value=e.point.positions,t.pointLightDistance.value=e.point.distances,t.spotLightColor.value=e.spot.colors,t.spotLightPosition.value=e.spot.positions,t.spotLightDistance.value=e.spot.distances,t.spotLightDirection.value=e.spot.directions,t.spotLightAngleCos.value=e.spot.anglesCos,t.spotLightExponent.value=e.spot.exponents,t.hemisphereLightSkyColor.value=e.hemi.skyColors,t.hemisphereLightGroundColor.value=e.hemi.groundColors,t.hemisphereLightDirection.value=e.hemi.positions}function K(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLightColor.needsUpdate=e,t.directionalLightDirection.needsUpdate=e,t.pointLightColor.needsUpdate=e,t.pointLightPosition.needsUpdate=e,t.pointLightDistance.needsUpdate=e,t.spotLightColor.needsUpdate=e,t.spotLightPosition.needsUpdate=e,t.spotLightDistance.needsUpdate=e,t.spotLightDirection.needsUpdate=e,t.spotLightAngleCos.needsUpdate=e,t.spotLightExponent.needsUpdate=e,t.hemisphereLightSkyColor.needsUpdate=e,t.hemisphereLightGroundColor.needsUpdate=e,t.hemisphereLightDirection.needsUpdate=e}function Q(t,e){if(t.shadowMatrix)for(var r=0,n=0,o=e.length;n<o;n++){var a=e[n];a.castShadow&&(a instanceof i.SpotLight||a instanceof i.DirectionalLight&&!a.shadowCascade)&&(t.shadowMap.value[r]=a.shadowMap,t.shadowMapSize.value[r]=a.shadowMapSize,t.shadowMatrix.value[r]=a.shadowMatrix,t.shadowDarkness.value[r]=a.shadowDarkness,t.shadowBias.value[r]=a.shadowBias,r++)}}function Z(t,e){Bt.uniformMatrix4fv(t.modelViewMatrix,!1,e._modelViewMatrix.elements),t.normalMatrix&&Bt.uniformMatrix3fv(t.normalMatrix,!1,e._normalMatrix.elements)}function J(){var t=Xt;return t>=we&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+we),Xt+=1,t}function tt(t){for(var e,r,n,o=0,a=t.length;o<a;o++){var s=t[o][0];if(s.needsUpdate!==!1){var c=s.type,l=s.value,u=t[o][1];switch(c){case"1i":Bt.uniform1i(u,l);break;case"1f":Bt.uniform1f(u,l);break;case"2f":Bt.uniform2f(u,l[0],l[1]);break;case"3f":Bt.uniform3f(u,l[0],l[1],l[2]);break;case"4f":Bt.uniform4f(u,l[0],l[1],l[2],l[3]);break;case"1iv":Bt.uniform1iv(u,l);break;case"3iv":Bt.uniform3iv(u,l);break;case"1fv":Bt.uniform1fv(u,l);break;case"2fv":Bt.uniform2fv(u,l);break;case"3fv":Bt.uniform3fv(u,l);break;case"4fv":Bt.uniform4fv(u,l);break;case"Matrix3fv":Bt.uniformMatrix3fv(u,!1,l);break;case"Matrix4fv":Bt.uniformMatrix4fv(u,!1,l);break;case"i":Bt.uniform1i(u,l);break;case"f":Bt.uniform1f(u,l);break;case"v2":Bt.uniform2f(u,l.x,l.y);break;case"v3":Bt.uniform3f(u,l.x,l.y,l.z);break;case"v4":Bt.uniform4f(u,l.x,l.y,l.z,l.w);break;case"c":Bt.uniform3f(u,l.r,l.g,l.b);break;case"iv1":Bt.uniform1iv(u,l);break;case"iv":Bt.uniform3iv(u,l);break;case"fv1":Bt.uniform1fv(u,l);break;case"fv":Bt.uniform3fv(u,l);break;case"v2v":void 0===s._array&&(s._array=new Float32Array(2*l.length));for(var h=0,f=l.length;h<f;h++)n=2*h,s._array[n]=l[h].x,s._array[n+1]=l[h].y;Bt.uniform2fv(u,s._array);break;case"v3v":void 0===s._array&&(s._array=new Float32Array(3*l.length));for(var h=0,f=l.length;h<f;h++)n=3*h,s._array[n]=l[h].x,s._array[n+1]=l[h].y,s._array[n+2]=l[h].z;Bt.uniform3fv(u,s._array);break;case"v4v":void 0===s._array&&(s._array=new Float32Array(4*l.length));for(var h=0,f=l.length;h<f;h++)n=4*h,s._array[n]=l[h].x,s._array[n+1]=l[h].y,s._array[n+2]=l[h].z,s._array[n+3]=l[h].w;Bt.uniform4fv(u,s._array);break;case"m3":Bt.uniformMatrix3fv(u,!1,l.elements);break;case"m3v":void 0===s._array&&(s._array=new Float32Array(9*l.length));for(var h=0,f=l.length;h<f;h++)l[h].flattenToArrayOffset(s._array,9*h);Bt.uniformMatrix3fv(u,!1,s._array);break;case"m4":Bt.uniformMatrix4fv(u,!1,l.elements);break;case"m4v":void 0===s._array&&(s._array=new Float32Array(16*l.length));for(var h=0,f=l.length;h<f;h++)l[h].flattenToArrayOffset(s._array,16*h);Bt.uniformMatrix4fv(u,!1,s._array);break;case"t":if(e=l,r=J(),Bt.uniform1i(u,r),!e)continue;e instanceof i.CubeTexture||e.image instanceof Array&&6===e.image.length?lt(e,r):e instanceof i.WebGLRenderTargetCube?ut(e,r):zt.setTexture(e,r);break;case"tv":void 0===s._array&&(s._array=[]);for(var h=0,f=s.value.length;h<f;h++)s._array[h]=J();Bt.uniform1iv(u,s._array);for(var h=0,f=s.value.length;h<f;h++)e=s.value[h],r=s._array[h],e&&zt.setTexture(e,r);break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+c)}}}}function et(t,e){t._modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,t.matrixWorld),t._normalMatrix.getNormalMatrix(t._modelViewMatrix)}function rt(t,e,r,n){t[e]=r.r*r.r*n,t[e+1]=r.g*r.g*n,t[e+2]=r.b*r.b*n}function nt(t,e,r,n){t[e]=r.r*n,t[e+1]=r.g*n,t[e+2]=r.b*n}function it(t){var e,r,n,o,a,s,c,l,u,h=0,f=0,p=0,d=xe,m=d.directional.colors,v=d.directional.positions,g=d.point.colors,y=d.point.positions,x=d.point.distances,b=d.spot.colors,_=d.spot.positions,w=d.spot.distances,M=d.spot.directions,S=d.spot.anglesCos,T=d.spot.exponents,C=d.hemi.skyColors,A=d.hemi.groundColors,E=d.hemi.positions,L=0,P=0,k=0,R=0,D=0,F=0,O=0,N=0,U=0,B=0,z=0,V=0;for(e=0,r=t.length;e<r;e++)if(n=t[e],!n.onlyShadow)if(o=n.color,c=n.intensity,u=n.distance,n instanceof i.AmbientLight){if(!n.visible)continue;zt.gammaInput?(h+=o.r*o.r,f+=o.g*o.g,p+=o.b*o.b):(h+=o.r,f+=o.g,p+=o.b)}else if(n instanceof i.DirectionalLight){if(D+=1,!n.visible)continue;ge.setFromMatrixPosition(n.matrixWorld),ve.setFromMatrixPosition(n.target.matrixWorld),ge.sub(ve),ge.normalize(),U=3*L,v[U]=ge.x,v[U+1]=ge.y,v[U+2]=ge.z,zt.gammaInput?rt(m,U,o,c*c):nt(m,U,o,c),L+=1}else if(n instanceof i.PointLight){if(F+=1,!n.visible)continue;B=3*P,zt.gammaInput?rt(g,B,o,c*c):nt(g,B,o,c),ve.setFromMatrixPosition(n.matrixWorld),y[B]=ve.x,y[B+1]=ve.y,y[B+2]=ve.z,x[P]=u,P+=1}else if(n instanceof i.SpotLight){if(O+=1,!n.visible)continue;z=3*k,zt.gammaInput?rt(b,z,o,c*c):nt(b,z,o,c),ge.setFromMatrixPosition(n.matrixWorld),_[z]=ge.x,_[z+1]=ge.y,_[z+2]=ge.z,w[k]=u,ve.setFromMatrixPosition(n.target.matrixWorld),ge.sub(ve),ge.normalize(),M[z]=ge.x,M[z+1]=ge.y,M[z+2]=ge.z,S[k]=Math.cos(n.angle),T[k]=n.exponent,k+=1}else if(n instanceof i.HemisphereLight){if(N+=1,!n.visible)continue;ge.setFromMatrixPosition(n.matrixWorld),ge.normalize(),V=3*R,E[V]=ge.x,E[V+1]=ge.y,E[V+2]=ge.z,a=n.color,s=n.groundColor,zt.gammaInput?(l=c*c,rt(C,V,a,l),rt(A,V,s,l)):(nt(C,V,a,c),nt(A,V,s,c)),R+=1}for(e=3*L,r=Math.max(m.length,3*D);e<r;e++)m[e]=0;for(e=3*P,r=Math.max(g.length,3*F);e<r;e++)g[e]=0;for(e=3*k,r=Math.max(b.length,3*O);e<r;e++)b[e]=0;for(e=3*R,r=Math.max(C.length,3*N);e<r;e++)C[e]=0;for(e=3*R,r=Math.max(A.length,3*N);e<r;e++)A[e]=0;d.directional.length=L,d.point.length=P,d.spot.length=k,d.hemi.length=R,d.ambient[0]=h,d.ambient[1]=f,d.ambient[2]=p}function ot(t){t!==ie&&(Bt.lineWidth(t),ie=t)}function at(t,e,r){ee!==t&&(t?Bt.enable(Bt.POLYGON_OFFSET_FILL):Bt.disable(Bt.POLYGON_OFFSET_FILL),ee=t),!t||re===e&&ne===r||(Bt.polygonOffset(e,r),re=e,ne=r)}function st(t,e,r){var n;r?(Bt.texParameteri(t,Bt.TEXTURE_WRAP_S,mt(e.wrapS)),Bt.texParameteri(t,Bt.TEXTURE_WRAP_T,mt(e.wrapT)),Bt.texParameteri(t,Bt.TEXTURE_MAG_FILTER,mt(e.magFilter)),Bt.texParameteri(t,Bt.TEXTURE_MIN_FILTER,mt(e.minFilter))):(Bt.texParameteri(t,Bt.TEXTURE_WRAP_S,Bt.CLAMP_TO_EDGE),Bt.texParameteri(t,Bt.TEXTURE_WRAP_T,Bt.CLAMP_TO_EDGE),Bt.texParameteri(t,Bt.TEXTURE_MAG_FILTER,dt(e.magFilter)),Bt.texParameteri(t,Bt.TEXTURE_MIN_FILTER,dt(e.minFilter))),n=_e.get("EXT_texture_filter_anisotropic"),n&&e.type!==i.FloatType&&(e.anisotropy>1||e.__oldAnisotropy)&&(Bt.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,zt.getMaxAnisotropy())),e.__oldAnisotropy=e.anisotropy)}function ct(t,e){if(t.width>e||t.height>e){var r=e/Math.max(t.width,t.height),n=document.createElement("canvas");n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r);var i=n.getContext("2d");return i.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.log("THREE.WebGLRenderer:",t,"is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height+"."),n}return t}function lt(t,e){if(6===t.image.length)if(t.needsUpdate){t.image.__webglTextureCube||(t.addEventListener("dispose",Ve),t.image.__webglTextureCube=Bt.createTexture(),zt.info.memory.textures++),Bt.activeTexture(Bt.TEXTURE0+e),Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,t.image.__webglTextureCube),Bt.pixelStorei(Bt.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var r=t instanceof i.CompressedTexture,n=t.image[0]instanceof i.DataTexture,o=[],a=0;a<6;a++)!zt.autoScaleCubemaps||r||n?o[a]=n?t.image[a].image:t.image[a]:o[a]=ct(t.image[a],Te);var s=o[0],c=i.Math.isPowerOfTwo(s.width)&&i.Math.isPowerOfTwo(s.height),l=mt(t.format),u=mt(t.type);st(Bt.TEXTURE_CUBE_MAP,t,c);for(var a=0;a<6;a++)if(r)for(var h,f=o[a].mipmaps,p=0,d=f.length;p<d;p++)h=f[p],t.format!==i.RGBAFormat&&t.format!==i.RGBFormat?Re().indexOf(l)>-1?Bt.compressedTexImage2D(Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a,p,l,h.width,h.height,0,h.data):console.warn("Attempt to load unsupported compressed texture format"):Bt.texImage2D(Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a,p,l,h.width,h.height,0,l,u,h.data);else n?Bt.texImage2D(Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,o[a].width,o[a].height,0,l,u,o[a].data):Bt.texImage2D(Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,l,l,u,o[a]);t.generateMipmaps&&c&&Bt.generateMipmap(Bt.TEXTURE_CUBE_MAP),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()}else Bt.activeTexture(Bt.TEXTURE0+e),Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,t.image.__webglTextureCube)}function ut(t,e){Bt.activeTexture(Bt.TEXTURE0+e),Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,t.__webglTexture)}function ht(t,e,r){Bt.bindFramebuffer(Bt.FRAMEBUFFER,t),Bt.framebufferTexture2D(Bt.FRAMEBUFFER,Bt.COLOR_ATTACHMENT0,r,e.__webglTexture,0)}function ft(t,e){Bt.bindRenderbuffer(Bt.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(Bt.renderbufferStorage(Bt.RENDERBUFFER,Bt.DEPTH_COMPONENT16,e.width,e.height),Bt.framebufferRenderbuffer(Bt.FRAMEBUFFER,Bt.DEPTH_ATTACHMENT,Bt.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(Bt.renderbufferStorage(Bt.RENDERBUFFER,Bt.DEPTH_STENCIL,e.width,e.height),Bt.framebufferRenderbuffer(Bt.FRAMEBUFFER,Bt.DEPTH_STENCIL_ATTACHMENT,Bt.RENDERBUFFER,t)):Bt.renderbufferStorage(Bt.RENDERBUFFER,Bt.RGBA4,e.width,e.height)}function pt(t){t instanceof i.WebGLRenderTargetCube?(Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,t.__webglTexture),Bt.generateMipmap(Bt.TEXTURE_CUBE_MAP),Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,null)):(Bt.bindTexture(Bt.TEXTURE_2D,t.__webglTexture),Bt.generateMipmap(Bt.TEXTURE_2D),Bt.bindTexture(Bt.TEXTURE_2D,null))}function dt(t){return t===i.NearestFilter||t===i.NearestMipMapNearestFilter||t===i.NearestMipMapLinearFilter?Bt.NEAREST:Bt.LINEAR}function mt(t){var e;if(t===i.RepeatWrapping)return Bt.REPEAT;if(t===i.ClampToEdgeWrapping)return Bt.CLAMP_TO_EDGE;if(t===i.MirroredRepeatWrapping)return Bt.MIRRORED_REPEAT;if(t===i.NearestFilter)return Bt.NEAREST;if(t===i.NearestMipMapNearestFilter)return Bt.NEAREST_MIPMAP_NEAREST;if(t===i.NearestMipMapLinearFilter)return Bt.NEAREST_MIPMAP_LINEAR;if(t===i.LinearFilter)return Bt.LINEAR;if(t===i.LinearMipMapNearestFilter)return Bt.LINEAR_MIPMAP_NEAREST;if(t===i.LinearMipMapLinearFilter)return Bt.LINEAR_MIPMAP_LINEAR;if(t===i.UnsignedByteType)return Bt.UNSIGNED_BYTE;if(t===i.UnsignedShort4444Type)return Bt.UNSIGNED_SHORT_4_4_4_4;if(t===i.UnsignedShort5551Type)return Bt.UNSIGNED_SHORT_5_5_5_1;if(t===i.UnsignedShort565Type)return Bt.UNSIGNED_SHORT_5_6_5;if(t===i.ByteType)return Bt.BYTE;if(t===i.ShortType)return Bt.SHORT;if(t===i.UnsignedShortType)return Bt.UNSIGNED_SHORT;if(t===i.IntType)return Bt.INT;if(t===i.UnsignedIntType)return Bt.UNSIGNED_INT;if(t===i.FloatType)return Bt.FLOAT;if(t===i.AlphaFormat)return Bt.ALPHA;if(t===i.RGBFormat)return Bt.RGB;if(t===i.RGBAFormat)return Bt.RGBA;if(t===i.LuminanceFormat)return Bt.LUMINANCE;if(t===i.LuminanceAlphaFormat)return Bt.LUMINANCE_ALPHA;if(t===i.AddEquation)return Bt.FUNC_ADD;if(t===i.SubtractEquation)return Bt.FUNC_SUBTRACT;if(t===i.ReverseSubtractEquation)return Bt.FUNC_REVERSE_SUBTRACT;if(t===i.ZeroFactor)return Bt.ZERO;if(t===i.OneFactor)return Bt.ONE;if(t===i.SrcColorFactor)return Bt.SRC_COLOR;if(t===i.OneMinusSrcColorFactor)return Bt.ONE_MINUS_SRC_COLOR;if(t===i.SrcAlphaFactor)return Bt.SRC_ALPHA;if(t===i.OneMinusSrcAlphaFactor)return Bt.ONE_MINUS_SRC_ALPHA;if(t===i.DstAlphaFactor)return Bt.DST_ALPHA;if(t===i.OneMinusDstAlphaFactor)return Bt.ONE_MINUS_DST_ALPHA;if(t===i.DstColorFactor)return Bt.DST_COLOR;if(t===i.OneMinusDstColorFactor)return Bt.ONE_MINUS_DST_COLOR;if(t===i.SrcAlphaSaturateFactor)return Bt.SRC_ALPHA_SATURATE;if(e=_e.get("WEBGL_compressed_texture_s3tc"),null!==e){if(t===i.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===i.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===i.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===i.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e=_e.get("WEBGL_compressed_texture_pvrtc"),null!==e){if(t===i.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===i.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===i.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===i.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e=_e.get("EXT_blend_minmax"),null!==e){if(t===i.MinEquation)return e.MIN_EXT;if(t===i.MaxEquation)return e.MAX_EXT}return 0}function vt(t){if(Ae&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var e=Bt.getParameter(Bt.MAX_VERTEX_UNIFORM_VECTORS),r=Math.floor((e-20)/4),n=r;return void 0!==t&&t instanceof i.SkinnedMesh&&(n=Math.min(t.skeleton.bones.length,n),n<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)")),n}function gt(t){for(var e=0,r=0,n=0,o=0,a=0,s=t.length;a<s;a++){var c=t[a];c.onlyShadow||c.visible===!1||(c instanceof i.DirectionalLight&&e++,c instanceof i.PointLight&&r++,c instanceof i.SpotLight&&n++,c instanceof i.HemisphereLight&&o++)}return{directional:e,point:r,spot:n,hemi:o}}function yt(t){for(var e=0,r=0,n=t.length;r<n;r++){var o=t[r];o.castShadow&&(o instanceof i.SpotLight&&e++,o instanceof i.DirectionalLight&&!o.shadowCascade&&e++)}return e}console.log("THREE.WebGLRenderer",i.REVISION),t=t||{};var xt=void 0!==t.canvas?t.canvas:document.createElement("canvas"),bt=void 0!==t.context?t.context:null,_t=void 0!==t.precision?t.precision:"highp",wt=void 0!==t.alpha&&t.alpha,Mt=void 0===t.depth||t.depth,St=void 0===t.stencil||t.stencil,Tt=void 0!==t.antialias&&t.antialias,Ct=void 0===t.premultipliedAlpha||t.premultipliedAlpha,At=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Et=void 0!==t.logarithmicDepthBuffer&&t.logarithmicDepthBuffer,Lt=new i.Color(0),Pt=0,kt=[],Rt={},Dt=[],Ft=[],Ot=[],Nt=[],Ut=[];this.domElement=xt,this.context=null,this.devicePixelRatio=void 0!==t.devicePixelRatio?t.devicePixelRatio:void 0!==n.devicePixelRatio?n.devicePixelRatio:1,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=i.PCFShadowMap,this.shadowMapCullFace=i.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var Bt,zt=this,Vt=[],It=null,Ht=null,jt=-1,Gt=-1,Wt=null,Xt=0,$t=-1,qt=-1,Yt=-1,Kt=-1,Qt=-1,Zt=-1,Jt=-1,te=-1,ee=null,re=null,ne=null,ie=null,oe=0,ae=0,se=xt.width,ce=xt.height,le=0,ue=0,he=new Uint8Array(16),fe=new Uint8Array(16),pe=new i.Frustum,de=new i.Matrix4,me=new i.Matrix4,ve=new i.Vector3,ge=new i.Vector3,ye=!0,xe={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{var be={alpha:wt,depth:Mt,stencil:St,antialias:Tt,premultipliedAlpha:Ct,preserveDrawingBuffer:At};if(Bt=bt||xt.getContext("webgl",be)||xt.getContext("experimental-webgl",be),null===Bt)throw null!==xt.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context."}catch(t){console.error(t)}void 0===Bt.getShaderPrecisionFormat&&(Bt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var _e=new i.WebGLExtensions(Bt);_e.get("OES_texture_float"),_e.get("OES_texture_float_linear"),_e.get("OES_standard_derivatives"),Et&&_e.get("EXT_frag_depth"),e(),this.context=Bt;var we=Bt.getParameter(Bt.MAX_TEXTURE_IMAGE_UNITS),Me=Bt.getParameter(Bt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Se=Bt.getParameter(Bt.MAX_TEXTURE_SIZE),Te=Bt.getParameter(Bt.MAX_CUBE_MAP_TEXTURE_SIZE),Ce=Me>0,Ae=Ce&&_e.get("OES_texture_float"),Ee=Bt.getShaderPrecisionFormat(Bt.VERTEX_SHADER,Bt.HIGH_FLOAT),Le=Bt.getShaderPrecisionFormat(Bt.VERTEX_SHADER,Bt.MEDIUM_FLOAT),Pe=(Bt.getShaderPrecisionFormat(Bt.VERTEX_SHADER,Bt.LOW_FLOAT),Bt.getShaderPrecisionFormat(Bt.FRAGMENT_SHADER,Bt.HIGH_FLOAT)),ke=Bt.getShaderPrecisionFormat(Bt.FRAGMENT_SHADER,Bt.MEDIUM_FLOAT),Re=(Bt.getShaderPrecisionFormat(Bt.FRAGMENT_SHADER,Bt.LOW_FLOAT),function(){var t;return function(){if(void 0!==t)return t;if(t=[],_e.get("WEBGL_compressed_texture_pvrtc")||_e.get("WEBGL_compressed_texture_s3tc"))for(var e=Bt.getParameter(Bt.COMPRESSED_TEXTURE_FORMATS),r=0;r<e.length;r++)t.push(e[r]);return t}}()),De=Ee.precision>0&&Pe.precision>0,Fe=Le.precision>0&&ke.precision>0;"highp"!==_t||De||(Fe?(_t="mediump",console.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(_t="lowp",console.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==_t||Fe||(_t="lowp",console.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var Oe=new i.ShadowMapPlugin(this,kt,Rt,Dt),Ne=new i.SpritePlugin(this,Nt),Ue=new i.LensFlarePlugin(this,Ut);this.getContext=function(){return Bt},this.supportsVertexTextures=function(){return Ce},this.supportsFloatTextures=function(){return _e.get("OES_texture_float")},this.supportsStandardDerivatives=function(){return _e.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return _e.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return _e.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return _e.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var t;return function(){if(void 0!==t)return t;var e=_e.get("EXT_texture_filter_anisotropic");return t=null!==e?Bt.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return _t},this.setSize=function(t,e,r){xt.width=t*this.devicePixelRatio,xt.height=e*this.devicePixelRatio,r!==!1&&(xt.style.width=t+"px",xt.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,r,n){oe=t*this.devicePixelRatio,ae=e*this.devicePixelRatio,se=r*this.devicePixelRatio,ce=n*this.devicePixelRatio,Bt.viewport(oe,ae,se,ce)},this.setScissor=function(t,e,r,n){Bt.scissor(t*this.devicePixelRatio,e*this.devicePixelRatio,r*this.devicePixelRatio,n*this.devicePixelRatio)},this.enableScissorTest=function(t){t?Bt.enable(Bt.SCISSOR_TEST):Bt.disable(Bt.SCISSOR_TEST)},this.setClearColor=function(t,e){Lt.set(t),Pt=void 0!==e?e:1,Bt.clearColor(Lt.r,Lt.g,Lt.b,Pt)},this.setClearColorHex=function(t,e){console.warn("THREE.WebGLRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(t,e)},this.getClearColor=function(){return Lt},this.getClearAlpha=function(){return Pt},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=Bt.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=Bt.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=Bt.STENCIL_BUFFER_BIT),Bt.clear(n)},this.clearColor=function(){Bt.clear(Bt.COLOR_BUFFER_BIT)},this.clearDepth=function(){Bt.clear(Bt.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Bt.clear(Bt.STENCIL_BUFFER_BIT)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.resetGLState=function(){It=null,Wt=null,Yt=-1,Jt=-1,te=-1,$t=-1,qt=-1,Gt=-1,jt=-1,ye=!0};var Be=function(t){var e=t.target;e.traverse(function(t){t.removeEventListener("remove",Be),B(t)})},ze=function(t){var e=t.target;e.removeEventListener("dispose",ze),Ge(e)},Ve=function(t){var e=t.target;e.removeEventListener("dispose",Ve),We(e),zt.info.memory.textures--},Ie=function(t){var e=t.target;e.removeEventListener("dispose",Ie),Xe(e),zt.info.memory.textures--},He=function(t){var e=t.target;e.removeEventListener("dispose",He),$e(e)},je=function(t){for(var e=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],r=0,n=e.length;r<n;r++){var i=e[r];void 0!==t[i]&&(Bt.deleteBuffer(t[i]),delete t[i])}if(void 0!==t.__webglCustomAttributesList){for(var i in t.__webglCustomAttributesList)Bt.deleteBuffer(t.__webglCustomAttributesList[i].buffer);delete t.__webglCustomAttributesList}zt.info.memory.geometries--},Ge=function(t){if(delete t.__webglInit,t instanceof i.BufferGeometry){for(var e in t.attributes){var r=t.attributes[e];void 0!==r.buffer&&(Bt.deleteBuffer(r.buffer),delete r.buffer)}zt.info.memory.geometries--}else{var n=qe[t.id];if(void 0!==n){for(var o=0,a=n.length;o<a;o++){var s=n[o];if(void 0!==s.numMorphTargets){for(var c=0,l=s.numMorphTargets;c<l;c++)Bt.deleteBuffer(s.__webglMorphTargetsBuffers[c]);delete s.__webglMorphTargetsBuffers}if(void 0!==s.numMorphNormals){for(var c=0,l=s.numMorphNormals;c<l;c++)Bt.deleteBuffer(s.__webglMorphNormalsBuffers[c]);delete s.__webglMorphNormalsBuffers}je(s)}delete qe[t.id]}else je(t)}Gt=-1},We=function(t){if(t.image&&t.image.__webglTextureCube)Bt.deleteTexture(t.image.__webglTextureCube),delete t.image.__webglTextureCube;else{if(void 0===t.__webglInit)return;Bt.deleteTexture(t.__webglTexture),delete t.__webglTexture,delete t.__webglInit}},Xe=function(t){if(t&&void 0!==t.__webglTexture){if(Bt.deleteTexture(t.__webglTexture),delete t.__webglTexture,t instanceof i.WebGLRenderTargetCube)for(var e=0;e<6;e++)Bt.deleteFramebuffer(t.__webglFramebuffer[e]),Bt.deleteRenderbuffer(t.__webglRenderbuffer[e]);else Bt.deleteFramebuffer(t.__webglFramebuffer),Bt.deleteRenderbuffer(t.__webglRenderbuffer);delete t.__webglFramebuffer,delete t.__webglRenderbuffer}},$e=function(t){var e=t.program.program;if(void 0!==e){t.program=void 0;var r,n,i,o=!1;for(r=0,n=Vt.length;r<n;r++)if(i=Vt[r],i.program===e){i.usedTimes--,0===i.usedTimes&&(o=!0);break}if(o===!0){var a=[];for(r=0,n=Vt.length;r<n;r++)i=Vt[r],i.program!==e&&a.push(i);Vt=a,Bt.deleteProgram(e),zt.info.memory.programs--}}};this.renderBufferImmediate=function(t,e,r){if(y(),t.hasPositions&&!t.__webglVertexBuffer&&(t.__webglVertexBuffer=Bt.createBuffer()),t.hasNormals&&!t.__webglNormalBuffer&&(t.__webglNormalBuffer=Bt.createBuffer()),t.hasUvs&&!t.__webglUvBuffer&&(t.__webglUvBuffer=Bt.createBuffer()),t.hasColors&&!t.__webglColorBuffer&&(t.__webglColorBuffer=Bt.createBuffer()),t.hasPositions&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglVertexBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,t.positionArray,Bt.DYNAMIC_DRAW),x(e.attributes.position),Bt.vertexAttribPointer(e.attributes.position,3,Bt.FLOAT,!1,0,0)),t.hasNormals){if(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglNormalBuffer),r.shading===i.FlatShading){var n,o,a,s,c,l,u,h,f,p,d,m,v,g,_=3*t.count;for(g=0;g<_;g+=9)v=t.normalArray,s=v[g],u=v[g+1],p=v[g+2],c=v[g+3],h=v[g+4],d=v[g+5],l=v[g+6],f=v[g+7],m=v[g+8],n=(s+c+l)/3,o=(u+h+f)/3,a=(p+d+m)/3,v[g]=n,v[g+1]=o,v[g+2]=a,v[g+3]=n,v[g+4]=o,v[g+5]=a,v[g+6]=n,v[g+7]=o,v[g+8]=a}Bt.bufferData(Bt.ARRAY_BUFFER,t.normalArray,Bt.DYNAMIC_DRAW),x(e.attributes.normal),Bt.vertexAttribPointer(e.attributes.normal,3,Bt.FLOAT,!1,0,0)}t.hasUvs&&r.map&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglUvBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,t.uvArray,Bt.DYNAMIC_DRAW),x(e.attributes.uv),Bt.vertexAttribPointer(e.attributes.uv,2,Bt.FLOAT,!1,0,0)),t.hasColors&&r.vertexColors!==i.NoColors&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,t.__webglColorBuffer),Bt.bufferData(Bt.ARRAY_BUFFER,t.colorArray,Bt.DYNAMIC_DRAW),x(e.attributes.color),Bt.vertexAttribPointer(e.attributes.color,3,Bt.FLOAT,!1,0,0)),b(),Bt.drawArrays(Bt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,n,o,a){if(n.visible!==!1){var s=I(t,e,r,n,a),c=!1,l=n.wireframe?1:0,u=16777215*o.id+2*s.id+l;if(u!==Gt&&(Gt=u,c=!0),c&&y(),a instanceof i.Mesh){var h=n.wireframe===!0?Bt.LINES:Bt.TRIANGLES,f=o.attributes.index;if(f){var p,d;f.array instanceof Uint32Array&&_e.get("OES_element_index_uint")?(p=Bt.UNSIGNED_INT,d=4):(p=Bt.UNSIGNED_SHORT,d=2);var m=o.offsets;if(0===m.length)c&&(g(n,s,o,0),Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,f.buffer)),Bt.drawElements(h,f.array.length,p,0),zt.info.render.calls++,zt.info.render.vertices+=f.array.length,zt.info.render.faces+=f.array.length/3;else{c=!0;for(var v=0,x=m.length;v<x;v++){var b=m[v].index;c&&(g(n,s,o,b),Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,f.buffer)),Bt.drawElements(h,m[v].count,p,m[v].start*d),zt.info.render.calls++,zt.info.render.vertices+=m[v].count,zt.info.render.faces+=m[v].count/3}}}else{c&&g(n,s,o,0);var _=o.attributes.position;Bt.drawArrays(h,0,_.array.length/3),zt.info.render.calls++,zt.info.render.vertices+=_.array.length/3,zt.info.render.faces+=_.array.length/9}}else if(a instanceof i.PointCloud){c&&g(n,s,o,0);var _=o.attributes.position;Bt.drawArrays(Bt.POINTS,0,_.array.length/3),zt.info.render.calls++,zt.info.render.points+=_.array.length/3}else if(a instanceof i.Line){var h=a.mode===i.LineStrip?Bt.LINE_STRIP:Bt.LINES;ot(n.linewidth);var f=o.attributes.index;if(f){var p,d;f.array instanceof Uint32Array?(p=Bt.UNSIGNED_INT,d=4):(p=Bt.UNSIGNED_SHORT,d=2);var m=o.offsets;if(0===m.length)c&&(g(n,s,o,0),Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,f.buffer)),Bt.drawElements(h,f.array.length,p,0),zt.info.render.calls++,zt.info.render.vertices+=f.array.length;else{m.length>1&&(c=!0);for(var v=0,x=m.length;v<x;v++){var b=m[v].index;c&&(g(n,s,o,b),Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,f.buffer)),Bt.drawElements(h,m[v].count,p,m[v].start*d),zt.info.render.calls++,zt.info.render.vertices+=m[v].count}}}else{c&&g(n,s,o,0);var _=o.attributes.position;Bt.drawArrays(h,0,_.array.length/3),zt.info.render.calls++,zt.info.render.points+=_.array.length/3}}}},this.renderBuffer=function(t,e,r,n,o,a){if(n.visible!==!1){var s=I(t,e,r,n,a),c=s.attributes,l=!1,u=n.wireframe?1:0,h=16777215*o.id+2*s.id+u;if(h!==Gt&&(Gt=h,l=!0),l&&y(),!n.morphTargets&&c.position>=0?l&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglVertexBuffer),x(c.position),Bt.vertexAttribPointer(c.position,3,Bt.FLOAT,!1,0,0)):a.morphTargetBase&&_(n,o,a),l){if(o.__webglCustomAttributesList)for(var f=0,p=o.__webglCustomAttributesList.length;f<p;f++){var d=o.__webglCustomAttributesList[f];c[d.buffer.belongsToAttribute]>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,d.buffer),x(c[d.buffer.belongsToAttribute]),Bt.vertexAttribPointer(c[d.buffer.belongsToAttribute],d.size,Bt.FLOAT,!1,0,0))}c.color>=0&&(a.geometry.colors.length>0||a.geometry.faces.length>0?(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglColorBuffer),x(c.color),Bt.vertexAttribPointer(c.color,3,Bt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Bt.vertexAttrib3fv(c.color,n.defaultAttributeValues.color)),c.normal>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglNormalBuffer),x(c.normal),Bt.vertexAttribPointer(c.normal,3,Bt.FLOAT,!1,0,0)),c.tangent>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglTangentBuffer),x(c.tangent),Bt.vertexAttribPointer(c.tangent,4,Bt.FLOAT,!1,0,0)),c.uv>=0&&(a.geometry.faceVertexUvs[0]?(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglUVBuffer),x(c.uv),Bt.vertexAttribPointer(c.uv,2,Bt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Bt.vertexAttrib2fv(c.uv,n.defaultAttributeValues.uv)),c.uv2>=0&&(a.geometry.faceVertexUvs[1]?(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglUV2Buffer),x(c.uv2),Bt.vertexAttribPointer(c.uv2,2,Bt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Bt.vertexAttrib2fv(c.uv2,n.defaultAttributeValues.uv2)),n.skinning&&c.skinIndex>=0&&c.skinWeight>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglSkinIndicesBuffer),x(c.skinIndex),Bt.vertexAttribPointer(c.skinIndex,4,Bt.FLOAT,!1,0,0),Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglSkinWeightsBuffer),x(c.skinWeight),Bt.vertexAttribPointer(c.skinWeight,4,Bt.FLOAT,!1,0,0)),c.lineDistance>=0&&(Bt.bindBuffer(Bt.ARRAY_BUFFER,o.__webglLineDistanceBuffer),x(c.lineDistance),Bt.vertexAttribPointer(c.lineDistance,1,Bt.FLOAT,!1,0,0))}if(b(),a instanceof i.Mesh){var m=o.__typeArray===Uint32Array?Bt.UNSIGNED_INT:Bt.UNSIGNED_SHORT;n.wireframe?(ot(n.wireframeLinewidth),l&&Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,o.__webglLineBuffer),Bt.drawElements(Bt.LINES,o.__webglLineCount,m,0)):(l&&Bt.bindBuffer(Bt.ELEMENT_ARRAY_BUFFER,o.__webglFaceBuffer),Bt.drawElements(Bt.TRIANGLES,o.__webglFaceCount,m,0)),
zt.info.render.calls++,zt.info.render.vertices+=o.__webglFaceCount,zt.info.render.faces+=o.__webglFaceCount/3}else if(a instanceof i.Line){var v=a.mode===i.LineStrip?Bt.LINE_STRIP:Bt.LINES;ot(n.linewidth),Bt.drawArrays(v,0,o.__webglLineCount),zt.info.render.calls++}else a instanceof i.PointCloud&&(Bt.drawArrays(Bt.POINTS,0,o.__webglParticleCount),zt.info.render.calls++,zt.info.render.points+=o.__webglParticleCount)}},this.render=function(t,e,r,n){if(e instanceof i.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var o=t.fog;Gt=-1,jt=-1,Wt=null,ye=!0,t.autoUpdate===!0&&t.updateMatrixWorld(),void 0===e.parent&&e.updateMatrixWorld(),t.traverse(function(t){t instanceof i.SkinnedMesh&&t.skeleton.update()}),e.matrixWorldInverse.getInverse(e.matrixWorld),de.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),pe.setFromMatrix(de),kt.length=0,Ft.length=0,Ot.length=0,Nt.length=0,Ut.length=0,T(t,t),zt.sortObjects===!0&&(Ft.sort(w),Ot.sort(M)),Oe.render(t,e),zt.info.render.calls=0,zt.info.render.vertices=0,zt.info.render.faces=0,zt.info.render.points=0,this.setRenderTarget(r),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var a=0,s=Dt.length;a<s;a++){var c=Dt[a],l=c.object;l.visible&&(et(l,e),E(c))}if(t.overrideMaterial){var u=t.overrideMaterial;this.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),this.setDepthTest(u.depthTest),this.setDepthWrite(u.depthWrite),at(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits),C(Ft,e,kt,o,!0,u),C(Ot,e,kt,o,!0,u),A(Dt,"",e,kt,o,!1,u)}else{var u=null;this.setBlending(i.NoBlending),C(Ft,e,kt,o,!1,u),A(Dt,"opaque",e,kt,o,!1,u),C(Ot,e,kt,o,!0,u),A(Dt,"transparent",e,kt,o,!0,u)}Ne.render(t,e),Ue.render(t,e,le,ue),r&&r.generateMipmaps&&r.minFilter!==i.NearestFilter&&r.minFilter!==i.LinearFilter&&pt(r),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(t,e,r,n,i){var o=I(t,e,r,n,i);Gt=-1,zt.setMaterialFaces(n),i.immediateRenderCallback?i.immediateRenderCallback(o,Bt,pe):i.render(function(t){zt.renderBufferImmediate(t,o,n)})};var qe={},Ye=0;this.setFaceCulling=function(t,e){t===i.CullFaceNone?Bt.disable(Bt.CULL_FACE):(e===i.FrontFaceDirectionCW?Bt.frontFace(Bt.CW):Bt.frontFace(Bt.CCW),t===i.CullFaceBack?Bt.cullFace(Bt.BACK):t===i.CullFaceFront?Bt.cullFace(Bt.FRONT):Bt.cullFace(Bt.FRONT_AND_BACK),Bt.enable(Bt.CULL_FACE))},this.setMaterialFaces=function(t){var e=t.side===i.DoubleSide,r=t.side===i.BackSide;$t!==e&&(e?Bt.disable(Bt.CULL_FACE):Bt.enable(Bt.CULL_FACE),$t=e),qt!==r&&(r?Bt.frontFace(Bt.CW):Bt.frontFace(Bt.CCW),qt=r)},this.setDepthTest=function(t){Jt!==t&&(t?Bt.enable(Bt.DEPTH_TEST):Bt.disable(Bt.DEPTH_TEST),Jt=t)},this.setDepthWrite=function(t){te!==t&&(Bt.depthMask(t),te=t)},this.setBlending=function(t,e,r,n){t!==Yt&&(t===i.NoBlending?Bt.disable(Bt.BLEND):t===i.AdditiveBlending?(Bt.enable(Bt.BLEND),Bt.blendEquation(Bt.FUNC_ADD),Bt.blendFunc(Bt.SRC_ALPHA,Bt.ONE)):t===i.SubtractiveBlending?(Bt.enable(Bt.BLEND),Bt.blendEquation(Bt.FUNC_ADD),Bt.blendFunc(Bt.ZERO,Bt.ONE_MINUS_SRC_COLOR)):t===i.MultiplyBlending?(Bt.enable(Bt.BLEND),Bt.blendEquation(Bt.FUNC_ADD),Bt.blendFunc(Bt.ZERO,Bt.SRC_COLOR)):t===i.CustomBlending?Bt.enable(Bt.BLEND):(Bt.enable(Bt.BLEND),Bt.blendEquationSeparate(Bt.FUNC_ADD,Bt.FUNC_ADD),Bt.blendFuncSeparate(Bt.SRC_ALPHA,Bt.ONE_MINUS_SRC_ALPHA,Bt.ONE,Bt.ONE_MINUS_SRC_ALPHA)),Yt=t),t===i.CustomBlending?(e!==Kt&&(Bt.blendEquation(mt(e)),Kt=e),r===Qt&&n===Zt||(Bt.blendFunc(mt(r),mt(n)),Qt=r,Zt=n)):(Kt=null,Qt=null,Zt=null)},this.uploadTexture=function(t){void 0===t.__webglInit&&(t.__webglInit=!0,t.addEventListener("dispose",Ve),t.__webglTexture=Bt.createTexture(),zt.info.memory.textures++),Bt.bindTexture(Bt.TEXTURE_2D,t.__webglTexture),Bt.pixelStorei(Bt.UNPACK_FLIP_Y_WEBGL,t.flipY),Bt.pixelStorei(Bt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Bt.pixelStorei(Bt.UNPACK_ALIGNMENT,t.unpackAlignment),t.image=ct(t.image,Se);var e=t.image,r=i.Math.isPowerOfTwo(e.width)&&i.Math.isPowerOfTwo(e.height),n=mt(t.format),o=mt(t.type);st(Bt.TEXTURE_2D,t,r);var a,s=t.mipmaps;if(t instanceof i.DataTexture)if(s.length>0&&r){for(var c=0,l=s.length;c<l;c++)a=s[c],Bt.texImage2D(Bt.TEXTURE_2D,c,n,a.width,a.height,0,n,o,a.data);t.generateMipmaps=!1}else Bt.texImage2D(Bt.TEXTURE_2D,0,n,e.width,e.height,0,n,o,e.data);else if(t instanceof i.CompressedTexture)for(var c=0,l=s.length;c<l;c++)a=s[c],t.format!==i.RGBAFormat&&t.format!==i.RGBFormat?Re().indexOf(n)>-1?Bt.compressedTexImage2D(Bt.TEXTURE_2D,c,n,a.width,a.height,0,a.data):console.warn("Attempt to load unsupported compressed texture format"):Bt.texImage2D(Bt.TEXTURE_2D,c,n,a.width,a.height,0,n,o,a.data);else if(s.length>0&&r){for(var c=0,l=s.length;c<l;c++)a=s[c],Bt.texImage2D(Bt.TEXTURE_2D,c,n,n,o,a);t.generateMipmaps=!1}else Bt.texImage2D(Bt.TEXTURE_2D,0,n,n,o,t.image);t.generateMipmaps&&r&&Bt.generateMipmap(Bt.TEXTURE_2D),t.needsUpdate=!1,t.onUpdate&&t.onUpdate()},this.setTexture=function(t,e){Bt.activeTexture(Bt.TEXTURE0+e),t.needsUpdate?zt.uploadTexture(t):Bt.bindTexture(Bt.TEXTURE_2D,t.__webglTexture)},this.setRenderTarget=function(t){var e=t instanceof i.WebGLRenderTargetCube;if(t&&void 0===t.__webglFramebuffer){void 0===t.depthBuffer&&(t.depthBuffer=!0),void 0===t.stencilBuffer&&(t.stencilBuffer=!0),t.addEventListener("dispose",Ie),t.__webglTexture=Bt.createTexture(),zt.info.memory.textures++;var r=i.Math.isPowerOfTwo(t.width)&&i.Math.isPowerOfTwo(t.height),n=mt(t.format),o=mt(t.type);if(e){t.__webglFramebuffer=[],t.__webglRenderbuffer=[],Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,t.__webglTexture),st(Bt.TEXTURE_CUBE_MAP,t,r);for(var a=0;a<6;a++)t.__webglFramebuffer[a]=Bt.createFramebuffer(),t.__webglRenderbuffer[a]=Bt.createRenderbuffer(),Bt.texImage2D(Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,n,t.width,t.height,0,n,o,null),ht(t.__webglFramebuffer[a],t,Bt.TEXTURE_CUBE_MAP_POSITIVE_X+a),ft(t.__webglRenderbuffer[a],t);r&&Bt.generateMipmap(Bt.TEXTURE_CUBE_MAP)}else t.__webglFramebuffer=Bt.createFramebuffer(),t.shareDepthFrom?t.__webglRenderbuffer=t.shareDepthFrom.__webglRenderbuffer:t.__webglRenderbuffer=Bt.createRenderbuffer(),Bt.bindTexture(Bt.TEXTURE_2D,t.__webglTexture),st(Bt.TEXTURE_2D,t,r),Bt.texImage2D(Bt.TEXTURE_2D,0,n,t.width,t.height,0,n,o,null),ht(t.__webglFramebuffer,t,Bt.TEXTURE_2D),t.shareDepthFrom?t.depthBuffer&&!t.stencilBuffer?Bt.framebufferRenderbuffer(Bt.FRAMEBUFFER,Bt.DEPTH_ATTACHMENT,Bt.RENDERBUFFER,t.__webglRenderbuffer):t.depthBuffer&&t.stencilBuffer&&Bt.framebufferRenderbuffer(Bt.FRAMEBUFFER,Bt.DEPTH_STENCIL_ATTACHMENT,Bt.RENDERBUFFER,t.__webglRenderbuffer):ft(t.__webglRenderbuffer,t),r&&Bt.generateMipmap(Bt.TEXTURE_2D);e?Bt.bindTexture(Bt.TEXTURE_CUBE_MAP,null):Bt.bindTexture(Bt.TEXTURE_2D,null),Bt.bindRenderbuffer(Bt.RENDERBUFFER,null),Bt.bindFramebuffer(Bt.FRAMEBUFFER,null)}var s,c,l,u,h;t?(s=e?t.__webglFramebuffer[t.activeCubeFace]:t.__webglFramebuffer,c=t.width,l=t.height,u=0,h=0):(s=null,c=se,l=ce,u=oe,h=ae),s!==Ht&&(Bt.bindFramebuffer(Bt.FRAMEBUFFER,s),Bt.viewport(u,h,c,l),Ht=s),le=c,ue=l},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},i.WebGLRenderTarget=function(t,e,r){this.width=t,this.height=e,r=r||{},this.wrapS=void 0!==r.wrapS?r.wrapS:i.ClampToEdgeWrapping,this.wrapT=void 0!==r.wrapT?r.wrapT:i.ClampToEdgeWrapping,this.magFilter=void 0!==r.magFilter?r.magFilter:i.LinearFilter,this.minFilter=void 0!==r.minFilter?r.minFilter:i.LinearMipMapLinearFilter,this.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,this.offset=new i.Vector2(0,0),this.repeat=new i.Vector2(1,1),this.format=void 0!==r.format?r.format:i.RGBAFormat,this.type=void 0!==r.type?r.type:i.UnsignedByteType,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.generateMipmaps=!0,this.shareDepthFrom=null};i.WebGLRenderTarget.prototype={constructor:i.WebGLRenderTarget,setSize:function(t,e){this.width=t,this.height=e},clone:function(){var t=new i.WebGLRenderTarget(this.width,this.height);return t.wrapS=this.wrapS,t.wrapT=this.wrapT,t.magFilter=this.magFilter,t.minFilter=this.minFilter,t.anisotropy=this.anisotropy,t.offset.copy(this.offset),t.repeat.copy(this.repeat),t.format=this.format,t.type=this.type,t.depthBuffer=this.depthBuffer,t.stencilBuffer=this.stencilBuffer,t.generateMipmaps=this.generateMipmaps,t.shareDepthFrom=this.shareDepthFrom,t},dispose:function(){this.dispatchEvent({type:"dispose"})}};i.EventDispatcher.prototype.apply(i.WebGLRenderTarget.prototype),i.WebGLRenderTargetCube=function(t,e,r){i.WebGLRenderTarget.call(this,t,e,r),this.activeCubeFace=0},i.WebGLRenderTargetCube.prototype=Object.create(i.WebGLRenderTarget.prototype),i.WebGLExtensions=function(t){var e={};this.get=function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"OES_texture_float":n=t.getExtension("OES_texture_float");break;case"OES_texture_float_linear":n=t.getExtension("OES_texture_float_linear");break;case"OES_standard_derivatives":n=t.getExtension("OES_standard_derivatives");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"OES_element_index_uint":n=t.getExtension("OES_element_index_uint");break;case"EXT_blend_minmax":n=t.getExtension("EXT_blend_minmax");break;case"EXT_frag_depth":n=t.getExtension("EXT_frag_depth")}return null===n&&console.log("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}},i.WebGLProgram=function(){var t=0,e=function(t){var e,r,n=[];for(var i in t)e=t[i],e!==!1&&(r="#define "+i+" "+e,n.push(r));return n.join("\n")},r=function(t,e,r){for(var n={},i=0,o=r.length;i<o;i++){var a=r[i];n[a]=t.getUniformLocation(e,a)}return n},n=function(t,e,r){for(var n={},i=0,o=r.length;i<o;i++){var a=r[i];n[a]=t.getAttribLocation(e,a)}return n};return function(o,a,s,c){var l=o,u=l.context,h=s.defines,f=s.__webglShader.uniforms,p=s.attributes,d=s.__webglShader.vertexShader,m=s.__webglShader.fragmentShader,v=s.index0AttributeName;void 0===v&&c.morphTargets===!0&&(v="position");var g="SHADOWMAP_TYPE_BASIC";c.shadowMapType===i.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":c.shadowMapType===i.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var y,x,b=e(h),_=u.createProgram();s instanceof i.RawShaderMaterial?(y="",x=""):(y=["precision "+c.precision+" float;","precision "+c.precision+" int;",b,c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals?"#define USE_MORPHNORMALS":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+g:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif",""].join("\n"),x=["precision "+c.precision+" float;","precision "+c.precision+" int;",c.bumpMap||c.normalMap?"#extension GL_OES_standard_derivatives : enable":"",b,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",l.gammaInput?"#define GAMMA_INPUT":"",l.gammaOutput?"#define GAMMA_OUTPUT":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.metal?"#define METAL":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+g:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var w=new i.WebGLShader(u,u.VERTEX_SHADER,y+d),M=new i.WebGLShader(u,u.FRAGMENT_SHADER,x+m);u.attachShader(_,w),u.attachShader(_,M),void 0!==v&&u.bindAttribLocation(_,0,v),u.linkProgram(_),u.getProgramParameter(_,u.LINK_STATUS)===!1&&(console.error("THREE.WebGLProgram: Could not initialise shader."),console.error("gl.VALIDATE_STATUS",u.getProgramParameter(_,u.VALIDATE_STATUS)),console.error("gl.getError()",u.getError())),""!==u.getProgramInfoLog(_)&&console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",u.getProgramInfoLog(_)),u.deleteShader(w),u.deleteShader(M);var S=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];c.useVertexTexture?(S.push("boneTexture"),S.push("boneTextureWidth"),S.push("boneTextureHeight")):S.push("boneGlobalMatrices"),c.logarithmicDepthBuffer&&S.push("logDepthBufFC");for(var T in f)S.push(T);this.uniforms=r(u,_,S),S=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var C=0;C<c.maxMorphTargets;C++)S.push("morphTarget"+C);for(var C=0;C<c.maxMorphNormals;C++)S.push("morphNormal"+C);for(var A in p)S.push(A);return this.attributes=n(u,_,S),this.attributesKeys=Object.keys(this.attributes),this.id=t++,this.code=a,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=M,this}}(),i.WebGLShader=function(){var t=function(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")};return function(e,r,n){var i=e.createShader(r);return e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(i)&&(console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e.getShaderInfoLog(i)),console.warn(t(n))),i}}(),i.LensFlarePlugin=function(t,e){function r(e){var r=f.createProgram(),n=f.createShader(f.FRAGMENT_SHADER),i=f.createShader(f.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return f.shaderSource(n,o+e.fragmentShader),f.shaderSource(i,o+e.vertexShader),f.compileShader(n),f.compileShader(i),f.attachShader(r,n),f.attachShader(r,i),f.linkProgram(r),r}var n,o,a,s,c,l,u,h,f=t.context,p=function(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);n=f.createBuffer(),o=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,n),f.bufferData(f.ARRAY_BUFFER,t,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),f.bufferData(f.ELEMENT_ARRAY_BUFFER,e,f.STATIC_DRAW),u=f.createTexture(),h=f.createTexture(),f.bindTexture(f.TEXTURE_2D,u),f.texImage2D(f.TEXTURE_2D,0,f.RGB,16,16,0,f.RGB,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),f.bindTexture(f.TEXTURE_2D,h),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,16,16,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),l=f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var i;i=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},a=r(i),s={vertex:f.getAttribLocation(a,"position"),uv:f.getAttribLocation(a,"uv")},c={renderType:f.getUniformLocation(a,"renderType"),map:f.getUniformLocation(a,"map"),occlusionMap:f.getUniformLocation(a,"occlusionMap"),opacity:f.getUniformLocation(a,"opacity"),color:f.getUniformLocation(a,"color"),scale:f.getUniformLocation(a,"scale"),rotation:f.getUniformLocation(a,"rotation"),screenPosition:f.getUniformLocation(a,"screenPosition")}};this.render=function(r,d,m,v){if(0!==e.length){var g=new i.Vector3,y=v/m,x=.5*m,b=.5*v,_=16/v,w=new i.Vector2(_*y,_),M=new i.Vector3(1,1,0),S=new i.Vector2(1,1);void 0===a&&p(),f.useProgram(a),f.enableVertexAttribArray(s.vertex),f.enableVertexAttribArray(s.uv),f.uniform1i(c.occlusionMap,0),f.uniform1i(c.map,1),f.bindBuffer(f.ARRAY_BUFFER,n),f.vertexAttribPointer(s.vertex,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(s.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,o),f.disable(f.CULL_FACE),f.depthMask(!1);for(var T=0,C=e.length;T<C;T++){_=16/v,w.set(_*y,_);var A=e[T];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(d.matrixWorldInverse),g.applyProjection(d.projectionMatrix),M.copy(g),S.x=M.x*x+x,S.y=M.y*b+b,l||S.x>0&&S.x<m&&S.y>0&&S.y<v){f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGB,S.x-8,S.y-8,16,16,0),f.uniform1i(c.renderType,0),f.uniform2f(c.scale,w.x,w.y),f.uniform3f(c.screenPosition,M.x,M.y,M.z),f.disable(f.BLEND),f.enable(f.DEPTH_TEST),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGBA,S.x-8,S.y-8,16,16,0),f.uniform1i(c.renderType,1),f.disable(f.DEPTH_TEST),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),A.positionScreen.copy(M),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),f.uniform1i(c.renderType,2),f.enable(f.BLEND);for(var E=0,L=A.lensFlares.length;E<L;E++){var P=A.lensFlares[E];P.opacity>.001&&P.scale>.001&&(M.x=P.x,M.y=P.y,M.z=P.z,_=P.size*P.scale/v,w.x=_*y,w.y=_,f.uniform3f(c.screenPosition,M.x,M.y,M.z),f.uniform2f(c.scale,w.x,w.y),f.uniform1f(c.rotation,P.rotation),f.uniform1f(c.opacity,P.opacity),f.uniform3f(c.color,P.color.r,P.color.g,P.color.b),t.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst),t.setTexture(P.texture,1),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0))}}}f.enable(f.CULL_FACE),f.enable(f.DEPTH_TEST),f.depthMask(!0),t.resetGLState()}}},i.ShadowMapPlugin=function(t,e,r,n){function o(t,e,n){if(e.visible){var i=r[e.id];if(i&&e.castShadow&&(e.frustumCulled===!1||m.intersectsObject(e)===!0))for(var a=0,s=i.length;a<s;a++){var c=i[a];e._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),b.push(c)}for(var a=0,s=e.children.length;a<s;a++)o(t,e.children[a],n)}}function a(t,e){var r=new i.DirectionalLight;r.isVirtual=!0,r.onlyShadow=!0,r.castShadow=!0,r.shadowCameraNear=t.shadowCameraNear,r.shadowCameraFar=t.shadowCameraFar,r.shadowCameraLeft=t.shadowCameraLeft,r.shadowCameraRight=t.shadowCameraRight,r.shadowCameraBottom=t.shadowCameraBottom,r.shadowCameraTop=t.shadowCameraTop,r.shadowCameraVisible=t.shadowCameraVisible,r.shadowDarkness=t.shadowDarkness,r.shadowBias=t.shadowCascadeBias[e],r.shadowMapWidth=t.shadowCascadeWidth[e],r.shadowMapHeight=t.shadowCascadeHeight[e],r.pointsWorld=[],r.pointsFrustum=[];for(var n=r.pointsWorld,o=r.pointsFrustum,a=0;a<8;a++)n[a]=new i.Vector3,o[a]=new i.Vector3;var s=t.shadowCascadeNearZ[e],c=t.shadowCascadeFarZ[e];return o[0].set(-1,-1,s),o[1].set(1,-1,s),o[2].set(-1,1,s),o[3].set(1,1,s),o[4].set(-1,-1,c),o[5].set(1,-1,c),o[6].set(-1,1,c),o[7].set(1,1,c),r}function s(t,e){var r=t.shadowCascadeArray[e];r.position.copy(t.position),r.target.position.copy(t.target.position),r.lookAt(r.target),r.shadowCameraVisible=t.shadowCameraVisible,r.shadowDarkness=t.shadowDarkness,r.shadowBias=t.shadowCascadeBias[e];var n=t.shadowCascadeNearZ[e],i=t.shadowCascadeFarZ[e],o=r.pointsFrustum;o[0].z=n,o[1].z=n,o[2].z=n,o[3].z=n,o[4].z=i,o[5].z=i,o[6].z=i,o[7].z=i}function c(t,e){var r=e.shadowCamera,n=e.pointsFrustum,i=e.pointsWorld;g.set(1/0,1/0,1/0),y.set(-(1/0),-(1/0),-(1/0));for(var o=0;o<8;o++){var a=i[o];a.copy(n[o]),a.unproject(t),a.applyMatrix4(r.matrixWorldInverse),a.x<g.x&&(g.x=a.x),a.x>y.x&&(y.x=a.x),a.y<g.y&&(g.y=a.y),a.y>y.y&&(y.y=a.y),a.z<g.z&&(g.z=a.z),a.z>y.z&&(y.z=a.z)}r.left=g.x,r.right=y.x,r.top=y.y,r.bottom=g.y,r.updateProjectionMatrix()}function l(t){return t.material instanceof i.MeshFaceMaterial?t.material.materials[0]:t.material}var u,h,f,p,d=t.context,m=new i.Frustum,v=new i.Matrix4,g=new i.Vector3,y=new i.Vector3,x=new i.Vector3,b=[],_=i.ShaderLib.depthRGBA,w=i.UniformsUtils.clone(_.uniforms);u=new i.ShaderMaterial({uniforms:w,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader}),h=new i.ShaderMaterial({uniforms:w,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:!0}),f=new i.ShaderMaterial({uniforms:w,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,skinning:!0}),p=new i.ShaderMaterial({uniforms:w,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:!0,skinning:!0}),u._shadowPass=!0,h._shadowPass=!0,f._shadowPass=!0,p._shadowPass=!0,this.render=function(r,g){if(t.shadowMapEnabled!==!1){var y,_,w,M,S,T,C,A,E,L,P,k,R,D=[],F=0,O=null;for(d.clearColor(1,1,1,1),d.disable(d.BLEND),d.enable(d.CULL_FACE),d.frontFace(d.CCW),t.shadowMapCullFace===i.CullFaceFront?d.cullFace(d.FRONT):d.cullFace(d.BACK),t.setDepthTest(!0),y=0,_=e.length;y<_;y++)if(R=e[y],R.castShadow)if(R instanceof i.DirectionalLight&&R.shadowCascade)for(S=0;S<R.shadowCascadeCount;S++){var N;if(R.shadowCascadeArray[S])N=R.shadowCascadeArray[S];else{N=a(R,S),N.originalCamera=g;var U=new i.Gyroscope;U.position.copy(R.shadowCascadeOffset),U.add(N),U.add(N.target),g.add(U),R.shadowCascadeArray[S]=N,console.log("Created virtualLight",N)}s(R,S),D[F]=N,F++}else D[F]=R,F++;for(y=0,_=D.length;y<_;y++){if(R=D[y],!R.shadowMap){var B=i.LinearFilter;t.shadowMapType===i.PCFSoftShadowMap&&(B=i.NearestFilter);var z={minFilter:B,magFilter:B,format:i.RGBAFormat};R.shadowMap=new i.WebGLRenderTarget(R.shadowMapWidth,R.shadowMapHeight,z),R.shadowMapSize=new i.Vector2(R.shadowMapWidth,R.shadowMapHeight),R.shadowMatrix=new i.Matrix4}if(!R.shadowCamera){if(R instanceof i.SpotLight)R.shadowCamera=new i.PerspectiveCamera(R.shadowCameraFov,R.shadowMapWidth/R.shadowMapHeight,R.shadowCameraNear,R.shadowCameraFar);else{if(!(R instanceof i.DirectionalLight)){console.error("Unsupported light type for shadow");continue}R.shadowCamera=new i.OrthographicCamera(R.shadowCameraLeft,R.shadowCameraRight,R.shadowCameraTop,R.shadowCameraBottom,R.shadowCameraNear,R.shadowCameraFar)}r.add(R.shadowCamera),r.autoUpdate===!0&&r.updateMatrixWorld()}R.shadowCameraVisible&&!R.cameraHelper&&(R.cameraHelper=new i.CameraHelper(R.shadowCamera),r.add(R.cameraHelper)),R.isVirtual&&N.originalCamera==g&&c(g,R),T=R.shadowMap,C=R.shadowMatrix,A=R.shadowCamera,A.position.setFromMatrixPosition(R.matrixWorld),x.setFromMatrixPosition(R.target.matrixWorld),A.lookAt(x),A.updateMatrixWorld(),A.matrixWorldInverse.getInverse(A.matrixWorld),R.cameraHelper&&(R.cameraHelper.visible=R.shadowCameraVisible),R.shadowCameraVisible&&R.cameraHelper.update(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(A.projectionMatrix),C.multiply(A.matrixWorldInverse),v.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),m.setFromMatrix(v),t.setRenderTarget(T),t.clear(),b.length=0,o(r,r,A);var V,I,H;for(w=0,M=b.length;w<M;w++)P=b[w],k=P.object,E=P.buffer,V=l(k),I=void 0!==k.geometry.morphTargets&&k.geometry.morphTargets.length>0&&V.morphTargets,H=k instanceof i.SkinnedMesh&&V.skinning,L=k.customDepthMaterial?k.customDepthMaterial:H?I?p:f:I?h:u,t.setMaterialFaces(V),E instanceof i.BufferGeometry?t.renderBufferDirect(A,e,O,L,E,k):t.renderBuffer(A,e,O,L,E,k);for(w=0,M=n.length;w<M;w++)P=n[w],k=P.object,k.visible&&k.castShadow&&(k._modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,k.matrixWorld),t.renderImmediateObject(A,e,O,u,k))}var j=t.getClearColor(),G=t.getClearAlpha();d.clearColor(j.r,j.g,j.b,G),d.enable(d.BLEND),t.shadowMapCullFace===i.CullFaceFront&&d.cullFace(d.BACK),t.resetGLState()}}},i.SpritePlugin=function(t,e){function r(){var e=h.createProgram(),r=h.createShader(h.VERTEX_SHADER),n=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),h.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),h.compileShader(r),h.compileShader(n),h.attachShader(e,r),h.attachShader(e,n),h.linkProgram(e),e}function n(t,e){return t.z!==e.z?e.z-t.z:e.id-t.id}var o,a,s,c,l,u,h=t.context,f=function(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=h.createBuffer(),a=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o),h.bufferData(h.ARRAY_BUFFER,t,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.bufferData(h.ELEMENT_ARRAY_BUFFER,e,h.STATIC_DRAW),s=r(),c={position:h.getAttribLocation(s,"position"),uv:h.getAttribLocation(s,"uv")},l={uvOffset:h.getUniformLocation(s,"uvOffset"),uvScale:h.getUniformLocation(s,"uvScale"),rotation:h.getUniformLocation(s,"rotation"),
scale:h.getUniformLocation(s,"scale"),color:h.getUniformLocation(s,"color"),map:h.getUniformLocation(s,"map"),opacity:h.getUniformLocation(s,"opacity"),modelViewMatrix:h.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:h.getUniformLocation(s,"projectionMatrix"),fogType:h.getUniformLocation(s,"fogType"),fogDensity:h.getUniformLocation(s,"fogDensity"),fogNear:h.getUniformLocation(s,"fogNear"),fogFar:h.getUniformLocation(s,"fogFar"),fogColor:h.getUniformLocation(s,"fogColor"),alphaTest:h.getUniformLocation(s,"alphaTest")};var n=document.createElement("canvas");n.width=8,n.height=8;var f=n.getContext("2d");f.fillStyle="white",f.fillRect(0,0,8,8),u=new i.Texture(n),u.needsUpdate=!0};this.render=function(r,p){if(0!==e.length){void 0===s&&f(),h.useProgram(s),h.enableVertexAttribArray(c.position),h.enableVertexAttribArray(c.uv),h.disable(h.CULL_FACE),h.enable(h.BLEND),h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(c.position,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(c.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,a),h.uniformMatrix4fv(l.projectionMatrix,!1,p.projectionMatrix.elements),h.activeTexture(h.TEXTURE0),h.uniform1i(l.map,0);var d=0,m=0,v=r.fog;v?(h.uniform3f(l.fogColor,v.color.r,v.color.g,v.color.b),v instanceof i.Fog?(h.uniform1f(l.fogNear,v.near),h.uniform1f(l.fogFar,v.far),h.uniform1i(l.fogType,1),d=1,m=1):v instanceof i.FogExp2&&(h.uniform1f(l.fogDensity,v.density),h.uniform1i(l.fogType,2),d=2,m=2)):(h.uniform1i(l.fogType,0),d=0,m=0);for(var g=0,y=e.length;g<y;g++){var x=e[g];x._modelViewMatrix.multiplyMatrices(p.matrixWorldInverse,x.matrixWorld),null===x.renderDepth?x.z=-x._modelViewMatrix.elements[14]:x.z=x.renderDepth}e.sort(n);for(var b=[],g=0,y=e.length;g<y;g++){var x=e[g],_=x.material;h.uniform1f(l.alphaTest,_.alphaTest),h.uniformMatrix4fv(l.modelViewMatrix,!1,x._modelViewMatrix.elements),b[0]=x.scale.x,b[1]=x.scale.y;var w=0;r.fog&&_.fog&&(w=m),d!==w&&(h.uniform1i(l.fogType,w),d=w),null!==_.map?(h.uniform2f(l.uvOffset,_.map.offset.x,_.map.offset.y),h.uniform2f(l.uvScale,_.map.repeat.x,_.map.repeat.y)):(h.uniform2f(l.uvOffset,0,0),h.uniform2f(l.uvScale,1,1)),h.uniform1f(l.opacity,_.opacity),h.uniform3f(l.color,_.color.r,_.color.g,_.color.b),h.uniform1f(l.rotation,_.rotation),h.uniform2fv(l.scale,b),t.setBlending(_.blending,_.blendEquation,_.blendSrc,_.blendDst),t.setDepthTest(_.depthTest),t.setDepthWrite(_.depthWrite),_.map&&_.map.image&&_.map.image.width?t.setTexture(_.map,0):t.setTexture(u,0),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0)}h.enable(h.CULL_FACE),t.resetGLState()}}},i.GeometryUtils={merge:function(t,e,r){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var n;e instanceof i.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},i.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,r,n){var o=new i.ImageLoader;o.crossOrigin=this.crossOrigin;var a=new i.Texture(void 0,e);return o.load(t,function(t){a.image=t,a.needsUpdate=!0,r&&r(a)},void 0,function(t){n&&n(t)}),a.sourceFile=t,a},loadTextureCube:function(t,e,r,n){var o=[],a=new i.ImageLoader;a.crossOrigin=this.crossOrigin;var s=new i.CubeTexture(o,e);s.flipY=!1;for(var c=0,l=function(e){a.load(t[e],function(t){s.images[e]=t,c+=1,6===c&&(s.needsUpdate=!0,r&&r(s))})},u=0,h=t.length;u<h;++u)l(u);return s},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(t,e){var r=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},n=function(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]},i=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]};e|=1;var o=t.width,a=t.height,s=document.createElement("canvas");s.width=o,s.height=a;var c=s.getContext("2d");c.drawImage(t,0,0);for(var l=c.getImageData(0,0,o,a).data,u=c.createImageData(o,a),h=u.data,f=0;f<o;f++)for(var p=0;p<a;p++){var d=p-1<0?0:p-1,m=p+1>a-1?a-1:p+1,v=f-1<0?0:f-1,g=f+1>o-1?o-1:f+1,y=[],x=[0,0,l[4*(p*o+f)]/255*e];y.push([-1,0,l[4*(p*o+v)]/255*e]),y.push([-1,-1,l[4*(d*o+v)]/255*e]),y.push([0,-1,l[4*(d*o+f)]/255*e]),y.push([1,-1,l[4*(d*o+g)]/255*e]),y.push([1,0,l[4*(p*o+g)]/255*e]),y.push([1,1,l[4*(m*o+g)]/255*e]),y.push([0,1,l[4*(m*o+f)]/255*e]),y.push([-1,1,l[4*(m*o+v)]/255*e]);for(var b=[],_=y.length,w=0;w<_;w++){var M=y[w],S=y[(w+1)%_];M=n(M,x),S=n(S,x),b.push(i(r(M,S)))}for(var T=[0,0,0],w=0;w<b.length;w++)T[0]+=b[w][0],T[1]+=b[w][1],T[2]+=b[w][2];T[0]/=b.length,T[1]/=b.length,T[2]/=b.length;var C=4*(p*o+f);h[C]=(T[0]+1)/2*255|0,h[C+1]=(T[1]+1)/2*255|0,h[C+2]=255*T[2]|0,h[C+3]=255}return c.putImageData(u,0,0),s},generateDataTexture:function(t,e,r){for(var n=t*e,o=new Uint8Array(3*n),a=Math.floor(255*r.r),s=Math.floor(255*r.g),c=Math.floor(255*r.b),l=0;l<n;l++)o[3*l]=a,o[3*l+1]=s,o[3*l+2]=c;var u=new i.DataTexture(o,t,e,i.RGBFormat);return u.needsUpdate=!0,u}},i.SceneUtils={createMultiMaterialObject:function(t,e){for(var r=new i.Object3D,n=0,o=e.length;n<o;n++)r.add(new i.Mesh(t,e[n]));return r},detach:function(t,e,r){t.applyMatrix(e.matrixWorld),e.remove(t),r.add(t)},attach:function(t,e,r){var n=new i.Matrix4;n.getInverse(r.matrixWorld),t.applyMatrix(n),e.remove(t),r.add(t)}},i.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(t){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(t){var e=t.familyName.toLowerCase(),r=this;r.faces[e]=r.faces[e]||{},r.faces[e][t.cssFontWeight]=r.faces[e][t.cssFontWeight]||{},r.faces[e][t.cssFontWeight][t.cssFontStyle]=t;r.faces[e][t.cssFontWeight][t.cssFontStyle]=t;return t},drawText:function(t){var e,r=this.getFace(),n=this.size/r.resolution,o=0,a=String(t).split(""),s=a.length,c=[];for(e=0;e<s;e++){var l=new i.Path,u=this.extractGlyphPoints(a[e],r,n,o,l);o+=u.offset,c.push(u.path)}var h=o/2;return{paths:c,offset:h}},extractGlyphPoints:function(t,e,r,n,o){var a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,_,w,M,S,T=[],C=e.glyphs[t]||e.glyphs["?"];if(C){if(C.o)for(l=C._cachedOutline||(C._cachedOutline=C.o.split(" ")),h=l.length,f=r,p=r,a=0;a<h;)switch(u=l[a++]){case"m":d=l[a++]*f+n,m=l[a++]*p,o.moveTo(d,m);break;case"l":d=l[a++]*f+n,m=l[a++]*p,o.lineTo(d,m);break;case"q":if(v=l[a++]*f+n,g=l[a++]*p,b=l[a++]*f+n,_=l[a++]*p,o.quadraticCurveTo(b,_,v,g),S=T[T.length-1])for(y=S.x,x=S.y,s=1,c=this.divisions;s<=c;s++){var A=s/c;i.Shape.Utils.b2(A,y,b,v),i.Shape.Utils.b2(A,x,_,g)}break;case"b":if(v=l[a++]*f+n,g=l[a++]*p,b=l[a++]*f+n,_=l[a++]*p,w=l[a++]*f+n,M=l[a++]*p,o.bezierCurveTo(b,_,w,M,v,g),S=T[T.length-1])for(y=S.x,x=S.y,s=1,c=this.divisions;s<=c;s++){var A=s/c;i.Shape.Utils.b3(A,y,b,w,v),i.Shape.Utils.b3(A,x,_,M,g)}}return{offset:C.ha*r,path:o}}}},i.FontUtils.generateShapes=function(t,e){e=e||{};var r=void 0!==e.size?e.size:100,n=void 0!==e.curveSegments?e.curveSegments:4,o=void 0!==e.font?e.font:"helvetiker",a=void 0!==e.weight?e.weight:"normal",s=void 0!==e.style?e.style:"normal";i.FontUtils.size=r,i.FontUtils.divisions=n,i.FontUtils.face=o,i.FontUtils.weight=a,i.FontUtils.style=s;for(var c=i.FontUtils.drawText(t),l=c.paths,u=[],h=0,f=l.length;h<f;h++)Array.prototype.push.apply(u,l[h].toShapes());return u},function(t){var e=1e-10,r=function(t,e){var r=t.length;if(r<3)return null;var o,a,s,c=[],l=[],u=[];if(n(t)>0)for(a=0;a<r;a++)l[a]=a;else for(a=0;a<r;a++)l[a]=r-1-a;var h=r,f=2*h;for(a=h-1;h>2;){if(f--<=0)return console.log("Warning, unable to triangulate polygon!"),e?u:c;if(o=a,h<=o&&(o=0),a=o+1,h<=a&&(a=0),s=a+1,h<=s&&(s=0),i(t,o,a,s,h,l)){var p,d,m,v,g;for(p=l[o],d=l[a],m=l[s],c.push([t[p],t[d],t[m]]),u.push([l[o],l[a],l[s]]),v=a,g=a+1;g<h;v++,g++)l[v]=l[g];h--,f=2*h}}return e?u:c},n=function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},i=function(t,r,n,i,o,a){var s,c,l,u,h,f,p,d,m;if(c=t[a[r]].x,l=t[a[r]].y,u=t[a[n]].x,h=t[a[n]].y,f=t[a[i]].x,p=t[a[i]].y,e>(u-c)*(p-l)-(h-l)*(f-c))return!1;var v,g,y,x,b,_,w,M,S,T,C,A,E,L,P;for(v=f-u,g=p-h,y=c-f,x=l-p,b=u-c,_=h-l,s=0;s<o;s++)if(d=t[a[s]].x,m=t[a[s]].y,!(d===c&&m===l||d===u&&m===h||d===f&&m===p)&&(w=d-c,M=m-l,S=d-u,T=m-h,C=d-f,A=m-p,P=v*T-g*S,E=b*M-_*w,L=y*A-x*C,P>=-e&&L>=-e&&E>=-e))return!1;return!0};return t.Triangulate=r,t.Triangulate.area=n,t}(i.FontUtils),n._typeface_js={faces:i.FontUtils.faces,loadFace:i.FontUtils.loadFace},i.typeface_js=n._typeface_js,i.Audio=function(t){i.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},i.Audio.prototype=Object.create(i.Object3D.prototype),i.Audio.prototype.load=function(t){var e=this,r=new XMLHttpRequest;return r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(t){e.context.decodeAudioData(this.response,function(t){e.source.buffer=t,e.source.connect(e.panner),e.source.start(0)})},r.send(),this},i.Audio.prototype.setLoop=function(t){this.source.loop=t},i.Audio.prototype.setRefDistance=function(t){this.panner.refDistance=t},i.Audio.prototype.setRolloffFactor=function(t){this.panner.rolloffFactor=t},i.Audio.prototype.updateMatrixWorld=function(){var t=new i.Vector3;return function(e){i.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}(),i.AudioListener=function(){i.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},i.AudioListener.prototype=Object.create(i.Object3D.prototype),i.AudioListener.prototype.updateMatrixWorld=function(){var t=new i.Vector3,e=new i.Quaternion,r=new i.Vector3,n=new i.Vector3,o=new i.Vector3,a=new i.Vector3;return function(s){i.Object3D.prototype.updateMatrixWorld.call(this,s);var c=this.context.listener;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.subVectors(t,a),c.setPosition(t.x,t.y,t.z),c.setOrientation(n.x,n.y,n.z,this.up.x,this.up.y,this.up.z),c.setVelocity(o.x,o.y,o.z),a.copy(t)}}(),i.Curve=function(){},i.Curve.prototype.getPoint=function(t){return console.log("Warning, getPoint() not implemented!"),null},i.Curve.prototype.getPointAt=function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},i.Curve.prototype.getPoints=function(t){t||(t=5);var e,r=[];for(e=0;e<=t;e++)r.push(this.getPoint(e/t));return r},i.Curve.prototype.getSpacedPoints=function(t){t||(t=5);var e,r=[];for(e=0;e<=t;e++)r.push(this.getPointAt(e/t));return r},i.Curve.prototype.getLength=function(){var t=this.getLengths();return t[t.length-1]},i.Curve.prototype.getLengths=function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)e=this.getPoint(r/t),o+=e.distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},i.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},i.Curve.prototype.getUtoTmapping=function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e?e:t*n[o-1];for(var a,s=0,c=o-1;s<=c;)if(i=Math.floor(s+(c-s)/2),a=n[i]-r,a<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(i=c,n[i]==r){var l=i/(o-1);return l}var u=n[i],h=n[i+1],f=h-u,p=(r-u)/f,l=(i+p)/(o-1);return l},i.Curve.prototype.getTangent=function(t){var e=1e-4,r=t-e,n=t+e;r<0&&(r=0),n>1&&(n=1);var i=this.getPoint(r),o=this.getPoint(n),a=o.clone().sub(i);return a.normalize()},i.Curve.prototype.getTangentAt=function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},i.Curve.Utils={tangentQuadraticBezier:function(t,e,r,n){return 2*(1-t)*(r-e)+2*t*(n-r)},tangentCubicBezier:function(t,e,r,n,i){return-3*e*(1-t)*(1-t)+3*r*(1-t)*(1-t)-6*t*r*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*i},tangentSpline:function(t,e,r,n,i){var o=6*t*t-6*t,a=3*t*t-4*t+1,s=-6*t*t+6*t,c=3*t*t-2*t;return o+a+s+c},interpolate:function(t,e,r,n,i){var o=.5*(r-t),a=.5*(n-e),s=i*i,c=i*s;return(2*e-2*r+o+a)*c+(-3*e+3*r-2*o-a)*s+o*i+e}},i.Curve.create=function(t,e){return t.prototype=Object.create(i.Curve.prototype),t.prototype.getPoint=e,t},i.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},i.CurvePath.prototype=Object.create(i.Curve.prototype),i.CurvePath.prototype.add=function(t){this.curves.push(t)},i.CurvePath.prototype.checkConnection=function(){},i.CurvePath.prototype.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new i.LineCurve(e,t))},i.CurvePath.prototype.getPoint=function(t){for(var e,r,n=t*this.getLength(),i=this.getCurveLengths(),o=0;o<i.length;){if(i[o]>=n){e=i[o]-n,r=this.curves[o];var a=1-e/r.getLength();return r.getPointAt(a)}o++}return null},i.CurvePath.prototype.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},i.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var t,e=[],r=0,n=this.curves.length;for(t=0;t<n;t++)r+=this.curves[t].getLength(),e.push(r);return this.cacheLengths=e,e},i.CurvePath.prototype.getBoundingBox=function(){var t,e,r,n,o,a,s=this.getPoints();t=e=Number.NEGATIVE_INFINITY,n=o=Number.POSITIVE_INFINITY;var c,l,u,h,f=s[0]instanceof i.Vector3;for(h=f?new i.Vector3:new i.Vector2,l=0,u=s.length;l<u;l++)c=s[l],c.x>t?t=c.x:c.x<n&&(n=c.x),c.y>e?e=c.y:c.y<o&&(o=c.y),f&&(c.z>r?r=c.z:c.z<a&&(a=c.z)),h.add(c);var p={minX:n,minY:o,maxX:t,maxY:e};return f&&(p.maxZ=r,p.minZ=a),p},i.CurvePath.prototype.createPointsGeometry=function(t){var e=this.getPoints(t,!0);return this.createGeometry(e)},i.CurvePath.prototype.createSpacedPointsGeometry=function(t){var e=this.getSpacedPoints(t,!0);return this.createGeometry(e)},i.CurvePath.prototype.createGeometry=function(t){for(var e=new i.Geometry,r=0;r<t.length;r++)e.vertices.push(new i.Vector3(t[r].x,t[r].y,t[r].z||0));return e},i.CurvePath.prototype.addWrapPath=function(t){this.bends.push(t)},i.CurvePath.prototype.getTransformedPoints=function(t,e){var r,n,i=this.getPoints(t);for(e||(e=this.bends),r=0,n=e.length;r<n;r++)i=this.getWrapPoints(i,e[r]);return i},i.CurvePath.prototype.getTransformedSpacedPoints=function(t,e){var r,n,i=this.getSpacedPoints(t);for(e||(e=this.bends),r=0,n=e.length;r<n;r++)i=this.getWrapPoints(i,e[r]);return i},i.CurvePath.prototype.getWrapPoints=function(t,e){var r,n,i,o,a,s,c=this.getBoundingBox();for(r=0,n=t.length;r<n;r++){i=t[r],o=i.x,a=i.y,s=o/c.maxX,s=e.getUtoTmapping(s,o);var l=e.getPoint(s),u=e.getTangent(s);u.set(-u.y,u.x).multiplyScalar(a),i.x=l.x+u.x,i.y=l.y+u.y}return t},i.Gyroscope=function(){i.Object3D.call(this)},i.Gyroscope.prototype=Object.create(i.Object3D.prototype),i.Gyroscope.prototype.updateMatrixWorld=function(){var t=new i.Vector3,e=new i.Quaternion,r=new i.Vector3,n=new i.Vector3,o=new i.Quaternion,a=new i.Vector3;return function(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(n,o,a),this.matrix.decompose(t,e,r),this.matrixWorld.compose(n,e,a)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);for(var s=0,c=this.children.length;s<c;s++)this.children[s].updateMatrixWorld(i)}}(),i.Path=function(t){i.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},i.Path.prototype=Object.create(i.CurvePath.prototype),i.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},i.Path.prototype.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},i.Path.prototype.moveTo=function(t,e){var r=Array.prototype.slice.call(arguments);this.actions.push({action:i.PathActions.MOVE_TO,args:r})},i.Path.prototype.lineTo=function(t,e){var r=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,o=n[n.length-2],a=n[n.length-1],s=new i.LineCurve(new i.Vector2(o,a),new i.Vector2(t,e));this.curves.push(s),this.actions.push({action:i.PathActions.LINE_TO,args:r})},i.Path.prototype.quadraticCurveTo=function(t,e,r,n){var o=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],l=new i.QuadraticBezierCurve(new i.Vector2(s,c),new i.Vector2(t,e),new i.Vector2(r,n));this.curves.push(l),this.actions.push({action:i.PathActions.QUADRATIC_CURVE_TO,args:o})},i.Path.prototype.bezierCurveTo=function(t,e,r,n,o,a){var s=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,l=c[c.length-2],u=c[c.length-1],h=new i.CubicBezierCurve(new i.Vector2(l,u),new i.Vector2(t,e),new i.Vector2(r,n),new i.Vector2(o,a));this.curves.push(h),this.actions.push({action:i.PathActions.BEZIER_CURVE_TO,args:s})},i.Path.prototype.splineThru=function(t){var e=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,n=r[r.length-2],o=r[r.length-1],a=[new i.Vector2(n,o)];Array.prototype.push.apply(a,t);var s=new i.SplineCurve(a);this.curves.push(s),this.actions.push({action:i.PathActions.CSPLINE_THRU,args:e})},i.Path.prototype.arc=function(t,e,r,n,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1];this.absarc(t+s,e+c,r,n,i,o)},i.Path.prototype.absarc=function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},i.Path.prototype.ellipse=function(t,e,r,n,i,o,a){var s=this.actions[this.actions.length-1].args,c=s[s.length-2],l=s[s.length-1];this.absellipse(t+c,e+l,r,n,i,o,a)},i.Path.prototype.absellipse=function(t,e,r,n,o,a,s){var c=Array.prototype.slice.call(arguments),l=new i.EllipseCurve(t,e,r,n,o,a,s);this.curves.push(l);var u=l.getPoint(1);c.push(u.x),c.push(u.y),this.actions.push({action:i.PathActions.ELLIPSE,args:c})},i.Path.prototype.getSpacedPoints=function(t,e){t||(t=40);for(var r=[],n=0;n<t;n++)r.push(this.getPoint(n/t));return r},i.Path.prototype.getPoints=function(t,e){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(t,e);t=t||12;var r,n,o,a,s,c,l,u,h,f,p,d,m,v,g,y,x,b,_=[];for(r=0,n=this.actions.length;r<n;r++)switch(o=this.actions[r],a=o.action,s=o.args,a){case i.PathActions.MOVE_TO:_.push(new i.Vector2(s[0],s[1]));break;case i.PathActions.LINE_TO:_.push(new i.Vector2(s[0],s[1]));break;case i.PathActions.QUADRATIC_CURVE_TO:for(c=s[2],l=s[3],f=s[0],p=s[1],_.length>0?(v=_[_.length-1],d=v.x,m=v.y):(v=this.actions[r-1].args,d=v[v.length-2],m=v[v.length-1]),g=1;g<=t;g++)y=g/t,x=i.Shape.Utils.b2(y,d,f,c),b=i.Shape.Utils.b2(y,m,p,l),_.push(new i.Vector2(x,b));break;case i.PathActions.BEZIER_CURVE_TO:for(c=s[4],l=s[5],f=s[0],p=s[1],u=s[2],h=s[3],_.length>0?(v=_[_.length-1],d=v.x,m=v.y):(v=this.actions[r-1].args,d=v[v.length-2],m=v[v.length-1]),g=1;g<=t;g++)y=g/t,x=i.Shape.Utils.b3(y,d,f,u,c),b=i.Shape.Utils.b3(y,m,p,h,l),_.push(new i.Vector2(x,b));break;case i.PathActions.CSPLINE_THRU:v=this.actions[r-1].args;var w=new i.Vector2(v[v.length-2],v[v.length-1]),M=[w],S=t*s[0].length;M=M.concat(s[0]);var T=new i.SplineCurve(M);for(g=1;g<=S;g++)_.push(T.getPointAt(g/S));break;case i.PathActions.ARC:var C,A=s[0],E=s[1],L=s[2],P=s[3],k=s[4],R=!!s[5],D=k-P,F=2*t;for(g=1;g<=F;g++)y=g/F,R||(y=1-y),C=P+y*D,x=A+L*Math.cos(C),b=E+L*Math.sin(C),_.push(new i.Vector2(x,b));break;case i.PathActions.ELLIPSE:var C,A=s[0],E=s[1],O=s[2],N=s[3],P=s[4],k=s[5],R=!!s[6],D=k-P,F=2*t;for(g=1;g<=F;g++)y=g/F,R||(y=1-y),C=P+y*D,x=A+O*Math.cos(C),b=E+N*Math.sin(C),_.push(new i.Vector2(x,b))}var U=_[_.length-1],B=1e-10;return Math.abs(U.x-_[0].x)<B&&Math.abs(U.y-_[0].y)<B&&_.splice(_.length-1,1),e&&_.push(_[0]),_},i.Path.prototype.toShapes=function(t,e){function r(t){var e,r,n,o,a,s=[],c=new i.Path;for(e=0,r=t.length;e<r;e++)n=t[e],a=n.args,o=n.action,o==i.PathActions.MOVE_TO&&0!=c.actions.length&&(s.push(c),c=new i.Path),c[o].apply(c,a);return 0!=c.actions.length&&s.push(c),s}function n(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r],a=new i.Shape;a.actions=o.actions,a.curves=o.curves,e.push(a)}return e}function o(t,e){for(var r=1e-10,n=e.length,i=!1,o=n-1,a=0;a<n;o=a++){var s=e[o],c=e[a],l=c.x-s.x,u=c.y-s.y;if(Math.abs(u)>r){if(u<0&&(s=e[a],l=-l,c=e[o],u=-u),t.y<s.y||t.y>c.y)continue;if(t.y==s.y){if(t.x==s.x)return!0}else{var h=u*(t.x-s.x)-l*(t.y-s.y);if(0==h)return!0;if(h<0)continue;i=!i}}else{if(t.y!=s.y)continue;if(c.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=c.x)return!0}}return i}var a=r(this.actions);if(0==a.length)return[];if(e===!0)return n(a);var s,c,l,u=[];if(1==a.length)return c=a[0],l=new i.Shape,l.actions=c.actions,l.curves=c.curves,u.push(l),u;var h=!i.Shape.Utils.isClockWise(a[0].getPoints());h=t?!h:h;var f,p=[],d=[],m=[],v=0;d[v]=void 0,m[v]=[];var g,y;for(g=0,y=a.length;g<y;g++)c=a[g],f=c.getPoints(),s=i.Shape.Utils.isClockWise(f),s=t?!s:s,s?(!h&&d[v]&&v++,d[v]={s:new i.Shape,p:f},d[v].s.actions=c.actions,d[v].s.curves=c.curves,h&&v++,m[v]=[]):m[v].push({h:c,p:f[0]});if(!d[0])return n(a);if(d.length>1){for(var x=!1,b=[],_=0,w=d.length;_<w;_++)p[_]=[];for(var _=0,w=d.length;_<w;_++)for(var M=(d[_],m[_]),S=0;S<M.length;S++){for(var T=M[S],C=!0,A=0;A<d.length;A++)o(T.p,d[A].p)&&(_!=A&&b.push({froms:_,tos:A,hole:S}),C?(C=!1,p[A].push(T)):x=!0);C&&p[_].push(T)}b.length>0&&(x||(m=p))}var E,L,P;for(g=0,y=d.length;g<y;g++)for(l=d[g].s,u.push(l),E=m[g],L=0,P=E.length;L<P;L++)l.holes.push(E[L].h);return u},i.Shape=function(){i.Path.apply(this,arguments),this.holes=[]},i.Shape.prototype=Object.create(i.Path.prototype),i.Shape.prototype.extrude=function(t){var e=new i.ExtrudeGeometry(this,t);return e},i.Shape.prototype.makeGeometry=function(t){var e=new i.ShapeGeometry(this,t);return e},i.Shape.prototype.getPointsHoles=function(t){var e,r=this.holes.length,n=[];for(e=0;e<r;e++)n[e]=this.holes[e].getTransformedPoints(t,this.bends);return n},i.Shape.prototype.getSpacedPointsHoles=function(t){var e,r=this.holes.length,n=[];for(e=0;e<r;e++)n[e]=this.holes[e].getTransformedSpacedPoints(t,this.bends);return n},i.Shape.prototype.extractAllPoints=function(t){return{shape:this.getTransformedPoints(t),holes:this.getPointsHoles(t)}},i.Shape.prototype.extractPoints=function(t){return this.useSpacedPoints?this.extractAllSpacedPoints(t):this.extractAllPoints(t)},i.Shape.prototype.extractAllSpacedPoints=function(t){return{shape:this.getTransformedSpacedPoints(t),holes:this.getSpacedPointsHoles(t)}},i.Shape.Utils={triangulateShape:function(t,e){function r(t,e,r){return t.x!=e.x?t.x<e.x?t.x<=r.x&&r.x<=e.x:e.x<=r.x&&r.x<=t.x:t.y<e.y?t.y<=r.y&&r.y<=e.y:e.y<=r.y&&r.y<=t.y}function n(t,e,n,i,o){var a=1e-10,s=e.x-t.x,c=e.y-t.y,l=i.x-n.x,u=i.y-n.y,h=t.x-n.x,f=t.y-n.y,p=c*l-s*u,d=c*h-s*f;if(Math.abs(p)>a){var m;if(p>0){if(d<0||d>p)return[];if(m=u*h-l*f,m<0||m>p)return[]}else{if(d>0||d<p)return[];if(m=u*h-l*f,m>0||m<p)return[]}if(0==m)return!o||0!=d&&d!=p?[t]:[];if(m==p)return!o||0!=d&&d!=p?[e]:[];if(0==d)return[n];if(d==p)return[i];var v=m/p;return[{x:t.x+v*s,y:t.y+v*c}]}if(0!=d||u*h!=l*f)return[];var g=0==s&&0==c,y=0==l&&0==u;if(g&&y)return t.x!=n.x||t.y!=n.y?[]:[t];if(g)return r(n,i,t)?[t]:[];if(y)return r(t,e,n)?[n]:[];var x,b,_,w,M,S,T,C;return 0!=s?(t.x<e.x?(x=t,_=t.x,b=e,w=e.x):(x=e,_=e.x,b=t,w=t.x),n.x<i.x?(M=n,T=n.x,S=i,C=i.x):(M=i,T=i.x,S=n,C=n.x)):(t.y<e.y?(x=t,_=t.y,b=e,w=e.y):(x=e,_=e.y,b=t,w=t.y),n.y<i.y?(M=n,T=n.y,S=i,C=i.y):(M=i,T=i.y,S=n,C=n.y)),_<=T?w<T?[]:w==T?o?[]:[M]:w<=C?[M,b]:[M,S]:_>C?[]:_==C?o?[]:[x]:w<=C?[x,b]:[x,S]}function o(t,e,r,n){var i=1e-10,o=e.x-t.x,a=e.y-t.y,s=r.x-t.x,c=r.y-t.y,l=n.x-t.x,u=n.y-t.y,h=o*c-a*s,f=o*u-a*l;if(Math.abs(h)>i){var p=l*c-u*s;return h>0?f>=0&&p>=0:f>=0||p>=0}return f>0}function a(t,e){function r(t,e){var r=y.length-1,n=t-1;n<0&&(n=r);var i=t+1;i>r&&(i=0);var a=o(y[t],y[n],y[i],s[e]);if(!a)return!1;var c=s.length-1,l=e-1;l<0&&(l=c);var u=e+1;return u>c&&(u=0),a=o(s[e],s[l],s[u],y[t]),!!a}function i(t,e){var r,i,o;for(r=0;r<y.length;r++)if(i=r+1,i%=y.length,o=n(t,e,y[r],y[i],!0),o.length>0)return!0;return!1}function a(t,r){var i,o,a,s,c;for(i=0;i<x.length;i++)for(o=e[x[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,c=n(t,r,o[a],o[s],!0),c.length>0)return!0;return!1}for(var s,c,l,u,h,f,p,d,m,v,g,y=t.concat(),x=[],b=[],_=0,w=e.length;_<w;_++)x.push(_);for(var M=0,S=2*x.length;x.length>0;){if(S--,S<0){console.log("Infinite Loop! Holes left:"+x.length+", Probably Hole outside Shape!");break}for(l=M;l<y.length;l++){u=y[l],c=-1;for(var _=0;_<x.length;_++)if(f=x[_],p=u.x+":"+u.y+":"+f,void 0===b[p]){s=e[f];for(var T=0;T<s.length;T++)if(h=s[T],r(l,T)&&!i(u,h)&&!a(u,h)){c=T,x.splice(_,1),d=y.slice(0,l+1),m=y.slice(l),v=s.slice(c),g=s.slice(0,c+1),y=d.concat(v).concat(g).concat(m),M=l;break}if(c>=0)break;b[p]=!0}if(c>=0)break}}return y}for(var s,c,l,u,h,f,p={},d=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(d,e[m]);for(s=0,c=d.length;s<c;s++)h=d[s].x+":"+d[s].y,void 0!==p[h]&&console.log("Duplicate point",h),p[h]=s;var g=a(t,e),y=i.FontUtils.Triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(u=y[s],l=0;l<3;l++)h=u[l].x+":"+u[l].y,f=p[h],void 0!==f&&(u[l]=f);return y.concat()},isClockWise:function(t){return i.FontUtils.Triangulate.area(t)<0},b2p0:function(t,e){var r=1-t;return r*r*e},b2p1:function(t,e){return 2*(1-t)*t*e},b2p2:function(t,e){return t*t*e},b2:function(t,e,r,n){return this.b2p0(t,e)+this.b2p1(t,r)+this.b2p2(t,n)},b3p0:function(t,e){var r=1-t;return r*r*r*e},b3p1:function(t,e){var r=1-t;return 3*r*r*t*e},b3p2:function(t,e){var r=1-t;return 3*r*t*t*e},b3p3:function(t,e){return t*t*t*e},b3:function(t,e,r,n,i){return this.b3p0(t,e)+this.b3p1(t,r)+this.b3p2(t,n)+this.b3p3(t,i)}},i.LineCurve=function(t,e){this.v1=t,this.v2=e},i.LineCurve.prototype=Object.create(i.Curve.prototype),i.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},i.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},i.LineCurve.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},i.QuadraticBezierCurve=function(t,e,r){this.v0=t,this.v1=e,this.v2=r},i.QuadraticBezierCurve.prototype=Object.create(i.Curve.prototype),i.QuadraticBezierCurve.prototype.getPoint=function(t){var e=new i.Vector2;return e.x=i.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=i.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e},i.QuadraticBezierCurve.prototype.getTangent=function(t){var e=new i.Vector2;return e.x=i.Curve.Utils.tangentQuadraticBezier(t,this.v0.x,this.v1.x,this.v2.x),e.y=i.Curve.Utils.tangentQuadraticBezier(t,this.v0.y,this.v1.y,this.v2.y),e.normalize()},i.CubicBezierCurve=function(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n},i.CubicBezierCurve.prototype=Object.create(i.Curve.prototype),i.CubicBezierCurve.prototype.getPoint=function(t){var e,r;return e=i.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=i.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new i.Vector2(e,r)},i.CubicBezierCurve.prototype.getTangent=function(t){var e,r;e=i.Curve.Utils.tangentCubicBezier(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=i.Curve.Utils.tangentCubicBezier(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var n=new i.Vector2(e,r);return n.normalize(),n},i.SplineCurve=function(t){this.points=void 0==t?[]:t},i.SplineCurve.prototype=Object.create(i.Curve.prototype),i.SplineCurve.prototype.getPoint=function(t){var e=this.points,r=(e.length-1)*t,n=Math.floor(r),o=r-n,a=e[0==n?n:n-1],s=e[n],c=e[n>e.length-2?e.length-1:n+1],l=e[n>e.length-3?e.length-1:n+2],u=new i.Vector2;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u},i.EllipseCurve=function(t,e,r,n,i,o,a){this.aX=t,this.aY=e,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a},i.EllipseCurve.prototype=Object.create(i.Curve.prototype),i.EllipseCurve.prototype.getPoint=function(t){var e=this.aEndAngle-this.aStartAngle;e<0&&(e+=2*Math.PI),e>2*Math.PI&&(e-=2*Math.PI);var r;r=this.aClockwise===!0?this.aEndAngle+(1-t)*(2*Math.PI-e):this.aStartAngle+t*e;var n=new i.Vector2;return n.x=this.aX+this.xRadius*Math.cos(r),n.y=this.aY+this.yRadius*Math.sin(r),n},i.ArcCurve=function(t,e,r,n,o,a){i.EllipseCurve.call(this,t,e,r,r,n,o,a)},i.ArcCurve.prototype=Object.create(i.EllipseCurve.prototype),i.LineCurve3=i.Curve.create(function(t,e){this.v1=t,this.v2=e},function(t){var e=new i.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}),i.QuadraticBezierCurve3=i.Curve.create(function(t,e,r){this.v0=t,this.v1=e,this.v2=r},function(t){var e=new i.Vector3;return e.x=i.Shape.Utils.b2(t,this.v0.x,this.v1.x,this.v2.x),e.y=i.Shape.Utils.b2(t,this.v0.y,this.v1.y,this.v2.y),e.z=i.Shape.Utils.b2(t,this.v0.z,this.v1.z,this.v2.z),e}),i.CubicBezierCurve3=i.Curve.create(function(t,e,r,n){this.v0=t,this.v1=e,this.v2=r,this.v3=n},function(t){var e=new i.Vector3;return e.x=i.Shape.Utils.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e.y=i.Shape.Utils.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e.z=i.Shape.Utils.b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z),e}),i.SplineCurve3=i.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,r=(e.length-1)*t,n=Math.floor(r),o=r-n,a=e[0==n?n:n-1],s=e[n],c=e[n>e.length-2?e.length-1:n+1],l=e[n>e.length-3?e.length-1:n+2],u=new i.Vector3;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u.z=i.Curve.Utils.interpolate(a.z,s.z,c.z,l.z,o),u}),i.ClosedSplineCurve3=i.Curve.create(function(t){this.points=void 0==t?[]:t},function(t){var e=this.points,r=(e.length-0)*t,n=Math.floor(r),o=r-n;n+=n>0?0:(Math.floor(Math.abs(n)/e.length)+1)*e.length;var a=e[(n-1)%e.length],s=e[n%e.length],c=e[(n+1)%e.length],l=e[(n+2)%e.length],u=new i.Vector3;return u.x=i.Curve.Utils.interpolate(a.x,s.x,c.x,l.x,o),u.y=i.Curve.Utils.interpolate(a.y,s.y,c.y,l.y,o),u.z=i.Curve.Utils.interpolate(a.z,s.z,c.z,l.z,o),u}),i.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(t){if(t.initialized!==!0){for(var e=0;e<t.hierarchy.length;e++){for(var r=0;r<t.hierarchy[e].keys.length;r++)if(t.hierarchy[e].keys[r].time<0&&(t.hierarchy[e].keys[r].time=0),void 0!==t.hierarchy[e].keys[r].rot&&!(t.hierarchy[e].keys[r].rot instanceof i.Quaternion)){var n=t.hierarchy[e].keys[r].rot;t.hierarchy[e].keys[r].rot=(new i.Quaternion).fromArray(n)}if(t.hierarchy[e].keys.length&&void 0!==t.hierarchy[e].keys[0].morphTargets){for(var o={},r=0;r<t.hierarchy[e].keys.length;r++)for(var a=0;a<t.hierarchy[e].keys[r].morphTargets.length;a++){var s=t.hierarchy[e].keys[r].morphTargets[a];o[s]=-1}t.hierarchy[e].usedMorphTargets=o;for(var r=0;r<t.hierarchy[e].keys.length;r++){var c={};for(var s in o){for(var a=0;a<t.hierarchy[e].keys[r].morphTargets.length;a++)if(t.hierarchy[e].keys[r].morphTargets[a]===s){c[s]=t.hierarchy[e].keys[r].morphTargetsInfluences[a];break}a===t.hierarchy[e].keys[r].morphTargets.length&&(c[s]=0)}t.hierarchy[e].keys[r].morphTargetsInfluences=c}}for(var r=1;r<t.hierarchy[e].keys.length;r++)t.hierarchy[e].keys[r].time===t.hierarchy[e].keys[r-1].time&&(t.hierarchy[e].keys.splice(r,1),r--);for(var r=0;r<t.hierarchy[e].keys.length;r++)t.hierarchy[e].keys[r].index=r;
}return t.initialized=!0,t}},parse:function(t){var e=function(t,r){r.push(t);for(var n=0;n<t.children.length;n++)e(t.children[n],r)},r=[];if(t instanceof i.SkinnedMesh)for(var n=0;n<t.skeleton.bones.length;n++)r.push(t.skeleton.bones[n]);else e(t,r);return r},play:function(t){this.animations.indexOf(t)===-1&&this.animations.push(t)},stop:function(t){var e=this.animations.indexOf(t);e!==-1&&this.animations.splice(e,1)},update:function(t){for(var e=0;e<this.animations.length;e++)this.animations[e].resetBlendWeights();for(var e=0;e<this.animations.length;e++)this.animations[e].update(t)}},i.Animation=function(t,e){this.root=t,this.data=i.AnimationHandler.init(e),this.hierarchy=i.AnimationHandler.parse(t),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=i.AnimationHandler.LINEAR},i.Animation.prototype.keyTypes=["pos","rot","scl"],i.Animation.prototype.play=function(t,e){this.currentTime=void 0!==t?t:0,this.weight=void 0!==e?e:1,this.isPlaying=!0,this.reset(),i.AnimationHandler.play(this)},i.Animation.prototype.stop=function(){this.isPlaying=!1,i.AnimationHandler.stop(this)},i.Animation.prototype.reset=function(){for(var t=0,e=this.hierarchy.length;t<e;t++){var r=this.hierarchy[t];r.matrixAutoUpdate=!0,void 0===r.animationCache&&(r.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}}),void 0===r.animationCache.animations[this.data.name]&&(r.animationCache.animations[this.data.name]={},r.animationCache.animations[this.data.name].prevKey={pos:0,rot:0,scl:0},r.animationCache.animations[this.data.name].nextKey={pos:0,rot:0,scl:0},r.animationCache.animations[this.data.name].originalMatrix=r.matrix);for(var n=r.animationCache.animations[this.data.name],i=0;i<3;i++){for(var o=this.keyTypes[i],a=this.data.hierarchy[t].keys[0],s=this.getNextKeyWith(o,t,1);s.time<this.currentTime&&s.index>a.index;)a=s,s=this.getNextKeyWith(o,t,s.index+1);n.prevKey[o]=a,n.nextKey[o]=s}}},i.Animation.prototype.resetBlendWeights=function(){for(var t=0,e=this.hierarchy.length;t<e;t++){var r=this.hierarchy[t];void 0!==r.animationCache&&(r.animationCache.blending.positionWeight=0,r.animationCache.blending.quaternionWeight=0,r.animationCache.blending.scaleWeight=0)}},i.Animation.prototype.update=function(){var t=[],e=new i.Vector3,r=new i.Vector3,n=new i.Quaternion,o=function(t,e){var r,n,i,o,s,c,l,u,h,f=[],p=[];return r=(t.length-1)*e,n=Math.floor(r),i=r-n,f[0]=0===n?n:n-1,f[1]=n,f[2]=n>t.length-2?n:n+1,f[3]=n>t.length-3?n:n+2,c=t[f[0]],l=t[f[1]],u=t[f[2]],h=t[f[3]],o=i*i,s=i*o,p[0]=a(c[0],l[0],u[0],h[0],i,o,s),p[1]=a(c[1],l[1],u[1],h[1],i,o,s),p[2]=a(c[2],l[2],u[2],h[2],i,o,s),p},a=function(t,e,r,n,i,o,a){var s=.5*(r-t),c=.5*(n-e);return(2*(e-r)+s+c)*a+(-3*(e-r)-2*s-c)*o+s*i+e};return function(a){if(this.isPlaying!==!1&&(this.currentTime+=a*this.timeScale,0!==this.weight)){var s=this.data.length;if(this.currentTime>s||this.currentTime<0){if(!this.loop)return void this.stop();this.currentTime%=s,this.currentTime<0&&(this.currentTime+=s),this.reset()}for(var c=0,l=this.hierarchy.length;c<l;c++)for(var u=this.hierarchy[c],h=u.animationCache.animations[this.data.name],f=u.animationCache.blending,p=0;p<3;p++){var d=this.keyTypes[p],m=h.prevKey[d],v=h.nextKey[d];if(this.timeScale>0&&v.time<=this.currentTime||this.timeScale<0&&m.time>=this.currentTime){for(m=this.data.hierarchy[c].keys[0],v=this.getNextKeyWith(d,c,1);v.time<this.currentTime&&v.index>m.index;)m=v,v=this.getNextKeyWith(d,c,v.index+1);h.prevKey[d]=m,h.nextKey[d]=v}u.matrixAutoUpdate=!0,u.matrixWorldNeedsUpdate=!0;var g=(this.currentTime-m.time)/(v.time-m.time),y=m[d],x=v[d];if(g<0&&(g=0),g>1&&(g=1),"pos"===d){if(this.interpolationType===i.AnimationHandler.LINEAR){r.x=y[0]+(x[0]-y[0])*g,r.y=y[1]+(x[1]-y[1])*g,r.z=y[2]+(x[2]-y[2])*g;var b=this.weight/(this.weight+f.positionWeight);u.position.lerp(r,b),f.positionWeight+=this.weight}else if(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){t[0]=this.getPrevKeyWith("pos",c,m.index-1).pos,t[1]=y,t[2]=x,t[3]=this.getNextKeyWith("pos",c,v.index+1).pos,g=.33*g+.33;var _=o(t,g),b=this.weight/(this.weight+f.positionWeight);f.positionWeight+=this.weight;var w=u.position;if(w.x=w.x+(_[0]-w.x)*b,w.y=w.y+(_[1]-w.y)*b,w.z=w.z+(_[2]-w.z)*b,this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){var M=o(t,1.01*g);e.set(M[0],M[1],M[2]),e.sub(w),e.y=0,e.normalize();var S=Math.atan2(e.x,e.z);u.rotation.set(0,S,0)}}}else if("rot"===d)if(i.Quaternion.slerp(y,x,n,g),0===f.quaternionWeight)u.quaternion.copy(n),f.quaternionWeight=this.weight;else{var b=this.weight/(this.weight+f.quaternionWeight);i.Quaternion.slerp(u.quaternion,n,u.quaternion,b),f.quaternionWeight+=this.weight}else if("scl"===d){r.x=y[0]+(x[0]-y[0])*g,r.y=y[1]+(x[1]-y[1])*g,r.z=y[2]+(x[2]-y[2])*g;var b=this.weight/(this.weight+f.scaleWeight);u.scale.lerp(r,b),f.scaleWeight+=this.weight}}return!0}}}(),i.Animation.prototype.getNextKeyWith=function(t,e,r){var n=this.data.hierarchy[e].keys;for(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?r=r<n.length-1?r:n.length-1:r%=n.length;r<n.length;r++)if(void 0!==n[r][t])return n[r];return this.data.hierarchy[e].keys[0]},i.Animation.prototype.getPrevKeyWith=function(t,e,r){var n=this.data.hierarchy[e].keys;for(r=this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+n.length;r>=0;r--)if(void 0!==n[r][t])return n[r];return this.data.hierarchy[e].keys[n.length-1]},i.KeyFrameAnimation=function(t){this.root=t.node,this.data=i.AnimationHandler.init(t),this.hierarchy=i.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var e=0,r=this.hierarchy.length;e<r;e++){var n=this.data.hierarchy[e].keys,o=this.data.hierarchy[e].sids,a=this.hierarchy[e];if(n.length&&o){for(var s=0;s<o.length;s++){var c=o[s],l=this.getNextKeyWith(c,e,0);l&&l.apply(c)}a.matrixAutoUpdate=!1,this.data.hierarchy[e].node.updateMatrix(),a.matrixWorldNeedsUpdate=!0}}},i.KeyFrameAnimation.prototype.play=function(t){if(this.currentTime=void 0!==t?t:0,this.isPlaying===!1){this.isPlaying=!0;var e,r,n,o=this.hierarchy.length;for(e=0;e<o;e++){r=this.hierarchy[e],n=this.data.hierarchy[e],void 0===n.animationCache&&(n.animationCache={},n.animationCache.prevKey=null,n.animationCache.nextKey=null,n.animationCache.originalMatrix=r.matrix);var a=this.data.hierarchy[e].keys;a.length&&(n.animationCache.prevKey=a[0],n.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,i.AnimationHandler.play(this)},i.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,i.AnimationHandler.stop(this);for(var t=0;t<this.data.hierarchy.length;t++){var e=this.hierarchy[t],r=this.data.hierarchy[t];if(void 0!==r.animationCache){var n=r.animationCache.originalMatrix;n.copy(e.matrix),e.matrix=n,delete r.animationCache}}},i.KeyFrameAnimation.prototype.update=function(t){if(this.isPlaying!==!1){this.currentTime+=t*this.timeScale;var e=this.data.length;this.loop===!0&&this.currentTime>e&&(this.currentTime%=e),this.currentTime=Math.min(this.currentTime,e);for(var r=0,n=this.hierarchy.length;r<n;r++){var i=this.hierarchy[r],o=this.data.hierarchy[r],a=o.keys,s=o.animationCache;if(a.length){var c=s.prevKey,l=s.nextKey;if(l.time<=this.currentTime){for(;l.time<this.currentTime&&l.index>c.index;)c=l,l=a[c.index+1];s.prevKey=c,s.nextKey=l}l.time>=this.currentTime?c.interpolate(l,this.currentTime):c.interpolate(l,l.time),this.data.hierarchy[r].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}}},i.KeyFrameAnimation.prototype.getNextKeyWith=function(t,e,r){var n=this.data.hierarchy[e].keys;for(r%=n.length;r<n.length;r++)if(n[r].hasTarget(t))return n[r];return n[0]},i.KeyFrameAnimation.prototype.getPrevKeyWith=function(t,e,r){var n=this.data.hierarchy[e].keys;for(r=r>=0?r:r+n.length;r>=0;r--)if(n[r].hasTarget(t))return n[r];return n[n.length-1]},i.MorphAnimation=function(t){this.mesh=t,this.frames=t.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.isPlaying=!1},i.MorphAnimation.prototype={play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(){var t=0,e=0;return function(r){if(this.isPlaying!==!1){this.currentTime+=r,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var n=this.duration/this.frames,i=Math.floor(this.currentTime/n);i!=e&&(this.mesh.morphTargetInfluences[t]=0,this.mesh.morphTargetInfluences[e]=1,this.mesh.morphTargetInfluences[i]=0,t=e,e=i),this.mesh.morphTargetInfluences[i]=this.currentTime%n/n,this.mesh.morphTargetInfluences[t]=1-this.mesh.morphTargetInfluences[i]}}}()},i.BoxGeometry=function(t,e,r,n,o,a){function s(t,e,r,n,o,a,s,l){var u,h,f,p=c.widthSegments,d=c.heightSegments,m=o/2,v=a/2,g=c.vertices.length;"x"===t&&"y"===e||"y"===t&&"x"===e?u="z":"x"===t&&"z"===e||"z"===t&&"x"===e?(u="y",d=c.depthSegments):("z"===t&&"y"===e||"y"===t&&"z"===e)&&(u="x",p=c.depthSegments);var y=p+1,x=d+1,b=o/p,_=a/d,w=new i.Vector3;for(w[u]=s>0?1:-1,f=0;f<x;f++)for(h=0;h<y;h++){var M=new i.Vector3;M[t]=(h*b-m)*r,M[e]=(f*_-v)*n,M[u]=s,c.vertices.push(M)}for(f=0;f<d;f++)for(h=0;h<p;h++){var S=h+y*f,T=h+y*(f+1),C=h+1+y*(f+1),A=h+1+y*f,E=new i.Vector2(h/p,1-f/d),L=new i.Vector2(h/p,1-(f+1)/d),P=new i.Vector2((h+1)/p,1-(f+1)/d),k=new i.Vector2((h+1)/p,1-f/d),R=new i.Face3(S+g,T+g,A+g);R.normal.copy(w),R.vertexNormals.push(w.clone(),w.clone(),w.clone()),R.materialIndex=l,c.faces.push(R),c.faceVertexUvs[0].push([E,L,k]),R=new i.Face3(T+g,C+g,A+g),R.normal.copy(w),R.vertexNormals.push(w.clone(),w.clone(),w.clone()),R.materialIndex=l,c.faces.push(R),c.faceVertexUvs[0].push([L.clone(),P,k.clone()])}}i.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:o,depthSegments:a},this.widthSegments=n||1,this.heightSegments=o||1,this.depthSegments=a||1;var c=this,l=t/2,u=e/2,h=r/2;s("z","y",-1,-1,r,e,l,0),s("z","y",1,-1,r,e,-l,1),s("x","z",1,1,t,r,u,2),s("x","z",1,-1,t,r,-u,3),s("x","y",1,-1,t,e,h,4),s("x","y",-1,-1,t,e,-h,5),this.mergeVertices()},i.BoxGeometry.prototype=Object.create(i.Geometry.prototype),i.CircleGeometry=function(t,e,r,n){i.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var o,a=[],s=new i.Vector3,c=new i.Vector2(.5,.5);for(this.vertices.push(s),a.push(c),o=0;o<=e;o++){var l=new i.Vector3,u=r+o/e*n;l.x=t*Math.cos(u),l.y=t*Math.sin(u),this.vertices.push(l),a.push(new i.Vector2((l.x/t+1)/2,(l.y/t+1)/2))}var h=new i.Vector3(0,0,1);for(o=1;o<=e;o++)this.faces.push(new i.Face3(o,o+1,0,[h.clone(),h.clone(),h.clone()])),this.faceVertexUvs[0].push([a[o].clone(),a[o+1].clone(),c.clone()]);this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,t)},i.CircleGeometry.prototype=Object.create(i.Geometry.prototype),i.CubeGeometry=function(t,e,r,n,o,a){return console.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new i.BoxGeometry(t,e,r,n,o,a)},i.CylinderGeometry=function(t,e,r,n,o,a){i.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:o,openEnded:a},t=void 0!==t?t:20,e=void 0!==e?e:20,r=void 0!==r?r:100,n=n||8,o=o||1,a=void 0!==a&&a;var s,c,l=r/2,u=[],h=[];for(c=0;c<=o;c++){var f=[],p=[],d=c/o,m=d*(e-t)+t;for(s=0;s<=n;s++){var v=s/n,g=new i.Vector3;g.x=m*Math.sin(v*Math.PI*2),g.y=-d*r+l,g.z=m*Math.cos(v*Math.PI*2),this.vertices.push(g),f.push(this.vertices.length-1),p.push(new i.Vector2(v,1-d))}u.push(f),h.push(p)}var y,x,b=(e-t)/r;for(s=0;s<n;s++)for(0!==t?(y=this.vertices[u[0][s]].clone(),x=this.vertices[u[0][s+1]].clone()):(y=this.vertices[u[1][s]].clone(),x=this.vertices[u[1][s+1]].clone()),y.setY(Math.sqrt(y.x*y.x+y.z*y.z)*b).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*b).normalize(),c=0;c<o;c++){var _=u[c][s],w=u[c+1][s],M=u[c+1][s+1],S=u[c][s+1],T=y.clone(),C=y.clone(),A=x.clone(),E=x.clone(),L=h[c][s].clone(),P=h[c+1][s].clone(),k=h[c+1][s+1].clone(),R=h[c][s+1].clone();this.faces.push(new i.Face3(_,w,S,[T,C,E])),this.faceVertexUvs[0].push([L,P,R]),this.faces.push(new i.Face3(w,M,S,[C.clone(),A,E.clone()])),this.faceVertexUvs[0].push([P.clone(),k,R.clone()])}if(a===!1&&t>0)for(this.vertices.push(new i.Vector3(0,l,0)),s=0;s<n;s++){var _=u[0][s],w=u[0][s+1],M=this.vertices.length-1,T=new i.Vector3(0,1,0),C=new i.Vector3(0,1,0),A=new i.Vector3(0,1,0),L=h[0][s].clone(),P=h[0][s+1].clone(),k=new i.Vector2(P.x,0);this.faces.push(new i.Face3(_,w,M,[T,C,A])),this.faceVertexUvs[0].push([L,P,k])}if(a===!1&&e>0)for(this.vertices.push(new i.Vector3(0,-l,0)),s=0;s<n;s++){var _=u[c][s+1],w=u[c][s],M=this.vertices.length-1,T=new i.Vector3(0,-1,0),C=new i.Vector3(0,-1,0),A=new i.Vector3(0,-1,0),L=h[c][s+1].clone(),P=h[c][s].clone(),k=new i.Vector2(P.x,1);this.faces.push(new i.Face3(_,w,M,[T,C,A])),this.faceVertexUvs[0].push([L,P,k])}this.computeFaceNormals()},i.CylinderGeometry.prototype=Object.create(i.Geometry.prototype),i.ExtrudeGeometry=function(t,e){return"undefined"==typeof t?void(t=[]):(i.Geometry.call(this),this.type="ExtrudeGeometry",t=t instanceof Array?t:[t],this.addShapeList(t,e),void this.computeFaceNormals())},i.ExtrudeGeometry.prototype=Object.create(i.Geometry.prototype),i.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];this.addShape(i,e)}},i.ExtrudeGeometry.prototype.addShape=function(t,e){function r(t,e,r){return e||console.log("die"),e.clone().multiplyScalar(r).add(t)}function n(t,e,r){var n,o,a=1e-10,s=1,c=t.x-e.x,l=t.y-e.y,u=r.x-t.x,h=r.y-t.y,f=c*c+l*l,p=c*h-l*u;if(Math.abs(p)>a){var d=Math.sqrt(f),m=Math.sqrt(u*u+h*h),v=e.x-l/d,g=e.y+c/d,y=r.x-h/m,x=r.y+u/m,b=((y-v)*h-(x-g)*u)/(c*h-l*u);n=v+c*b-t.x,o=g+l*b-t.y;var _=n*n+o*o;if(_<=2)return new i.Vector2(n,o);s=Math.sqrt(_/2)}else{var w=!1;c>a?u>a&&(w=!0):c<-a?u<-a&&(w=!0):Math.sign(l)==Math.sign(h)&&(w=!0),w?(n=-l,o=c,s=Math.sqrt(f)):(n=c,o=l,s=Math.sqrt(f/2))}return new i.Vector2(n/s,o/s)}function o(){if(b){var t=0,e=W*t;for(q=0;q<X;q++)G=U[q],l(G[2]+e,G[1]+e,G[0]+e);for(t=w+2*x,e=W*t,q=0;q<X;q++)G=U[q],l(G[0]+e,G[1]+e,G[2]+e)}else{for(q=0;q<X;q++)G=U[q],l(G[2],G[1],G[0]);for(q=0;q<X;q++)G=U[q],l(G[0]+W*w,G[1]+W*w,G[2]+W*w)}}function a(){var t=0;for(s(B,t),t+=B.length,L=0,P=O.length;L<P;L++)E=O[L],s(E,t),t+=E.length}function s(t,e){var r,n;for(q=t.length;--q>=0;){r=q,n=q-1,n<0&&(n=t.length-1);var i=0,o=w+2*x;for(i=0;i<o;i++){var a=W*i,s=W*(i+1),c=e+r+a,l=e+n+a,h=e+n+s,f=e+r+s;u(c,l,h,f,t,i,o,r,n)}}}function c(t,e,r){k.vertices.push(new i.Vector3(t,e,r))}function l(t,e,r){t+=R,e+=R,r+=R,k.faces.push(new i.Face3(t,e,r,null,null,T));var n=A.generateTopUV(k,t,e,r);k.faceVertexUvs[0].push(n)}function u(t,e,r,n,o,a,s,c,l){t+=R,e+=R,r+=R,n+=R,k.faces.push(new i.Face3(t,e,n,null,null,C)),k.faces.push(new i.Face3(e,r,n,null,null,C));var u=A.generateSideWallUV(k,t,e,r,n);k.faceVertexUvs[0].push([u[0],u[1],u[3]]),k.faceVertexUvs[0].push([u[1],u[2],u[3]])}var h,f,p,d,m,v=void 0!==e.amount?e.amount:100,g=void 0!==e.bevelThickness?e.bevelThickness:6,y=void 0!==e.bevelSize?e.bevelSize:g-2,x=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,_=void 0!==e.curveSegments?e.curveSegments:12,w=void 0!==e.steps?e.steps:1,M=e.extrudePath,S=!1,T=e.material,C=e.extrudeMaterial,A=void 0!==e.UVGenerator?e.UVGenerator:i.ExtrudeGeometry.WorldUVGenerator;M&&(h=M.getSpacedPoints(w),S=!0,b=!1,f=void 0!==e.frames?e.frames:new i.TubeGeometry.FrenetFrames(M,w,!1),p=new i.Vector3,d=new i.Vector3,m=new i.Vector3),b||(x=0,g=0,y=0);var E,L,P,k=this,R=this.vertices.length,D=t.extractPoints(_),F=D.shape,O=D.holes,N=!i.Shape.Utils.isClockWise(F);if(N){for(F=F.reverse(),L=0,P=O.length;L<P;L++)E=O[L],i.Shape.Utils.isClockWise(E)&&(O[L]=E.reverse());N=!1}var U=i.Shape.Utils.triangulateShape(F,O),B=F;for(L=0,P=O.length;L<P;L++)E=O[L],F=F.concat(E);for(var z,V,I,H,j,G,W=F.length,X=U.length,$=(B.length,180/Math.PI,[]),q=0,Y=B.length,K=Y-1,Q=q+1;q<Y;q++,K++,Q++){K===Y&&(K=0),Q===Y&&(Q=0);B[q],B[K],B[Q];$[q]=n(B[q],B[K],B[Q])}var Z,J=[],tt=$.concat();for(L=0,P=O.length;L<P;L++){for(E=O[L],Z=[],q=0,Y=E.length,K=Y-1,Q=q+1;q<Y;q++,K++,Q++)K===Y&&(K=0),Q===Y&&(Q=0),Z[q]=n(E[q],E[K],E[Q]);J.push(Z),tt=tt.concat(Z)}for(z=0;z<x;z++){for(I=z/x,H=g*(1-I),V=y*Math.sin(I*Math.PI/2),q=0,Y=B.length;q<Y;q++)j=r(B[q],$[q],V),c(j.x,j.y,-H);for(L=0,P=O.length;L<P;L++)for(E=O[L],Z=J[L],q=0,Y=E.length;q<Y;q++)j=r(E[q],Z[q],V),c(j.x,j.y,-H)}for(V=y,q=0;q<W;q++)j=b?r(F[q],tt[q],V):F[q],S?(d.copy(f.normals[0]).multiplyScalar(j.x),p.copy(f.binormals[0]).multiplyScalar(j.y),m.copy(h[0]).add(d).add(p),c(m.x,m.y,m.z)):c(j.x,j.y,0);var et;for(et=1;et<=w;et++)for(q=0;q<W;q++)j=b?r(F[q],tt[q],V):F[q],S?(d.copy(f.normals[et]).multiplyScalar(j.x),p.copy(f.binormals[et]).multiplyScalar(j.y),m.copy(h[et]).add(d).add(p),c(m.x,m.y,m.z)):c(j.x,j.y,v/w*et);for(z=x-1;z>=0;z--){for(I=z/x,H=g*(1-I),V=y*Math.sin(I*Math.PI/2),q=0,Y=B.length;q<Y;q++)j=r(B[q],$[q],V),c(j.x,j.y,v+H);for(L=0,P=O.length;L<P;L++)for(E=O[L],Z=J[L],q=0,Y=E.length;q<Y;q++)j=r(E[q],Z[q],V),S?c(j.x,j.y+h[w-1].y,h[w-1].x+H):c(j.x,j.y,v+H)}o(),a()},i.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,r,n){var o=t.vertices,a=o[e],s=o[r],c=o[n];return[new i.Vector2(a.x,a.y),new i.Vector2(s.x,s.y),new i.Vector2(c.x,c.y)]},generateSideWallUV:function(t,e,r,n,o){var a=t.vertices,s=a[e],c=a[r],l=a[n],u=a[o];return Math.abs(s.y-c.y)<.01?[new i.Vector2(s.x,1-s.z),new i.Vector2(c.x,1-c.z),new i.Vector2(l.x,1-l.z),new i.Vector2(u.x,1-u.z)]:[new i.Vector2(s.y,1-s.z),new i.Vector2(c.y,1-c.z),new i.Vector2(l.y,1-l.z),new i.Vector2(u.y,1-u.z)]}},i.ShapeGeometry=function(t,e){i.Geometry.call(this),this.type="ShapeGeometry",t instanceof Array==!1&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},i.ShapeGeometry.prototype=Object.create(i.Geometry.prototype),i.ShapeGeometry.prototype.addShapeList=function(t,e){for(var r=0,n=t.length;r<n;r++)this.addShape(t[r],e);return this},i.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var r,n,o,a=void 0!==e.curveSegments?e.curveSegments:12,s=e.material,c=void 0===e.UVGenerator?i.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,l=this.vertices.length,u=t.extractPoints(a),h=u.shape,f=u.holes,p=!i.Shape.Utils.isClockWise(h);if(p){for(h=h.reverse(),r=0,n=f.length;r<n;r++)o=f[r],i.Shape.Utils.isClockWise(o)&&(f[r]=o.reverse());p=!1}var d=i.Shape.Utils.triangulateShape(h,f),m=h;for(r=0,n=f.length;r<n;r++)o=f[r],h=h.concat(o);var v,g,y=h.length,x=d.length;m.length;for(r=0;r<y;r++)v=h[r],this.vertices.push(new i.Vector3(v.x,v.y,0));for(r=0;r<x;r++){g=d[r];var b=g[0]+l,_=g[1]+l,w=g[2]+l;this.faces.push(new i.Face3(b,_,w,null,null,s)),this.faceVertexUvs[0].push(c.generateTopUV(this,b,_,w))}},i.LatheGeometry=function(t,e,r,n){i.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=e||12,r=r||0,n=n||2*Math.PI;for(var o=1/(t.length-1),a=1/e,s=0,c=e;s<=c;s++)for(var l=r+s*a*n,u=Math.cos(l),h=Math.sin(l),f=0,p=t.length;f<p;f++){var d=t[f],m=new i.Vector3;m.x=u*d.x-h*d.y,m.y=h*d.x+u*d.y,m.z=d.z,this.vertices.push(m)}for(var v=t.length,s=0,c=e;s<c;s++)for(var f=0,p=t.length-1;f<p;f++){var g=f+v*s,y=g,x=g+v,u=g+1+v,b=g+1,_=s*a,w=f*o,M=_+a,S=w+o;this.faces.push(new i.Face3(y,x,b)),this.faceVertexUvs[0].push([new i.Vector2(_,w),new i.Vector2(M,w),new i.Vector2(_,S)]),this.faces.push(new i.Face3(x,u,b)),this.faceVertexUvs[0].push([new i.Vector2(M,w),new i.Vector2(M,S),new i.Vector2(_,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},i.LatheGeometry.prototype=Object.create(i.Geometry.prototype),i.PlaneGeometry=function(t,e,r,n){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),i.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new i.PlaneBufferGeometry(t,e,r,n))},i.PlaneGeometry.prototype=Object.create(i.Geometry.prototype),i.PlaneBufferGeometry=function(t,e,r,n){i.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};for(var o=t/2,a=e/2,s=r||1,c=n||1,l=s+1,u=c+1,h=t/s,f=e/c,p=new Float32Array(l*u*3),d=new Float32Array(l*u*3),m=new Float32Array(l*u*2),v=0,g=0,y=0;y<u;y++)for(var x=y*f-a,b=0;b<l;b++){var _=b*h-o;p[v]=_,p[v+1]=-x,d[v+2]=1,m[g]=b/s,m[g+1]=1-y/c,v+=3,g+=2}v=0;for(var w=new(p.length/3>65535?Uint32Array:Uint16Array)(s*c*6),y=0;y<c;y++)for(var b=0;b<s;b++){var M=b+l*y,S=b+l*(y+1),T=b+1+l*(y+1),C=b+1+l*y;w[v]=M,w[v+1]=S,w[v+2]=C,w[v+3]=S,w[v+4]=T,w[v+5]=C,v+=6}this.addAttribute("index",new i.BufferAttribute(w,1)),this.addAttribute("position",new i.BufferAttribute(p,3)),this.addAttribute("normal",new i.BufferAttribute(d,3)),this.addAttribute("uv",new i.BufferAttribute(m,2))},i.PlaneBufferGeometry.prototype=Object.create(i.BufferGeometry.prototype),i.RingGeometry=function(t,e,r,n,o,a){i.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:o,thetaLength:a},t=t||0,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,n=void 0!==n?Math.max(1,n):8;var s,c,l=[],u=t,h=(e-t)/n;for(s=0;s<n+1;s++){for(c=0;c<r+1;c++){var f=new i.Vector3,p=o+c/r*a;f.x=u*Math.cos(p),f.y=u*Math.sin(p),this.vertices.push(f),l.push(new i.Vector2((f.x/e+1)/2,(f.y/e+1)/2))}u+=h}var d=new i.Vector3(0,0,1);for(s=0;s<n;s++){var m=s*(r+1);for(c=0;c<r;c++){var p=c+m,v=p,g=p+r+1,y=p+r+2;this.faces.push(new i.Face3(v,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[v].clone(),l[g].clone(),l[y].clone()]),v=p,g=p+r+2,y=p+1,this.faces.push(new i.Face3(v,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([l[v].clone(),l[g].clone(),l[y].clone()])}}this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,u)},i.RingGeometry.prototype=Object.create(i.Geometry.prototype),i.SphereGeometry=function(t,e,r,n,o,a,s){i.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:o,thetaStart:a,thetaLength:s},t=t||50,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,o=void 0!==o?o:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;var c,l,u=[],h=[];for(l=0;l<=r;l++){var f=[],p=[];for(c=0;c<=e;c++){var d=c/e,m=l/r,v=new i.Vector3;v.x=-t*Math.cos(n+d*o)*Math.sin(a+m*s),v.y=t*Math.cos(a+m*s),v.z=t*Math.sin(n+d*o)*Math.sin(a+m*s),this.vertices.push(v),f.push(this.vertices.length-1),p.push(new i.Vector2(d,1-m))}u.push(f),h.push(p)}for(l=0;l<r;l++)for(c=0;c<e;c++){var g=u[l][c+1],y=u[l][c],x=u[l+1][c],b=u[l+1][c+1],_=this.vertices[g].clone().normalize(),w=this.vertices[y].clone().normalize(),M=this.vertices[x].clone().normalize(),S=this.vertices[b].clone().normalize(),T=h[l][c+1].clone(),C=h[l][c].clone(),A=h[l+1][c].clone(),E=h[l+1][c+1].clone();Math.abs(this.vertices[g].y)===t?(T.x=(T.x+C.x)/2,this.faces.push(new i.Face3(g,x,b,[_,M,S])),this.faceVertexUvs[0].push([T,A,E])):Math.abs(this.vertices[x].y)===t?(A.x=(A.x+E.x)/2,this.faces.push(new i.Face3(g,y,x,[_,w,M])),this.faceVertexUvs[0].push([T,C,A])):(this.faces.push(new i.Face3(g,y,b,[_,w,S])),this.faceVertexUvs[0].push([T,C,E]),this.faces.push(new i.Face3(y,x,b,[w.clone(),M,S.clone()])),this.faceVertexUvs[0].push([C.clone(),A,E.clone()]))}this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,t)},i.SphereGeometry.prototype=Object.create(i.Geometry.prototype),i.TextGeometry=function(t,e){e=e||{};var r=i.FontUtils.generateShapes(t,e);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),i.ExtrudeGeometry.call(this,r,e),this.type="TextGeometry"},i.TextGeometry.prototype=Object.create(i.ExtrudeGeometry.prototype),i.TorusGeometry=function(t,e,r,n,o){i.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:o},t=t||100,e=e||40,r=r||8,n=n||6,o=o||2*Math.PI;for(var a=new i.Vector3,s=[],c=[],l=0;l<=r;l++)for(var u=0;u<=n;u++){var h=u/n*o,f=l/r*Math.PI*2;a.x=t*Math.cos(h),a.y=t*Math.sin(h);var p=new i.Vector3;p.x=(t+e*Math.cos(f))*Math.cos(h),p.y=(t+e*Math.cos(f))*Math.sin(h),p.z=e*Math.sin(f),this.vertices.push(p),s.push(new i.Vector2(u/n,l/r)),c.push(p.clone().sub(a).normalize())}for(var l=1;l<=r;l++)for(var u=1;u<=n;u++){var d=(n+1)*l+u-1,m=(n+1)*(l-1)+u-1,v=(n+1)*(l-1)+u,g=(n+1)*l+u,y=new i.Face3(d,m,g,[c[d].clone(),c[m].clone(),c[g].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([s[d].clone(),s[m].clone(),s[g].clone()]),y=new i.Face3(m,v,g,[c[m].clone(),c[v].clone(),c[g].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([s[m].clone(),s[v].clone(),s[g].clone()])}this.computeFaceNormals()},i.TorusGeometry.prototype=Object.create(i.Geometry.prototype),i.TorusKnotGeometry=function(t,e,r,n,o,a,s){function c(t,e,r,n,o){var a=Math.cos(t),s=Math.sin(t),c=e/r*t,l=Math.cos(c),u=n*(2+l)*.5*a,h=n*(2+l)*s*.5,f=o*n*Math.sin(c)*.5;return new i.Vector3(u,h,f)}i.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,p:o,q:a,heightScale:s},t=t||100,e=e||40,r=r||64,n=n||8,o=o||2,a=a||3,s=s||1;for(var l=new Array(r),u=new i.Vector3,h=new i.Vector3,f=new i.Vector3,p=0;p<r;++p){l[p]=new Array(n);var d=p/r*2*o*Math.PI,m=c(d,a,o,t,s),v=c(d+.01,a,o,t,s);u.subVectors(v,m),h.addVectors(v,m),f.crossVectors(u,h),h.crossVectors(f,u),f.normalize(),h.normalize();for(var g=0;g<n;++g){var y=g/n*2*Math.PI,x=-e*Math.cos(y),b=e*Math.sin(y),_=new i.Vector3;_.x=m.x+x*h.x+b*f.x,_.y=m.y+x*h.y+b*f.y,_.z=m.z+x*h.z+b*f.z,l[p][g]=this.vertices.push(_)-1}}for(var p=0;p<r;++p)for(var g=0;g<n;++g){var w=(p+1)%r,M=(g+1)%n,S=l[p][g],T=l[w][g],C=l[w][M],A=l[p][M],E=new i.Vector2(p/r,g/n),L=new i.Vector2((p+1)/r,g/n),P=new i.Vector2((p+1)/r,(g+1)/n),k=new i.Vector2(p/r,(g+1)/n);this.faces.push(new i.Face3(S,T,A)),this.faceVertexUvs[0].push([E,L,k]),this.faces.push(new i.Face3(T,C,A)),this.faceVertexUvs[0].push([L.clone(),P,k.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},i.TorusKnotGeometry.prototype=Object.create(i.Geometry.prototype),i.TubeGeometry=function(t,e,r,n,o){function a(t,e,r){return E.vertices.push(new i.Vector3(t,e,r))-1}i.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:r,radialSegments:n,closed:o},e=e||64,r=r||1,n=n||8,o=o||!1;var s,c,l,u,h,f,p,d,m,v,g,y,x,b,_,w,M,S,T,C,A=[],E=this,L=e+1,P=new i.Vector3,k=new i.TubeGeometry.FrenetFrames(t,e,o),R=k.tangents,D=k.normals,F=k.binormals;for(this.tangents=R,this.normals=D,this.binormals=F,m=0;m<L;m++)for(A[m]=[],u=m/(L-1),d=t.getPointAt(u),s=R[m],c=D[m],l=F[m],v=0;v<n;v++)h=v/n*2*Math.PI,f=-r*Math.cos(h),p=r*Math.sin(h),P.copy(d),P.x+=f*c.x+p*l.x,P.y+=f*c.y+p*l.y,P.z+=f*c.z+p*l.z,A[m][v]=a(P.x,P.y,P.z);for(m=0;m<e;m++)for(v=0;v<n;v++)g=o?(m+1)%e:m+1,y=(v+1)%n,x=A[m][v],b=A[g][v],_=A[g][y],w=A[m][y],M=new i.Vector2(m/e,v/n),S=new i.Vector2((m+1)/e,v/n),T=new i.Vector2((m+1)/e,(v+1)/n),C=new i.Vector2(m/e,(v+1)/n),this.faces.push(new i.Face3(x,b,w)),this.faceVertexUvs[0].push([M,S,C]),this.faces.push(new i.Face3(b,_,w)),this.faceVertexUvs[0].push([S.clone(),T,C.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.TubeGeometry.prototype=Object.create(i.Geometry.prototype),i.TubeGeometry.FrenetFrames=function(t,e,r){function n(){d[0]=new i.Vector3,m[0]=new i.Vector3,a=Number.MAX_VALUE,s=Math.abs(p[0].x),c=Math.abs(p[0].y),l=Math.abs(p[0].z),s<=a&&(a=s,f.set(1,0,0)),c<=a&&(a=c,f.set(0,1,0)),l<=a&&f.set(0,0,1),v.crossVectors(p[0],f).normalize(),d[0].crossVectors(p[0],v),m[0].crossVectors(p[0],d[0])}var o,a,s,c,l,u,h,f=(new i.Vector3,new i.Vector3),p=(new i.Vector3,[]),d=[],m=[],v=new i.Vector3,g=new i.Matrix4,y=e+1,x=1e-4;for(this.tangents=p,this.normals=d,this.binormals=m,u=0;u<y;u++)h=u/(y-1),p[u]=t.getTangentAt(h),p[u].normalize();for(n(),u=1;u<y;u++)d[u]=d[u-1].clone(),m[u]=m[u-1].clone(),v.crossVectors(p[u-1],p[u]),v.length()>x&&(v.normalize(),o=Math.acos(i.Math.clamp(p[u-1].dot(p[u]),-1,1)),d[u].applyMatrix4(g.makeRotationAxis(v,o))),m[u].crossVectors(p[u],d[u]);if(r)for(o=Math.acos(i.Math.clamp(d[0].dot(d[y-1]),-1,1)),o/=y-1,p[0].dot(v.crossVectors(d[0],d[y-1]))>0&&(o=-o),u=1;u<y;u++)d[u].applyMatrix4(g.makeRotationAxis(p[u],o*u)),m[u].crossVectors(p[u],d[u])},i.PolyhedronGeometry=function(t,e,r,n){function o(t){var e=t.normalize().clone();e.index=h.vertices.push(e)-1;var r=c(t)/2/Math.PI+.5,n=l(t)/Math.PI+.5;return e.uv=new i.Vector2(r,1-n),e}function a(t,e,r){var n=new i.Face3(t.index,e.index,r.index,[t.clone(),e.clone(),r.clone()]);h.faces.push(n),b.copy(t).add(e).add(r).divideScalar(3);var o=c(b);h.faceVertexUvs[0].push([u(t.uv,t,o),u(e.uv,e,o),u(r.uv,r,o)])}function s(t,e){for(var r=Math.pow(2,e),n=(Math.pow(4,e),o(h.vertices[t.a])),i=o(h.vertices[t.b]),s=o(h.vertices[t.c]),c=[],l=0;l<=r;l++){c[l]=[];for(var u=o(n.clone().lerp(s,l/r)),f=o(i.clone().lerp(s,l/r)),p=r-l,d=0;d<=p;d++)0==d&&l==r?c[l][d]=u:c[l][d]=o(u.clone().lerp(f,d/p))}for(var l=0;l<r;l++)for(var d=0;d<2*(r-l)-1;d++){var m=Math.floor(d/2);d%2==0?a(c[l][m+1],c[l+1][m],c[l][m]):a(c[l][m+1],c[l+1][m+1],c[l+1][m])}}function c(t){return Math.atan2(t.z,-t.x)}function l(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}function u(t,e,r){return r<0&&1===t.x&&(t=new i.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new i.Vector2(r/2/Math.PI+.5,t.y)),t.clone()}i.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},r=r||1,n=n||0;for(var h=this,f=0,p=t.length;f<p;f+=3)o(new i.Vector3(t[f],t[f+1],t[f+2]));for(var d=this.vertices,m=[],f=0,v=0,p=e.length;f<p;f+=3,v++){var g=d[e[f]],y=d[e[f+1]],x=d[e[f+2]];m[v]=new i.Face3(g.index,y.index,x.index,[g.clone(),y.clone(),x.clone()])}for(var b=new i.Vector3,f=0,p=m.length;f<p;f++)s(m[f],n);for(var f=0,p=this.faceVertexUvs[0].length;f<p;f++){var _=this.faceVertexUvs[0][f],w=_[0].x,M=_[1].x,S=_[2].x,T=Math.max(w,Math.max(M,S)),C=Math.min(w,Math.min(M,S));T>.9&&C<.1&&(w<.2&&(_[0].x+=1),M<.2&&(_[1].x+=1),S<.2&&(_[2].x+=1))}for(var f=0,p=this.vertices.length;f<p;f++)this.vertices[f].multiplyScalar(r);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new i.Sphere(new i.Vector3,r)},i.PolyhedronGeometry.prototype=Object.create(i.Geometry.prototype),i.DodecahedronGeometry=function(t,e){this.parameters={radius:t,detail:e};var r=(1+Math.sqrt(5))/2,n=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];i.PolyhedronGeometry.call(this,o,a,t,e)},i.DodecahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.IcosahedronGeometry=function(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];i.PolyhedronGeometry.call(this,n,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},i.IcosahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.OctahedronGeometry=function(t,e){
this.parameters={radius:t,detail:e};var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];i.PolyhedronGeometry.call(this,r,n,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},i.OctahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.TetrahedronGeometry=function(t,e){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];i.PolyhedronGeometry.call(this,r,n,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},i.TetrahedronGeometry.prototype=Object.create(i.Geometry.prototype),i.ParametricGeometry=function(t,e,r){i.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r};var n,o,a,s,c,l=this.vertices,u=this.faces,h=this.faceVertexUvs[0],f=e+1;for(n=0;n<=r;n++)for(c=n/r,o=0;o<=e;o++)s=o/e,a=t(s,c),l.push(a);var p,d,m,v,g,y,x,b;for(n=0;n<r;n++)for(o=0;o<e;o++)p=n*f+o,d=n*f+o+1,m=(n+1)*f+o+1,v=(n+1)*f+o,g=new i.Vector2(o/e,n/r),y=new i.Vector2((o+1)/e,n/r),x=new i.Vector2((o+1)/e,(n+1)/r),b=new i.Vector2(o/e,(n+1)/r),u.push(new i.Face3(p,d,v)),h.push([g,y,b]),u.push(new i.Face3(d,m,v)),h.push([y.clone(),x,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},i.ParametricGeometry.prototype=Object.create(i.Geometry.prototype),i.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new i.BufferGeometry;n.addAttribute("position",new i.BufferAttribute(e,3)),n.addAttribute("color",new i.BufferAttribute(r,3));var o=new i.LineBasicMaterial({vertexColors:i.VertexColors});i.Line.call(this,n,o,i.LinePieces)},i.AxisHelper.prototype=Object.create(i.Line.prototype),i.ArrowHelper=function(){var t=new i.Geometry;t.vertices.push(new i.Vector3(0,0,0),new i.Vector3(0,1,0));var e=new i.CylinderGeometry(0,.5,1,5,1);return e.applyMatrix((new i.Matrix4).makeTranslation(0,-.5,0)),function(r,n,o,a,s,c){i.Object3D.call(this),void 0===a&&(a=16776960),void 0===o&&(o=1),void 0===s&&(s=.2*o),void 0===c&&(c=.2*s),this.position.copy(n),this.line=new i.Line(t,new i.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new i.Mesh(e,new i.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(o,s,c)}}(),i.ArrowHelper.prototype=Object.create(i.Object3D.prototype),i.ArrowHelper.prototype.setDirection=function(){var t,e=new i.Vector3;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),i.ArrowHelper.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),this.line.scale.set(1,t,1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},i.ArrowHelper.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},i.BoxHelper=function(t){var e=new i.BufferGeometry;e.addAttribute("position",new i.BufferAttribute(new Float32Array(72),3)),i.Line.call(this,e,new i.LineBasicMaterial({color:16776960}),i.LinePieces),void 0!==t&&this.update(t)},i.BoxHelper.prototype=Object.create(i.Line.prototype),i.BoxHelper.prototype.update=function(t){var e=t.geometry;null===e.boundingBox&&e.computeBoundingBox();var r=e.boundingBox.min,n=e.boundingBox.max,i=this.geometry.attributes.position.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=r.x,i[4]=n.y,i[5]=n.z,i[6]=r.x,i[7]=n.y,i[8]=n.z,i[9]=r.x,i[10]=r.y,i[11]=n.z,i[12]=r.x,i[13]=r.y,i[14]=n.z,i[15]=n.x,i[16]=r.y,i[17]=n.z,i[18]=n.x,i[19]=r.y,i[20]=n.z,i[21]=n.x,i[22]=n.y,i[23]=n.z,i[24]=n.x,i[25]=n.y,i[26]=r.z,i[27]=r.x,i[28]=n.y,i[29]=r.z,i[30]=r.x,i[31]=n.y,i[32]=r.z,i[33]=r.x,i[34]=r.y,i[35]=r.z,i[36]=r.x,i[37]=r.y,i[38]=r.z,i[39]=n.x,i[40]=r.y,i[41]=r.z,i[42]=n.x,i[43]=r.y,i[44]=r.z,i[45]=n.x,i[46]=n.y,i[47]=r.z,i[48]=n.x,i[49]=n.y,i[50]=n.z,i[51]=n.x,i[52]=n.y,i[53]=r.z,i[54]=r.x,i[55]=n.y,i[56]=n.z,i[57]=r.x,i[58]=n.y,i[59]=r.z,i[60]=r.x,i[61]=r.y,i[62]=n.z,i[63]=r.x,i[64]=r.y,i[65]=r.z,i[66]=n.x,i[67]=r.y,i[68]=n.z,i[69]=n.x,i[70]=r.y,i[71]=r.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},i.BoundingBoxHelper=function(t,e){var r=void 0!==e?e:8947848;this.object=t,this.box=new i.Box3,i.Mesh.call(this,new i.BoxGeometry(1,1,1),new i.MeshBasicMaterial({color:r,wireframe:!0}))},i.BoundingBoxHelper.prototype=Object.create(i.Mesh.prototype),i.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},i.CameraHelper=function(t){function e(t,e,n){r(t,n),r(e,n)}function r(t,e){n.vertices.push(new i.Vector3),n.colors.push(new i.Color(e)),void 0===a[t]&&(a[t]=[]),a[t].push(n.vertices.length-1)}var n=new i.Geometry,o=new i.LineBasicMaterial({color:16777215,vertexColors:i.FaceColors}),a={},s=16755200,c=16711680,l=43775,u=16777215,h=3355443;e("n1","n2",s),e("n2","n4",s),e("n4","n3",s),e("n3","n1",s),e("f1","f2",s),e("f2","f4",s),e("f4","f3",s),e("f3","f1",s),e("n1","f1",s),e("n2","f2",s),e("n3","f3",s),e("n4","f4",s),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",u),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),i.Line.call(this,n,o,i.LinePieces),this.camera=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},i.CameraHelper.prototype=Object.create(i.Line.prototype),i.CameraHelper.prototype.update=function(){var t,e,r=new i.Vector3,n=new i.Camera,o=function(i,o,a,s){r.set(o,a,s).unproject(n);var c=e[i];if(void 0!==c)for(var l=0,u=c.length;l<u;l++)t.vertices[c[l]].copy(r)};return function(){t=this.geometry,e=this.pointMap;var r=1,i=1;n.projectionMatrix.copy(this.camera.projectionMatrix),o("c",0,0,-1),o("t",0,0,1),o("n1",-r,-i,-1),o("n2",r,-i,-1),o("n3",-r,i,-1),o("n4",r,i,-1),o("f1",-r,-i,1),o("f2",r,-i,1),o("f3",-r,i,1),o("f4",r,i,1),o("u1",.7*r,1.1*i,-1),o("u2",.7*-r,1.1*i,-1),o("u3",0,2*i,-1),o("cf1",-r,0,1),o("cf2",r,0,1),o("cf3",0,-i,1),o("cf4",0,i,1),o("cn1",-r,0,-1),o("cn2",r,0,-1),o("cn3",0,-i,-1),o("cn4",0,i,-1),t.verticesNeedUpdate=!0}}(),i.DirectionalLightHelper=function(t,e){i.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,e=e||1;var r=new i.Geometry;r.vertices.push(new i.Vector3(-e,e,0),new i.Vector3(e,e,0),new i.Vector3(e,-e,0),new i.Vector3(-e,-e,0),new i.Vector3(-e,e,0));var n=new i.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new i.Line(r,n),this.add(this.lightPlane),r=new i.Geometry,r.vertices.push(new i.Vector3,new i.Vector3),n=new i.LineBasicMaterial({fog:!1}),n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new i.Line(r,n),this.add(this.targetLine),this.update()},i.DirectionalLightHelper.prototype=Object.create(i.Object3D.prototype),i.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},i.DirectionalLightHelper.prototype.update=function(){var t=new i.Vector3,e=new i.Vector3,r=new i.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),i.EdgesHelper=function(t,e){var r=void 0!==e?e:16777215,n=[0,0],o={},a=function(t,e){return t-e},s=["a","b","c"],c=new i.BufferGeometry,l=t.geometry.clone();l.mergeVertices(),l.computeFaceNormals();for(var u=l.vertices,h=l.faces,f=0,p=0,d=h.length;p<d;p++)for(var m=h[p],v=0;v<3;v++){n[0]=m[s[v]],n[1]=m[s[(v+1)%3]],n.sort(a);var g=n.toString();void 0===o[g]?(o[g]={vert1:n[0],vert2:n[1],face1:p,face2:void 0},f++):o[g].face2=p}var y=new Float32Array(2*f*3),x=0;for(var g in o){var b=o[g];if(void 0===b.face2||h[b.face1].normal.dot(h[b.face2].normal)<.9999){var _=u[b.vert1];y[x++]=_.x,y[x++]=_.y,y[x++]=_.z,_=u[b.vert2],y[x++]=_.x,y[x++]=_.y,y[x++]=_.z}}c.addAttribute("position",new i.BufferAttribute(y,3)),i.Line.call(this,c,new i.LineBasicMaterial({color:r}),i.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},i.EdgesHelper.prototype=Object.create(i.Line.prototype),i.FaceNormalsHelper=function(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==r?r:16776960,a=void 0!==n?n:1,s=new i.Geometry,c=this.object.geometry.faces,l=0,u=c.length;l<u;l++)s.vertices.push(new i.Vector3,new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new i.Matrix3,this.update()},i.FaceNormalsHelper.prototype=Object.create(i.Line.prototype);i.FaceNormalsHelper.prototype.update=function(){var t=this.geometry.vertices,e=this.object,r=e.geometry.vertices,n=e.geometry.faces,i=e.matrixWorld;e.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(i);for(var o=0,a=0,s=n.length;o<s;o++,a+=2){var c=n[o];t[a].copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(i),t[a+1].copy(c.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(t[a])}return this.geometry.verticesNeedUpdate=!0,this};i.GridHelper=function(t,e){var r=new i.Geometry,n=new i.LineBasicMaterial({vertexColors:i.VertexColors});this.color1=new i.Color(4473924),this.color2=new i.Color(8947848);for(var o=-t;o<=t;o+=e){r.vertices.push(new i.Vector3(-t,0,o),new i.Vector3(t,0,o),new i.Vector3(o,0,-t),new i.Vector3(o,0,t));var a=0===o?this.color1:this.color2;r.colors.push(a,a,a,a)}i.Line.call(this,r,n,i.LinePieces)},i.GridHelper.prototype=Object.create(i.Line.prototype),i.GridHelper.prototype.setColors=function(t,e){this.color1.set(t),this.color2.set(e),this.geometry.colorsNeedUpdate=!0},i.HemisphereLightHelper=function(t,e,r,n){i.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new i.Color,new i.Color];var o=new i.SphereGeometry(e,4,2);o.applyMatrix((new i.Matrix4).makeRotationX(-Math.PI/2));for(var a=0,s=8;a<s;a++)o.faces[a].color=this.colors[a<4?0:1];var c=new i.MeshBasicMaterial({vertexColors:i.FaceColors,wireframe:!0});this.lightSphere=new i.Mesh(o,c),this.add(this.lightSphere),this.update()},i.HemisphereLightHelper.prototype=Object.create(i.Object3D.prototype),i.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},i.HemisphereLightHelper.prototype.update=function(){var t=new i.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),i.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var r=new i.SphereGeometry(e,4,2),n=new i.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.Mesh.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},i.PointLightHelper.prototype=Object.create(i.Mesh.prototype),i.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},i.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},i.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new i.Geometry,r=0;r<this.bones.length;r++){var n=this.bones[r];n.parent instanceof i.Bone&&(e.vertices.push(new i.Vector3),e.vertices.push(new i.Vector3),e.colors.push(new i.Color(0,0,1)),e.colors.push(new i.Color(0,1,0)))}var o=new i.LineBasicMaterial({vertexColors:i.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});i.Line.call(this,e,o,i.LinePieces),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},i.SkeletonHelper.prototype=Object.create(i.Line.prototype),i.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof i.Bone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,this.getBoneList(t.children[r]));return e},i.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new i.Matrix4).getInverse(this.root.matrixWorld),r=new i.Matrix4,n=0,o=0;o<this.bones.length;o++){var a=this.bones[o];a.parent instanceof i.Bone&&(r.multiplyMatrices(e,a.matrixWorld),t.vertices[n].setFromMatrixPosition(r),r.multiplyMatrices(e,a.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(r),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},i.SpotLightHelper=function(t){i.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var e=new i.CylinderGeometry(0,1,1,8,1,!0);e.applyMatrix((new i.Matrix4).makeTranslation(0,-.5,0)),e.applyMatrix((new i.Matrix4).makeRotationX(-Math.PI/2));var r=new i.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new i.Mesh(e,r),this.add(this.cone),this.update()},i.SpotLightHelper.prototype=Object.create(i.Object3D.prototype),i.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},i.SpotLightHelper.prototype.update=function(){var t=new i.Vector3,e=new i.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),i.VertexNormalsHelper=function(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==r?r:16711680,a=void 0!==n?n:1,s=new i.Geometry,c=(t.geometry.vertices,t.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],f=0,p=h.vertexNormals.length;f<p;f++)s.vertices.push(new i.Vector3,new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new i.Matrix3,this.update()},i.VertexNormalsHelper.prototype=Object.create(i.Line.prototype),i.VertexNormalsHelper.prototype.update=function(t){var e=new i.Vector3;return function(t){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var n=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,f=u.vertexNormals.length;h<f;h++){var p=u[r[h]],d=i[p],m=u.vertexNormals[h];n[s].copy(d).applyMatrix4(a),e.copy(m).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),e.add(n[s]),s+=1,n[s].copy(e),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),i.VertexTangentsHelper=function(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;for(var o=void 0!==r?r:255,a=void 0!==n?n:1,s=new i.Geometry,c=(t.geometry.vertices,t.geometry.faces),l=0,u=c.length;l<u;l++)for(var h=c[l],f=0,p=h.vertexTangents.length;f<p;f++)s.vertices.push(new i.Vector3),s.vertices.push(new i.Vector3);i.Line.call(this,s,new i.LineBasicMaterial({color:o,linewidth:a}),i.LinePieces),this.matrixAutoUpdate=!1,this.update()},i.VertexTangentsHelper.prototype=Object.create(i.Line.prototype),i.VertexTangentsHelper.prototype.update=function(t){var e=new i.Vector3;return function(t){var r=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var n=this.geometry.vertices,i=this.object.geometry.vertices,o=this.object.geometry.faces,a=this.object.matrixWorld,s=0,c=0,l=o.length;c<l;c++)for(var u=o[c],h=0,f=u.vertexTangents.length;h<f;h++){var p=u[r[h]],d=i[p],m=u.vertexTangents[h];n[s].copy(d).applyMatrix4(a),e.copy(m).transformDirection(a).multiplyScalar(this.size),e.add(n[s]),s+=1,n[s].copy(e),s+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),i.WireframeHelper=function(t,e){var r=void 0!==e?e:16777215,n=[0,0],o={},a=function(t,e){return t-e},s=["a","b","c"],c=new i.BufferGeometry;if(t.geometry instanceof i.Geometry){for(var l=t.geometry.vertices,u=t.geometry.faces,h=0,f=new Uint32Array(6*u.length),p=0,d=u.length;p<d;p++)for(var m=u[p],v=0;v<3;v++){n[0]=m[s[v]],n[1]=m[s[(v+1)%3]],n.sort(a);var g=n.toString();void 0===o[g]&&(f[2*h]=n[0],f[2*h+1]=n[1],o[g]=!0,h++)}for(var y=new Float32Array(2*h*3),p=0,d=h;p<d;p++)for(var v=0;v<2;v++){var x=l[f[2*p+v]],b=6*p+3*v;y[b+0]=x.x,y[b+1]=x.y,y[b+2]=x.z}c.addAttribute("position",new i.BufferAttribute(y,3))}else if(t.geometry instanceof i.BufferGeometry)if(void 0!==t.geometry.attributes.index){var l=t.geometry.attributes.position.array,_=t.geometry.attributes.index.array,w=t.geometry.drawcalls,h=0;0===w.length&&(w=[{count:_.length,index:0,start:0}]);for(var f=new Uint32Array(2*_.length),M=0,S=w.length;M<S;++M)for(var T=w[M].start,C=w[M].count,b=w[M].index,p=T,A=T+C;p<A;p+=3)for(var v=0;v<3;v++){n[0]=b+_[p+v],n[1]=b+_[p+(v+1)%3],n.sort(a);var g=n.toString();void 0===o[g]&&(f[2*h]=n[0],f[2*h+1]=n[1],o[g]=!0,h++)}for(var y=new Float32Array(2*h*3),p=0,d=h;p<d;p++)for(var v=0;v<2;v++){var b=6*p+3*v,E=3*f[2*p+v];y[b+0]=l[E],y[b+1]=l[E+1],y[b+2]=l[E+2]}c.addAttribute("position",new i.BufferAttribute(y,3))}else{for(var l=t.geometry.attributes.position.array,h=l.length/3,L=h/3,y=new Float32Array(2*h*3),p=0,d=L;p<d;p++)for(var v=0;v<3;v++){var b=18*p+6*v,P=9*p+3*v;y[b+0]=l[P],y[b+1]=l[P+1],y[b+2]=l[P+2];var E=9*p+3*((v+1)%3);y[b+3]=l[E],y[b+4]=l[E+1],y[b+5]=l[E+2]}c.addAttribute("position",new i.BufferAttribute(y,3))}i.Line.call(this,c,new i.LineBasicMaterial({color:r}),i.LinePieces),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},i.WireframeHelper.prototype=Object.create(i.Line.prototype),i.ImmediateRenderObject=function(){i.Object3D.call(this),this.render=function(t){}},i.ImmediateRenderObject.prototype=Object.create(i.Object3D.prototype),i.MorphBlendMesh=function(t,e){i.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,n="__default",o=0,a=r-1,s=r/1;this.createAnimation(n,o,a,s),this.setAnimationWeight(n,1)},i.MorphBlendMesh.prototype=Object.create(i.Mesh.prototype),i.MorphBlendMesh.prototype.createAnimation=function(t,e,r,n){var i={startFrame:e,endFrame:r,length:r-e+1,fps:n,duration:(r-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},i.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,r=/([a-z]+)_?(\d+)/,n={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],c=s.name.match(r);if(c&&c.length>1){var l=c[1];c[2];n[l]||(n[l]={start:1/0,end:-(1/0)});var u=n[l];o<u.start&&(u.start=o),o>u.end&&(u.end=o),e||(e=l)}}for(var l in n){var u=n[l];this.createAnimation(l,u.start,u.end,t)}this.firstAnimation=e},i.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},i.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},i.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var r=this.animationsMap[t];r&&(r.fps=e,r.duration=(r.end-r.start)/r.fps)},i.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var r=this.animationsMap[t];r&&(r.duration=e,r.fps=(r.end-r.start)/r.duration)},i.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var r=this.animationsMap[t];r&&(r.weight=e)},i.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var r=this.animationsMap[t];r&&(r.time=e)},i.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,r=this.animationsMap[t];return r&&(e=r.time),e},i.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,r=this.animationsMap[t];return r&&(e=r.duration),e},i.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("animation["+t+"] undefined")},i.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},i.MorphBlendMesh.prototype.update=function(t){for(var e=0,r=this.animationsList.length;e<r;e++){var n=this.animationsList[e];if(n.active){var o=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.startFrame+i.Math.clamp(Math.floor(n.time/o),0,n.length-1),s=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*s,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var c=n.time%o/o;n.directionBackwards&&(c=1-c),this.morphTargetInfluences[n.currentFrame]=c*s,this.morphTargetInfluences[n.lastFrame]=(1-c)*s}}},"undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.THREE=i},,,function(t,e,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},,function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(16),i=r(39),o=r(32),a=Object.defineProperty;e.f=r(5)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(9),i=r(19);t.exports=r(5)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(108),i=r(22);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(30)("wks"),i=r(20),o=r(6).Symbol,a="function"==typeof o,s=t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=n},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,function(t,e,r){var n=r(14);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){var n=r(6),i=r(10),o=r(105),a=r(11),s="prototype",c=function(t,e,r){var l,u,h,f=t&c.F,p=t&c.G,d=t&c.S,m=t&c.P,v=t&c.B,g=t&c.W,y=p?i:i[e]||(i[e]={}),x=y[s],b=p?n:d?n[e]:(n[e]||{})[s];p&&(r=e);for(l in r)u=!f&&b&&void 0!==b[l],u&&l in y||(h=u?b[l]:r[l],y[l]=p&&"function"!=typeof b[l]?r[l]:v&&u?o(h,n):g&&b[l]==h?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[s]=t[s],e}(h):m&&"function"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[l]=h,t&c.R&&x&&!x[l]&&a(x,l,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(95),o=n(i),a=r(94),s=n(a),c="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===c(o.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e,r){var n=r(45),i=r(23);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(9).f,i=r(8),o=r(13)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){var n=r(30)("keys"),i=r(20);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(6),i="__core-js_shared__",o=n[i]||(n[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(14);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(6),i=r(10),o=r(25),a=r(34),s=r(9).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,r){e.f=r(13)},function(t,e,r){(function(e,r){/*!
	 * Vue.js v2.5.13
	 * (c) 2014-2017 Evan You
	 * Released under the MIT License.
	 */
!function(e,r){t.exports=r()}(this,function(){"use strict";function t(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function i(t){return t===!0}function o(t){return t===!1}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}function c(t){return To.call(t).slice(8,-1)}function l(t){return"[object Object]"===To.call(t)}function u(t){return"[object RegExp]"===To.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function d(t,e){for(var r=Object.create(null),n=t.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return e?function(t){return r[t.toLowerCase()]}:function(t){return r[t]}}function m(t,e){if(t.length){var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}function v(t,e){return Eo.call(t,e)}function g(t){var e=Object.create(null);return function(r){var n=e[r];return n||(e[r]=t(r))}}function y(t,e){function r(r){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return r._length=t.length,r}function x(t,e){e=e||0;for(var r=t.length-e,n=new Array(r);r--;)n[r]=t[r+e];return n}function b(t,e){for(var r in e)t[r]=e[r];return t}function _(t){for(var e={},r=0;r<t.length;r++)t[r]&&b(e,t[r]);return e}function w(t,e,r){}function M(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function S(t,e){if(t===e)return!0;var r=s(t),n=s(e);if(!r||!n)return!r&&!n&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,r){return S(t,e[r])});if(i||o)return!1;var a=Object.keys(t),c=Object.keys(e);return a.length===c.length&&a.every(function(r){return S(t[r],e[r])})}catch(t){return!1}}function T(t,e){for(var r=0;r<t.length;r++)if(S(t[r],e))return r;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function A(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function E(t,e,r,n){Object.defineProperty(t,e,{value:r,enumerable:!!n,writable:!0,configurable:!0})}function L(t){if(!Vo.test(t)){var e=t.split(".");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}}function P(t){return"function"==typeof t&&/native code/.test(t.toString())}function k(t){ma.target&&va.push(ma.target),ma.target=t}function R(){ma.target=va.pop()}function D(t){return new ga(void 0,void 0,void 0,String(t))}function F(t,e){var r=t.componentOptions,n=new ga(t.tag,t.data,t.children,t.text,t.elm,t.context,r,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.fnContext=t.fnContext,n.fnOptions=t.fnOptions,n.fnScopeId=t.fnScopeId,n.isCloned=!0,e&&(t.children&&(n.children=O(t.children,!0)),r&&r.children&&(r.children=O(r.children,!0))),n}function O(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=F(t[i],e);return n}function N(t,e,r){t.__proto__=e}function U(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];E(t,o,e[o])}}function B(t,e){if(s(t)&&!(t instanceof ga)){var r;return v(t,"__ob__")&&t.__ob__ instanceof Sa?r=t.__ob__:Ma.shouldConvert&&!na()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(r=new Sa(t)),e&&r&&r.vmCount++,r}}function z(t,e,r,n,i){var o=new ma,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,c=a&&a.set,l=!i&&B(r);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):r;return ma.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&H(e))),e},set:function(e){var a=s?s.call(t):r;e===a||e!==e&&a!==a||(n&&n(),c?c.call(t,e):r=e,l=!i&&B(e),o.notify())}})}}function V(t,e,r){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,r),r;if(e in t&&!(e in Object.prototype))return t[e]=r,r;var n=t.__ob__;return t._isVue||n&&n.vmCount?(aa("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),r):n?(z(n.value,e,r),n.dep.notify(),r):(t[e]=r,r)}function I(t,e){if(Array.isArray(t)&&h(e))return void t.splice(e,1);var r=t.__ob__;return t._isVue||r&&r.vmCount?void aa("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):void(v(t,e)&&(delete t[e],r&&r.dep.notify()))}function H(t){for(var e=void 0,r=0,n=t.length;r<n;r++)e=t[r],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&H(e)}function j(t,e){if(!e)return t;for(var r,n,i,o=Object.keys(e),a=0;a<o.length;a++)r=o[a],n=t[r],i=e[r],v(t,r)?l(n)&&l(i)&&j(n,i):V(t,r,i);return t}function G(t,e,r){return r?function(){var n="function"==typeof e?e.call(r,r):e,i="function"==typeof t?t.call(r,r):t;return n?j(n,i):i}:e?t?function(){return j("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function W(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function X(t,e,r,n){var i=Object.create(t||null);return e?(Z(n,e,r),b(i,e)):i}function $(t){for(var e in t.components)q(e)}function q(t){/^[a-zA-Z][\w-]*$/.test(t)||aa('Invalid component name: "'+t+'". Component names can only contain alphanumeric characters and the hyphen, and must start with a letter.'),(Co(t)||zo.isReservedTag(t))&&aa("Do not use built-in or reserved HTML elements as component id: "+t)}function Y(t,e){var r=t.props;if(r){var n,i,o,a={};if(Array.isArray(r))for(n=r.length;n--;)i=r[n],"string"==typeof i?(o=Po(i),a[o]={type:null}):aa("props must be strings when using array syntax.");else if(l(r))for(var s in r)i=r[s],o=Po(s),a[o]=l(i)?i:{type:i};else aa('Invalid value for option "props": expected an Array or an Object, but got '+c(r)+".",e);t.props=a}}function K(t,e){var r=t.inject;if(r){var n=t.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(l(r))for(var o in r){var a=r[o];n[o]=l(a)?b({from:o},a):{from:a}}else aa('Invalid value for option "inject": expected an Array or an Object, but got '+c(r)+".",e)}}function Q(t){var e=t.directives;if(e)for(var r in e){var n=e[r];"function"==typeof n&&(e[r]={bind:n,update:n})}}function Z(t,e,r){l(e)||aa('Invalid value for option "'+t+'": expected an Object, but got '+c(e)+".",r)}function J(t,e,r){function n(n){var i=Ta[n]||Ea;c[n]=i(t[n],e[n],r,n)}$(e),"function"==typeof e&&(e=e.options),Y(e,r),K(e,r),Q(e);var i=e.extends;if(i&&(t=J(t,i,r)),e.mixins)for(var o=0,a=e.mixins.length;o<a;o++)t=J(t,e.mixins[o],r);var s,c={};for(s in t)n(s);for(s in e)v(t,s)||n(s);return c}function tt(t,e,r,n){if("string"==typeof r){var i=t[e];if(v(i,r))return i[r];var o=Po(r);if(v(i,o))return i[o];var a=ko(o);if(v(i,a))return i[a];var s=i[r]||i[o]||i[a];return n&&!s&&aa("Failed to resolve "+e.slice(0,-1)+": "+r,t),s}}function et(t,e,r,n){var i=e[t],o=!v(r,t),a=r[t];if(at(Boolean,i.type)&&(o&&!v(i,"default")?a=!1:at(String,i.type)||""!==a&&a!==Do(t)||(a=!0)),void 0===a){a=rt(n,i,t);var s=Ma.shouldConvert;Ma.shouldConvert=!0,B(a),Ma.shouldConvert=s}return nt(i,t,a,n,o),a}function rt(t,e,r){if(v(e,"default")){var n=e.default;return s(n)&&aa('Invalid default value for prop "'+r+'": Props with type Object/Array must use a factory function to return the default value.',t),t&&t.$options.propsData&&void 0===t.$options.propsData[r]&&void 0!==t._props[r]?t._props[r]:"function"==typeof n&&"Function"!==ot(e.type)?n.call(t):n}}function nt(t,e,r,n,i){if(t.required&&i)return void aa('Missing required prop: "'+e+'"',n);if(null!=r||t.required){var o=t.type,a=!o||o===!0,s=[];if(o){Array.isArray(o)||(o=[o]);for(var l=0;l<o.length&&!a;l++){var u=it(r,o[l]);s.push(u.expectedType||""),a=u.valid}}if(!a)return void aa('Invalid prop: type check failed for prop "'+e+'". Expected '+s.map(ko).join(", ")+", got "+c(r)+".",n);var h=t.validator;h&&(h(r)||aa('Invalid prop: custom validator check failed for prop "'+e+'".',n))}}function it(t,e){var r,n=ot(e);if(La.test(n)){var i=typeof t;r=i===n.toLowerCase(),r||"object"!==i||(r=t instanceof e)}else r="Object"===n?l(t):"Array"===n?Array.isArray(t):t instanceof e;return{valid:r,expectedType:n}}function ot(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function at(t,e){if(!Array.isArray(e))return ot(e)===ot(t);for(var r=0,n=e.length;r<n;r++)if(ot(e[r])===ot(t))return!0;return!1}function st(t,e,r){if(e)for(var n=e;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=i[o].call(n,t,e,r)===!1;if(a)return}catch(t){ct(t,n,"errorCaptured hook")}}ct(t,e,r)}function ct(t,e,r){if(zo.errorHandler)try{return zo.errorHandler.call(null,t,e,r)}catch(t){lt(t,null,"config.errorHandler")}lt(t,e,r)}function lt(t,e,r){if(aa("Error in "+r+': "'+t.toString()+'"',e),!Ho&&!jo||"undefined"==typeof console)throw t;console.error(t)}function ut(){ka=!1;var t=Pa.slice(0);Pa.length=0;for(var e=0;e<t.length;e++)t[e]()}function ht(t){return t._withTask||(t._withTask=function(){Ra=!0;var e=t.apply(null,arguments);return Ra=!1,e})}function ft(t,e){var r;if(Pa.push(function(){if(t)try{t.call(e)}catch(t){st(t,e,"nextTick")}else r&&r(e)}),ka||(ka=!0,Ra?Aa():Ca()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){r=t})}function pt(t){dt(t,$a),$a.clear()}function dt(t,e){var r,n,i=Array.isArray(t);if((i||s(t))&&!Object.isFrozen(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(r=t.length;r--;)dt(t[r],e);else for(n=Object.keys(t),r=n.length;r--;)dt(t[n[r]],e)}}function mt(t){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var n=r.slice(),i=0;i<n.length;i++)n[i].apply(null,t)}return e.fns=t,e}function vt(e,r,n,i,o){var a,s,c,l,u;for(a in e)s=c=e[a],l=r[a],u=qa(a),t(c)?aa('Invalid handler for event "'+u.name+'": got '+String(c),o):t(l)?(t(c.fns)&&(c=e[a]=mt(c)),n(u.name,c,u.once,u.capture,u.passive,u.params)):c!==l&&(l.fns=c,e[a]=l);for(a in r)t(e[a])&&(u=qa(a),i(u.name,r[a],u.capture))}function gt(e,r,o){function a(){o.apply(this,arguments),m(s.fns,a)}e instanceof ga&&(e=e.data.hook||(e.data.hook={}));var s,c=e[r];t(c)?s=mt([a]):n(c.fns)&&i(c.merged)?(s=c,s.fns.push(a)):s=mt([c,a]),s.merged=!0,e[r]=s}function yt(e,r,i){var o=r.options.props;if(!t(o)){var a={},s=e.attrs,c=e.props;if(n(s)||n(c))for(var l in o){var u=Do(l),h=l.toLowerCase();l!==h&&s&&v(s,h)&&sa('Prop "'+h+'" is passed to component '+la(i||r)+', but the declared prop name is "'+l+'". Note that HTML attributes are case-insensitive and camelCased props need to use their kebab-case equivalents when using in-DOM templates. You should probably use "'+u+'" instead of "'+l+'".'),xt(a,c,l,u,!0)||xt(a,s,l,u,!1)}return a}}function xt(t,e,r,i,o){if(n(e)){if(v(e,r))return t[r]=e[r],o||delete e[r],!0;if(v(e,i))return t[r]=e[i],o||delete e[i],!0}return!1}function bt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function _t(t){return a(t)?[D(t)]:Array.isArray(t)?Mt(t):void 0}function wt(t){return n(t)&&n(t.text)&&o(t.isComment)}function Mt(e,r){var o,s,c,l,u=[];for(o=0;o<e.length;o++)s=e[o],t(s)||"boolean"==typeof s||(c=u.length-1,l=u[c],Array.isArray(s)?s.length>0&&(s=Mt(s,(r||"")+"_"+o),wt(s[0])&&wt(l)&&(u[c]=D(l.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?wt(l)?u[c]=D(l.text+s):""!==s&&u.push(D(s)):wt(s)&&wt(l)?u[c]=D(l.text+s.text):(i(e._isVList)&&n(s.tag)&&t(s.key)&&n(r)&&(s.key="__vlist"+r+"_"+o+"__"),u.push(s)));return u}function St(t,e){return(t.__esModule||oa&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Tt(t,e,r,n,i){var o=xa();return o.asyncFactory=t,o.asyncMeta={data:e,context:r,children:n,tag:i},o}function Ct(e,r,o){if(i(e.error)&&n(e.errorComp))return e.errorComp;if(n(e.resolved))return e.resolved;if(i(e.loading)&&n(e.loadingComp))return e.loadingComp;if(!n(e.contexts)){var a=e.contexts=[o],c=!0,l=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},u=C(function(t){e.resolved=St(t,r),c||l()}),h=C(function(t){aa("Failed to resolve async component: "+String(e)+(t?"\nReason: "+t:"")),n(e.errorComp)&&(e.error=!0,l())}),f=e(u,h);return s(f)&&("function"==typeof f.then?t(e.resolved)&&f.then(u,h):n(f.component)&&"function"==typeof f.component.then&&(f.component.then(u,h),n(f.error)&&(e.errorComp=St(f.error,r)),n(f.loading)&&(e.loadingComp=St(f.loading,r),0===f.delay?e.loading=!0:setTimeout(function(){t(e.resolved)&&t(e.error)&&(e.loading=!0,l())},f.delay||200)),n(f.timeout)&&setTimeout(function(){t(e.resolved)&&h("timeout ("+f.timeout+"ms)")},f.timeout))),c=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}function At(t){return t.isComment&&t.asyncFactory}function Et(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var r=t[e];if(n(r)&&(n(r.componentOptions)||At(r)))return r}}function Lt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Rt(t,e)}function Pt(t,e,r){r?Xa.$once(t,e):Xa.$on(t,e)}function kt(t,e){Xa.$off(t,e)}function Rt(t,e,r){Xa=t,vt(e,r||{},Pt,kt,t),Xa=void 0}function Dt(t){var e=/^hook:/;t.prototype.$on=function(t,r){var n=this,i=this;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.$on(t[o],r);else(i._events[t]||(i._events[t]=[])).push(r),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function r(){n.$off(t,r),e.apply(n,arguments)}var n=this;return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var r=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)r.$off(t[i],e);return n}var a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;if(e)for(var s,c=a.length;c--;)if(s=a[c],s===e||s.fn===e){a.splice(c,1);break}return n},t.prototype.$emit=function(t){var e=this,r=t.toLowerCase();r!==t&&e._events[r]&&sa('Event "'+r+'" is emitted in component '+la(e)+' but the handler is registered for "'+t+'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "'+Do(t)+'" instead of "'+t+'".');var n=e._events[t];if(n){n=n.length>1?x(n):n;for(var i=x(arguments,1),o=0,a=n.length;o<a;o++)try{n[o].apply(e,i)}catch(r){st(r,e,'event handler for "'+t+'"')}}return e}}function Ft(t,e){var r={};if(!t)return r;for(var n=0,i=t.length;n<i;n++){var o=t[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(r.default||(r.default=[])).push(o);else{var s=a.slot,c=r[s]||(r[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in r)r[l].every(Ot)&&delete r[l];return r}function Ot(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Nt(t,e){e=e||{};for(var r=0;r<t.length;r++)Array.isArray(t[r])?Nt(t[r],e):e[t[r].key]=t[r].fn;return e}function Ut(t){var e=t.$options,r=e.parent;if(r&&!e.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(t)}t.$parent=r,t.$root=r?r.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Bt(t){t.prototype._update=function(t,e){var r=this;r._isMounted&&Gt(r,"beforeUpdate");var n=r.$el,i=r._vnode,o=Ya;Ya=r,r._vnode=t,i?r.$el=r.__patch__(i,t):(r.$el=r.__patch__(r.$el,t,e,!1,r.$options._parentElm,r.$options._refElm),r.$options._parentElm=r.$options._refElm=null),Ya=o,n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Gt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Gt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function zt(t,e,r){t.$el=e,t.$options.render||(t.$options.render=xa,t.$options.template&&"#"!==t.$options.template.charAt(0)||t.$options.el||e?aa("You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.",t):aa("Failed to mount component: template or render function not defined.",t)),Gt(t,"beforeMount");var n;return n=zo.performance&&Na?function(){var e=t._name,n=t._uid,i="vue-perf-start:"+n,o="vue-perf-end:"+n;Na(i);var a=t._render();Na(o),Ua("vue "+e+" render",i,o),Na(i),t._update(a,r),Na(o),Ua("vue "+e+" patch",i,o)}:function(){t._update(t._render(),r)},new as(t,n,w,null,!0),r=!1,null==t.$vnode&&(t._isMounted=!0,Gt(t,"mounted")),t}function Vt(t,e,r,n,i){Ka=!0;var o=!!(i||t.$options._renderChildren||n.data.scopedSlots||t.$scopedSlots!==So);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=i,t.$attrs=n.data&&n.data.attrs||So,t.$listeners=r||So,e&&t.$options.props){Ma.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],c=0;c<s.length;c++){var l=s[c];a[l]=et(l,t.$options.props,e,t)}Ma.shouldConvert=!0,t.$options.propsData=e}if(r){var u=t.$options._parentListeners;t.$options._parentListeners=r,Rt(t,r,u)}o&&(t.$slots=Ft(i,n.context),t.$forceUpdate()),Ka=!1}function It(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ht(t,e){if(e){if(t._directInactive=!1,It(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var r=0;r<t.$children.length;r++)Ht(t.$children[r]);Gt(t,"activated")}}function jt(t,e){if(!(e&&(t._directInactive=!0,It(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)jt(t.$children[r]);Gt(t,"deactivated")}}function Gt(t,e){var r=t.$options[e];if(r)for(var n=0,i=r.length;n<i;n++)try{r[n].call(t)}catch(r){st(r,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Wt(){is=Za.length=Ja.length=0,ts={},es={},rs=ns=!1}function Xt(){ns=!0;var t,e;for(Za.sort(function(t,e){return t.id-e.id}),is=0;is<Za.length;is++)if(t=Za[is],e=t.id,ts[e]=null,t.run(),null!=ts[e]&&(es[e]=(es[e]||0)+1,es[e]>Qa)){aa("You may have an infinite update loop "+(t.user?'in watcher with expression "'+t.expression+'"':"in a component render function."),t.vm);break}var r=Ja.slice(),n=Za.slice();Wt(),Yt(r),$t(n),ia&&zo.devtools&&ia.emit("flush")}function $t(t){for(var e=t.length;e--;){var r=t[e],n=r.vm;n._watcher===r&&n._isMounted&&Gt(n,"updated")}}function qt(t){t._inactive=!1,Ja.push(t)}function Yt(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ht(t[e],!0)}function Kt(t){var e=t.id;if(null==ts[e]){if(ts[e]=!0,ns){for(var r=Za.length-1;r>is&&Za[r].id>t.id;)r--;Za.splice(r+1,0,t)}else Za.push(t);rs||(rs=!0,ft(Xt))}}function Qt(t,e,r){ss.get=function(){return this[e][r]},ss.set=function(t){this[e][r]=t},Object.defineProperty(t,r,ss)}function Zt(t){t._watchers=[];var e=t.$options;e.props&&Jt(t,e.props),e.methods&&oe(t,e.methods),e.data?te(t):B(t._data={},!0),e.computed&&re(t,e.computed),e.watch&&e.watch!==Zo&&ae(t,e.watch)}function Jt(t,e){var r=t.$options.propsData||{},n=t._props={},i=t.$options._propKeys=[],o=!t.$parent;Ma.shouldConvert=o;var a=function(o){i.push(o);var a=et(o,e,r,t),s=Do(o);(Ao(s)||zo.isReservedAttr(s))&&aa('"'+s+'" is a reserved attribute and cannot be used as component prop.',t),z(n,o,a,function(){t.$parent&&!Ka&&aa("Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: \""+o+'"',t)}),o in t||Qt(t,"_props",o)};for(var s in e)a(s);Ma.shouldConvert=!0}function te(t){var e=t.$options.data;e=t._data="function"==typeof e?ee(e,t):e||{},l(e)||(e={},aa("data functions should return an object:\nhttps://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function",t));for(var r=Object.keys(e),n=t.$options.props,i=t.$options.methods,o=r.length;o--;){var a=r[o];i&&v(i,a)&&aa('Method "'+a+'" has already been defined as a data property.',t),n&&v(n,a)?aa('The data property "'+a+'" is already declared as a prop. Use prop default value instead.',t):A(a)||Qt(t,"_data",a)}B(e,!0)}function ee(t,e){try{return t.call(e,e)}catch(t){return st(t,e,"data()"),{}}}function re(t,e){var r=t._computedWatchers=Object.create(null),n=na();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;null==a&&aa('Getter is missing for computed property "'+i+'".',t),n||(r[i]=new as(t,a||w,w,cs)),i in t?i in t.$data?aa('The computed property "'+i+'" is already defined in data.',t):t.$options.props&&i in t.$options.props&&aa('The computed property "'+i+'" is already defined as a prop.',t):ne(t,i,o)}}function ne(t,e,r){var n=!na();"function"==typeof r?(ss.get=n?ie(e):r,ss.set=w):(ss.get=r.get?n&&r.cache!==!1?ie(e):r.get:w,ss.set=r.set?r.set:w),ss.set===w&&(ss.set=function(){aa('Computed property "'+e+'" was assigned to but it has no setter.',this)}),Object.defineProperty(t,e,ss)}function ie(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ma.target&&e.depend(),e.value}}function oe(t,e){var r=t.$options.props;for(var n in e)null==e[n]&&aa('Method "'+n+'" has an undefined value in the component definition. Did you reference the function correctly?',t),r&&v(r,n)&&aa('Method "'+n+'" has already been defined as a prop.',t),n in t&&A(n)&&aa('Method "'+n+'" conflicts with an existing Vue instance method. Avoid defining component methods that start with _ or $.'),t[n]=null==e[n]?w:y(e[n],t)}function ae(t,e){for(var r in e){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)se(t,r,n[i]);else se(t,r,n)}}function se(t,e,r,n){return l(r)&&(n=r,r=r.handler),"string"==typeof r&&(r=t[r]),t.$watch(e,r,n)}function ce(t){var e={};e.get=function(){return this._data};var r={};r.get=function(){return this._props},e.set=function(t){aa("Avoid replacing instance root $data. Use nested data properties instead.",this)},r.set=function(){aa("$props is readonly.",this)},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",r),t.prototype.$set=V,t.prototype.$delete=I,t.prototype.$watch=function(t,e,r){var n=this;if(l(e))return se(n,t,e,r);r=r||{},r.user=!0;var i=new as(n,t,e,r);return r.immediate&&e.call(n,i.value),function(){i.teardown()}}}function le(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function ue(t){var e=he(t.$options.inject,t);e&&(Ma.shouldConvert=!1,Object.keys(e).forEach(function(r){z(t,r,e[r],function(){aa('Avoid mutating an injected value directly since the changes will be overwritten whenever the provided component re-renders. injection being mutated: "'+r+'"',t)})}),Ma.shouldConvert=!0)}function he(t,e){if(t){for(var r=Object.create(null),n=oa?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),i=0;i<n.length;i++){for(var o=n[i],a=t[o].from,s=e;s;){if(s._provided&&a in s._provided){r[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var c=t[o].default;r[o]="function"==typeof c?c.call(e):c}else aa('Injection "'+o+'" not found',e)}return r}}function fe(t,e){var r,i,o,a,c;if(Array.isArray(t)||"string"==typeof t)for(r=new Array(t.length),i=0,o=t.length;i<o;i++)r[i]=e(t[i],i);else if("number"==typeof t)for(r=new Array(t),i=0;i<t;i++)r[i]=e(i+1,i);else if(s(t))for(a=Object.keys(t),r=new Array(a.length),i=0,o=a.length;i<o;i++)c=a[i],r[i]=e(t[c],c,i);return n(r)&&(r._isVList=!0),r}function pe(t,e,r,n){var i,o=this.$scopedSlots[t];if(o)r=r||{},n&&(s(n)||aa("slot v-bind without argument expects an Object",this),r=b(b({},n),r)),i=o(r)||e;else{var a=this.$slots[t];a&&(a._rendered&&aa('Duplicate presence of slot "'+t+'" found in the same render tree - this will likely cause render errors.',this),a._rendered=!0),i=a||e}var c=r&&r.slot;return c?this.$createElement("template",{slot:c},i):i}function de(t){return tt(this.$options,"filters",t,!0)||Oo}function me(t,e,r,n){var i=zo.keyCodes[e]||r;return i?Array.isArray(i)?i.indexOf(t)===-1:i!==t:n?Do(n)!==e:void 0}function ve(t,e,r,n,i){if(r)if(s(r)){Array.isArray(r)&&(r=_(r));var o,a=function(a){if("class"===a||"style"===a||Ao(a))o=t;else{var s=t.attrs&&t.attrs.type;o=n||zo.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(a in o)&&(o[a]=r[a],i)){var c=t.on||(t.on={});c["update:"+a]=function(t){r[a]=t}}};for(var c in r)a(c)}else aa("v-bind without argument expects an Object or Array value",this);return t}function ge(t,e){var r=this._staticTrees||(this._staticTrees=[]),n=r[t];return n&&!e?Array.isArray(n)?O(n):F(n):(n=r[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),xe(n,"__static__"+t,!1),n)}function ye(t,e,r){return xe(t,"__once__"+e+(r?"_"+r:""),!0),t}function xe(t,e,r){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&be(t[n],e+"_"+n,r);else be(t,e,r)}function be(t,e,r){t.isStatic=!0,t.key=e,t.isOnce=r}function _e(t,e){if(e)if(l(e)){var r=t.on=t.on?b({},t.on):{};for(var n in e){var i=r[n],o=e[n];r[n]=i?[].concat(i,o):o}}else aa("v-on without argument expects an Object value",this);return t}function we(t){t._o=ye,t._n=p,t._s=f,t._l=fe,t._t=pe,t._q=S,t._i=T,t._m=ge,t._f=de,t._k=me,t._b=ve,t._v=D,t._e=xa,t._u=Nt,t._g=_e}function Me(t,e,r,n,o){var a=o.options;this.data=t,this.props=e,this.children=r,this.parent=n,this.listeners=t.on||So,this.injections=he(a.inject,n),this.slots=function(){return Ft(r,n)};var s=Object.create(n),c=i(a._compiled),l=!c;c&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||So),a._scopeId?this._c=function(t,e,r,i){var o=ke(s,t,e,r,i,l);return o&&(o.fnScopeId=a._scopeId,o.fnContext=n),o}:this._c=function(t,e,r,n){return ke(s,t,e,r,n,l)}}function Se(t,e,r,i,o){var a=t.options,s={},c=a.props;if(n(c))for(var l in c)s[l]=et(l,c,e||So);else n(r.attrs)&&Te(s,r.attrs),n(r.props)&&Te(s,r.props);var u=new Me(r,s,o,i,t),h=a.render.call(null,u._c,u);return h instanceof ga&&(h.fnContext=i,h.fnOptions=a,r.slot&&((h.data||(h.data={})).slot=r.slot)),h}function Te(t,e){for(var r in e)t[Po(r)]=e[r]}function Ce(e,r,o,a,c){if(!t(e)){var l=o.$options._base;if(s(e)&&(e=l.extend(e)),"function"!=typeof e)return void aa("Invalid Component definition: "+String(e),o);var u;if(t(e.cid)&&(u=e,e=Ct(u,l,o),void 0===e))return Tt(u,r,o,a,c);r=r||{},Be(e),n(r.model)&&Pe(e.options,r);var h=yt(r,e,c);if(i(e.options.functional))return Se(e,h,r,o,a);var f=r.on;if(r.on=r.nativeOn,i(e.options.abstract)){var p=r.slot;r={},p&&(r.slot=p)}Ee(r);var d=e.options.name||c,m=new ga("vue-component-"+e.cid+(d?"-"+d:""),r,void 0,void 0,void 0,o,{Ctor:e,propsData:h,listeners:f,tag:c,children:a},u);return m}}function Ae(t,e,r,i){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:r||null,_refElm:i||null},a=t.data.inlineTemplate;return n(a)&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns),new t.componentOptions.Ctor(o)}function Ee(t){t.hook||(t.hook={});for(var e=0;e<us.length;e++){var r=us[e],n=t.hook[r],i=ls[r];t.hook[r]=n?Le(i,n):i}}function Le(t,e){return function(r,n,i,o){t(r,n,i,o),e(r,n,i,o)}}function Pe(t,e){var r=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[r]=e.model.value;var o=e.on||(e.on={});n(o[i])?o[i]=[e.model.callback].concat(o[i]):o[i]=e.model.callback}function ke(t,e,r,n,o,s){return(Array.isArray(r)||a(r))&&(o=n,n=r,r=void 0),i(s)&&(o=fs),Re(t,e,r,n,o)}function Re(t,e,r,i,o){if(n(r)&&n(r.__ob__))return aa("Avoid using observed data object as vnode data: "+JSON.stringify(r)+"\nAlways create fresh vnode data objects in each render!",t),xa();if(n(r)&&n(r.is)&&(e=r.is),!e)return xa();n(r)&&n(r.key)&&!a(r.key)&&aa("Avoid using non-primitive value as key, use string/number value instead.",t),Array.isArray(i)&&"function"==typeof i[0]&&(r=r||{},r.scopedSlots={default:i[0]},i.length=0),o===fs?i=_t(i):o===hs&&(i=bt(i));var s,c;if("string"==typeof e){var l;c=t.$vnode&&t.$vnode.ns||zo.getTagNamespace(e),s=zo.isReservedTag(e)?new ga(zo.parsePlatformTagName(e),r,i,void 0,void 0,t):n(l=tt(t.$options,"components",e))?Ce(l,r,t,i,e):new ga(e,r,i,void 0,void 0,t)}else s=Ce(e,r,t,i);return n(s)?(c&&De(s,c),s):xa()}function De(e,r,o){if(e.ns=r,"foreignObject"===e.tag&&(r=void 0,o=!0),n(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];n(c.tag)&&(t(c.ns)||i(o))&&De(c,r,o)}}function Fe(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,n=r&&r.context;t.$slots=Ft(e._renderChildren,n),t.$scopedSlots=So,t._c=function(e,r,n,i){return ke(t,e,r,n,i,!1)},t.$createElement=function(e,r,n,i){return ke(t,e,r,n,i,!0)};var i=r&&r.data;z(t,"$attrs",i&&i.attrs||So,function(){!Ka&&aa("$attrs is readonly.",t)},!0),z(t,"$listeners",e._parentListeners||So,function(){!Ka&&aa("$listeners is readonly.",t)},!0)}function Oe(t){we(t.prototype),t.prototype.$nextTick=function(t){return ft(t,this)},t.prototype._render=function(){var t=this,e=t.$options,r=e.render,n=e._parentVnode;if(t._isMounted)for(var i in t.$slots){var o=t.$slots[i];(o._rendered||o[0]&&o[0].elm)&&(t.$slots[i]=O(o,!0))}t.$scopedSlots=n&&n.data.scopedSlots||So,t.$vnode=n;var a;try{a=r.call(t._renderProxy,t.$createElement)}catch(e){if(st(e,t,"render"),t.$options.renderError)try{a=t.$options.renderError.call(t._renderProxy,t.$createElement,e)}catch(e){st(e,t,"renderError"),a=t._vnode}else a=t._vnode}return a instanceof ga||(Array.isArray(a)&&aa("Multiple root nodes returned from render function. Render function should return a single root node.",t),a=xa()),a.parent=n,a}}function Ne(t){t.prototype._init=function(t){var e=this;e._uid=ps++;var r,n;zo.performance&&Na&&(r="vue-perf-start:"+e._uid,n="vue-perf-end:"+e._uid,Na(r)),e._isVue=!0,t&&t._isComponent?Ue(e,t):e.$options=J(Be(e.constructor),t||{},e),za(e),e._self=e,Ut(e),Lt(e),Fe(e),Gt(e,"beforeCreate"),ue(e),Zt(e),le(e),Gt(e,"created"),zo.performance&&Na&&(e._name=la(e,!1),Na(n),Ua("vue "+e._name+" init",r,n)),e.$options.el&&e.$mount(e.$options.el)}}function Ue(t,e){var r=t.$options=Object.create(t.constructor.options),n=e._parentVnode;r.parent=e.parent,r._parentVnode=n,r._parentElm=e._parentElm,r._refElm=e._refElm;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,e.render&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns)}function Be(t){var e=t.options;if(t.super){var r=Be(t.super),n=t.superOptions;if(r!==n){t.superOptions=r;var i=ze(t);i&&b(t.extendOptions,i),e=t.options=J(r,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function ze(t){var e,r=t.options,n=t.extendOptions,i=t.sealedOptions;for(var o in r)r[o]!==i[o]&&(e||(e={}),e[o]=Ve(r[o],n[o],i[o]));return e}function Ve(t,e,r){if(Array.isArray(t)){var n=[];r=Array.isArray(r)?r:[r],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||r.indexOf(t[i])<0)&&n.push(t[i]);return n}return t}function Ie(t){this instanceof Ie||aa("Vue is a constructor and should be called with the `new` keyword"),this._init(t)}function He(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var r=x(arguments,1);return r.unshift(this),"function"==typeof t.install?t.install.apply(t,r):"function"==typeof t&&t.apply(null,r),e.push(t),this}}function je(t){t.mixin=function(t){return this.options=J(this.options,t),this}}function Ge(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var r=this,n=r.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];var o=t.name||r.options.name;o&&q(o);var a=function(t){this._init(t)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=e++,a.options=J(r.options,t),a.super=r,a.options.props&&We(a),a.options.computed&&Xe(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,Uo.forEach(function(t){a[t]=r[t]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=t,a.sealedOptions=b({},a.options),
i[n]=a,a}}function We(t){var e=t.options.props;for(var r in e)Qt(t.prototype,"_props",r)}function Xe(t){var e=t.options.computed;for(var r in e)ne(t.prototype,r,e[r])}function $e(t){Uo.forEach(function(e){t[e]=function(t,r){return r?("component"===e&&q(t),"component"===e&&l(r)&&(r.name=r.name||t,r=this.options._base.extend(r)),"directive"===e&&"function"==typeof r&&(r={bind:r,update:r}),this.options[e+"s"][t]=r,r):this.options[e+"s"][t]}})}function qe(t){return t&&(t.Ctor.options.name||t.tag)}function Ye(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Ke(t,e){var r=t.cache,n=t.keys,i=t._vnode;for(var o in r){var a=r[o];if(a){var s=qe(a.componentOptions);s&&!e(s)&&Qe(r,o,n,i)}}}function Qe(t,e,r,n){var i=t[e];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),t[e]=null,m(r,e)}function Ze(t){var e={};e.get=function(){return zo},e.set=function(){aa("Do not replace the Vue.config object, set individual fields instead.")},Object.defineProperty(t,"config",e),t.util={warn:aa,extend:b,mergeOptions:J,defineReactive:z},t.set=V,t.delete=I,t.nextTick=ft,t.options=Object.create(null),Uo.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,b(t.options.components,vs),He(t),je(t),Ge(t),$e(t)}function Je(t){for(var e=t.data,r=t,i=t;n(i.componentInstance);)i=i.componentInstance._vnode,i&&i.data&&(e=tr(i.data,e));for(;n(r=r.parent);)r&&r.data&&(e=tr(e,r.data));return er(e.staticClass,e.class)}function tr(t,e){return{staticClass:rr(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function er(t,e){return n(t)||n(e)?rr(t,nr(e)):""}function rr(t,e){return t?e?t+" "+e:t:e||""}function nr(t){return Array.isArray(t)?ir(t):s(t)?or(t):"string"==typeof t?t:""}function ir(t){for(var e,r="",i=0,o=t.length;i<o;i++)n(e=nr(t[i]))&&""!==e&&(r&&(r+=" "),r+=e);return r}function or(t){var e="";for(var r in t)t[r]&&(e&&(e+=" "),e+=r);return e}function ar(t){return Us(t)?"svg":"math"===t?"math":void 0}function sr(t){if(!Ho)return!0;if(zs(t))return!1;if(t=t.toLowerCase(),null!=Vs[t])return Vs[t];var e=document.createElement(t);return t.indexOf("-")>-1?Vs[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Vs[t]=/HTMLUnknownElement/.test(e.toString())}function cr(t){if("string"==typeof t){var e=document.querySelector(t);return e?e:(aa("Cannot find element: "+t),document.createElement("div"))}return t}function lr(t,e){var r=document.createElement(t);return"select"!==t?r:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function ur(t,e){return document.createElementNS(Os[t],e)}function hr(t){return document.createTextNode(t)}function fr(t){return document.createComment(t)}function pr(t,e,r){t.insertBefore(e,r)}function dr(t,e){t.removeChild(e)}function mr(t,e){t.appendChild(e)}function vr(t){return t.parentNode}function gr(t){return t.nextSibling}function yr(t){return t.tagName}function xr(t,e){t.textContent=e}function br(t,e,r){t.setAttribute(e,r)}function _r(t,e){var r=t.data.ref;if(r){var n=t.context,i=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[r])?m(o[r],i):o[r]===i&&(o[r]=void 0):t.data.refInFor?Array.isArray(o[r])?o[r].indexOf(i)<0&&o[r].push(i):o[r]=[i]:o[r]=i}}function wr(e,r){return e.key===r.key&&(e.tag===r.tag&&e.isComment===r.isComment&&n(e.data)===n(r.data)&&Mr(e,r)||i(e.isAsyncPlaceholder)&&e.asyncFactory===r.asyncFactory&&t(r.asyncFactory.error))}function Mr(t,e){if("input"!==t.tag)return!0;var r,i=n(r=t.data)&&n(r=r.attrs)&&r.type,o=n(r=e.data)&&n(r=r.attrs)&&r.type;return i===o||Is(i)&&Is(o)}function Sr(t,e,r){var i,o,a={};for(i=e;i<=r;++i)o=t[i].key,n(o)&&(a[o]=i);return a}function Tr(e){function r(t){return new ga(O.tagName(t).toLowerCase(),{},[],void 0,t)}function o(t,e){function r(){0===--r.listeners&&s(t)}return r.listeners=e,r}function s(t){var e=O.parentNode(t);n(e)&&O.removeChild(e,t)}function c(t,e){return!e&&!t.ns&&!(zo.ignoredElements.length&&zo.ignoredElements.some(function(e){return u(e)?e.test(t.tag):e===t.tag}))&&zo.isUnknownElement(t.tag)}function l(t,e,r,o,a){if(t.isRootInsert=!a,!h(t,e,r,o)){var s=t.data,l=t.children,u=t.tag;n(u)?(s&&s.pre&&N++,c(t,N)&&aa("Unknown custom element: <"+u+'> - did you register the component correctly? For recursive components, make sure to provide the "name" option.',t.context),t.elm=t.ns?O.createElementNS(t.ns,u):O.createElement(u,t),x(t),v(t,l,e),n(s)&&y(t,e),m(r,t.elm,o),s&&s.pre&&N--):i(t.isComment)?(t.elm=O.createComment(t.text),m(r,t.elm,o)):(t.elm=O.createTextNode(t.text),m(r,t.elm,o))}}function h(t,e,r,o){var a=t.data;if(n(a)){var s=n(t.componentInstance)&&a.keepAlive;if(n(a=a.hook)&&n(a=a.init)&&a(t,!1,r,o),n(t.componentInstance))return f(t,e),i(s)&&p(t,e,r,o),!0}}function f(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(y(t,e),x(t)):(_r(t),e.push(t))}function p(t,e,r,i){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,n(o=a.data)&&n(o=o.transition)){for(o=0;o<D.activate.length;++o)D.activate[o](Gs,a);e.push(a);break}m(r,t.elm,i)}function m(t,e,r){n(t)&&(n(r)?r.parentNode===t&&O.insertBefore(t,e,r):O.appendChild(t,e))}function v(t,e,r){if(Array.isArray(e)){T(e);for(var n=0;n<e.length;++n)l(e[n],r,t.elm,null,!0)}else a(t.text)&&O.appendChild(t.elm,O.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function y(t,e){for(var r=0;r<D.create.length;++r)D.create[r](Gs,t);k=t.data.hook,n(k)&&(n(k.create)&&k.create(Gs,t),n(k.insert)&&e.push(t))}function x(t){var e;if(n(e=t.fnScopeId))O.setAttribute(t.elm,e,"");else for(var r=t;r;)n(e=r.context)&&n(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,""),r=r.parent;n(e=Ya)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&O.setAttribute(t.elm,e,"")}function b(t,e,r,n,i,o){for(;n<=i;++n)l(r[n],o,t,e)}function _(t){var e,r,i=t.data;if(n(i))for(n(e=i.hook)&&n(e=e.destroy)&&e(t),e=0;e<D.destroy.length;++e)D.destroy[e](t);if(n(e=t.children))for(r=0;r<t.children.length;++r)_(t.children[r])}function w(t,e,r,i){for(;r<=i;++r){var o=e[r];n(o)&&(n(o.tag)?(M(o),_(o)):s(o.elm))}}function M(t,e){if(n(e)||n(t.data)){var r,i=D.remove.length+1;for(n(e)?e.listeners+=i:e=o(t.elm,i),n(r=t.componentInstance)&&n(r=r._vnode)&&n(r.data)&&M(r,e),r=0;r<D.remove.length;++r)D.remove[r](t,e);n(r=t.data.hook)&&n(r=r.remove)?r(t,e):e()}else s(t.elm)}function S(e,r,i,o,a){var s,c,u,h,f=0,p=0,d=r.length-1,m=r[0],v=r[d],g=i.length-1,y=i[0],x=i[g],_=!a;for(T(i);f<=d&&p<=g;)t(m)?m=r[++f]:t(v)?v=r[--d]:wr(m,y)?(A(m,y,o),m=r[++f],y=i[++p]):wr(v,x)?(A(v,x,o),v=r[--d],x=i[--g]):wr(m,x)?(A(m,x,o),_&&O.insertBefore(e,m.elm,O.nextSibling(v.elm)),m=r[++f],x=i[--g]):wr(v,y)?(A(v,y,o),_&&O.insertBefore(e,v.elm,m.elm),v=r[--d],y=i[++p]):(t(s)&&(s=Sr(r,f,d)),c=n(y.key)?s[y.key]:C(y,r,f,d),t(c)?l(y,o,e,m.elm):(u=r[c],wr(u,y)?(A(u,y,o),r[c]=void 0,_&&O.insertBefore(e,u.elm,m.elm)):l(y,o,e,m.elm)),y=i[++p]);f>d?(h=t(i[g+1])?null:i[g+1].elm,b(e,h,i,p,g,o)):p>g&&w(e,r,f,d)}function T(t){for(var e={},r=0;r<t.length;r++){var i=t[r],o=i.key;n(o)&&(e[o]?aa("Duplicate keys detected: '"+o+"'. This may cause an update error.",i.context):e[o]=!0)}}function C(t,e,r,i){for(var o=r;o<i;o++){var a=e[o];if(n(a)&&wr(t,a))return o}}function A(e,r,o,a){if(e!==r){var s=r.elm=e.elm;if(i(e.isAsyncPlaceholder))return void(n(r.asyncFactory.resolved)?L(e.elm,r,o):r.isAsyncPlaceholder=!0);if(i(r.isStatic)&&i(e.isStatic)&&r.key===e.key&&(i(r.isCloned)||i(r.isOnce)))return void(r.componentInstance=e.componentInstance);var c,l=r.data;n(l)&&n(c=l.hook)&&n(c=c.prepatch)&&c(e,r);var u=e.children,h=r.children;if(n(l)&&g(r)){for(c=0;c<D.update.length;++c)D.update[c](e,r);n(c=l.hook)&&n(c=c.update)&&c(e,r)}t(r.text)?n(u)&&n(h)?u!==h&&S(s,u,h,o,a):n(h)?(n(e.text)&&O.setTextContent(s,""),b(s,null,h,0,h.length-1,o)):n(u)?w(s,u,0,u.length-1):n(e.text)&&O.setTextContent(s,""):e.text!==r.text&&O.setTextContent(s,r.text),n(l)&&n(c=l.hook)&&n(c=c.postpatch)&&c(e,r)}}function E(t,e,r){if(i(r)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var o=0;o<e.length;++o)e[o].data.hook.insert(e[o])}function L(t,e,r,o){var a,s=e.tag,c=e.data,l=e.children;if(o=o||c&&c.pre,e.elm=t,i(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(!P(t,e,o))return!1;if(n(c)&&(n(a=c.hook)&&n(a=a.init)&&a(e,!0),n(a=e.componentInstance)))return f(e,r),!0;if(n(s)){if(n(l))if(t.hasChildNodes())if(n(a=c)&&n(a=a.domProps)&&n(a=a.innerHTML)){if(a!==t.innerHTML)return"undefined"==typeof console||U||(U=!0,console.warn("Parent: ",t),console.warn("server innerHTML: ",a),console.warn("client innerHTML: ",t.innerHTML)),!1}else{for(var u=!0,h=t.firstChild,p=0;p<l.length;p++){if(!h||!L(h,l[p],r,o)){u=!1;break}h=h.nextSibling}if(!u||h)return"undefined"==typeof console||U||(U=!0,console.warn("Parent: ",t),console.warn("Mismatching childNodes vs. VNodes: ",t.childNodes,l)),!1}else v(e,l,r);if(n(c)){var d=!1;for(var m in c)if(!B(m)){d=!0,y(e,r);break}!d&&c.class&&pt(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}function P(t,e,r){return n(e.tag)?0===e.tag.indexOf("vue-component")||!c(e,r)&&e.tag.toLowerCase()===(t.tagName&&t.tagName.toLowerCase()):t.nodeType===(e.isComment?8:3)}var k,R,D={},F=e.modules,O=e.nodeOps;for(k=0;k<Ws.length;++k)for(D[Ws[k]]=[],R=0;R<F.length;++R)n(F[R][Ws[k]])&&D[Ws[k]].push(F[R][Ws[k]]);var N=0,U=!1,B=d("attrs,class,staticClass,staticStyle,key");return function(e,o,a,s,c,u){if(t(o))return void(n(e)&&_(e));var h=!1,f=[];if(t(e))h=!0,l(o,f,c,u);else{var p=n(e.nodeType);if(!p&&wr(e,o))A(e,o,f,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(No)&&(e.removeAttribute(No),a=!0),i(a)){if(L(e,o,f))return E(o,f,!0),e;aa("The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <p>, or missing <tbody>. Bailing hydration and performing full client-side render.")}e=r(e)}var d=e.elm,m=O.parentNode(d);if(l(o,f,d._leaveCb?null:m,O.nextSibling(d)),n(o.parent))for(var v=o.parent,y=g(o);v;){for(var x=0;x<D.destroy.length;++x)D.destroy[x](v);if(v.elm=o.elm,y){for(var b=0;b<D.create.length;++b)D.create[b](Gs,v);var M=v.data.hook.insert;if(M.merged)for(var S=1;S<M.fns.length;S++)M.fns[S]()}else _r(v);v=v.parent}n(m)?w(m,[e],0,0):n(e.tag)&&_(e)}}return E(o,f,h),o.elm}}function Cr(t,e){(t.data.directives||e.data.directives)&&Ar(t,e)}function Ar(t,e){var r,n,i,o=t===Gs,a=e===Gs,s=Er(t.data.directives,t.context),c=Er(e.data.directives,e.context),l=[],u=[];for(r in c)n=s[r],i=c[r],n?(i.oldValue=n.value,Pr(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(Pr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var r=0;r<l.length;r++)Pr(l[r],"inserted",e,t)};o?gt(e,"insert",h):h()}if(u.length&&gt(e,"postpatch",function(){for(var r=0;r<u.length;r++)Pr(u[r],"componentUpdated",e,t)}),!o)for(r in s)c[r]||Pr(s[r],"unbind",t,t,a)}function Er(t,e){var r=Object.create(null);if(!t)return r;var n,i;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=$s),r[Lr(i)]=i,i.def=tt(e.$options,"directives",i.name,!0);return r}function Lr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Pr(t,e,r,n,i){var o=t.def&&t.def[e];if(o)try{o(r.elm,t,r,n,i)}catch(n){st(n,r.context,"directive "+t.name+" "+e+" hook")}}function kr(e,r){var i=r.componentOptions;if(!(n(i)&&i.Ctor.options.inheritAttrs===!1||t(e.data.attrs)&&t(r.data.attrs))){var o,a,s,c=r.elm,l=e.data.attrs||{},u=r.data.attrs||{};n(u.__ob__)&&(u=r.data.attrs=b({},u));for(o in u)a=u[o],s=l[o],s!==a&&Rr(c,o,a);(Xo||qo)&&u.value!==l.value&&Rr(c,"value",u.value);for(o in l)t(u[o])&&(Rs(o)?c.removeAttributeNS(ks,Ds(o)):Ls(o)||c.removeAttribute(o))}}function Rr(t,e,r){if(Ps(e))Fs(r)?t.removeAttribute(e):(r="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,r));else if(Ls(e))t.setAttribute(e,Fs(r)||"false"===r?"false":"true");else if(Rs(e))Fs(r)?t.removeAttributeNS(ks,Ds(e)):t.setAttributeNS(ks,e,r);else if(Fs(r))t.removeAttribute(e);else{if(Xo&&!$o&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,r)}}function Dr(e,r){var i=r.elm,o=r.data,a=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=Je(r),c=i._transitionClasses;n(c)&&(s=rr(s,nr(c))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function Fr(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var r,n,i,o,a,s=!1,c=!1,l=!1,u=!1,h=0,f=0,p=0,d=0;for(i=0;i<t.length;i++)if(n=r,r=t.charCodeAt(i),s)39===r&&92!==n&&(s=!1);else if(c)34===r&&92!==n&&(c=!1);else if(l)96===r&&92!==n&&(l=!1);else if(u)47===r&&92!==n&&(u=!1);else if(124!==r||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||h||f||p){switch(r){case 34:c=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:h++;break;case 125:h--}if(47===r){for(var m=i-1,v=void 0;m>=0&&(v=t.charAt(m)," "===v);m--);v&&Qs.test(v)||(u=!0)}}else void 0===o?(d=i+1,o=t.slice(0,i).trim()):e();if(void 0===o?o=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)o=Or(o,a[i]);return o}function Or(t,e){var r=e.indexOf("(");if(r<0)return'_f("'+e+'")('+t+")";var n=e.slice(0,r),i=e.slice(r+1);return'_f("'+n+'")('+t+","+i}function Nr(t){console.error("[Vue compiler]: "+t)}function Ur(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Br(t,e,r){(t.props||(t.props=[])).push({name:e,value:r}),t.plain=!1}function zr(t,e,r){(t.attrs||(t.attrs=[])).push({name:e,value:r}),t.plain=!1}function Vr(t,e,r){t.attrsMap[e]=r,t.attrsList.push({name:e,value:r})}function Ir(t,e,r,n,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:r,value:n,arg:i,modifiers:o}),t.plain=!1}function Hr(t,e,r,n,i,o){n=n||So,o&&n.prevent&&n.passive&&o("passive and prevent can't be used together. Passive handler can't prevent default event."),n.capture&&(delete n.capture,e="!"+e),n.once&&(delete n.once,e="~"+e),n.passive&&(delete n.passive,e="&"+e),"click"===e&&(n.right?(e="contextmenu",delete n.right):n.middle&&(e="mouseup"));var a;n.native?(delete n.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:r};n!==So&&(s.modifiers=n);var c=a[e];Array.isArray(c)?i?c.unshift(s):c.push(s):c?a[e]=i?[s,c]:[c,s]:a[e]=s,t.plain=!1}function jr(t,e,r){var n=Gr(t,":"+e)||Gr(t,"v-bind:"+e);if(null!=n)return Fr(n);if(r!==!1){var i=Gr(t,e);if(null!=i)return JSON.stringify(i)}}function Gr(t,e,r){var n;if(null!=(n=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return r&&delete t.attrsMap[e],n}function Wr(t,e,r){var n=r||{},i=n.number,o=n.trim,a="$$v",s=a;o&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var c=Xr(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+c+"}"}}function Xr(t,e){var r=$r(t);return null===r.key?t+"="+e:"$set("+r.exp+", "+r.key+", "+e+")"}function $r(t){if(gs=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<gs-1)return bs=t.lastIndexOf("."),bs>-1?{exp:t.slice(0,bs),key:'"'+t.slice(bs+1)+'"'}:{exp:t,key:null};for(ys=t,bs=_s=ws=0;!Yr();)xs=qr(),Kr(xs)?Zr(xs):91===xs&&Qr(xs);return{exp:t.slice(0,_s),key:t.slice(_s+1,ws)}}function qr(){return ys.charCodeAt(++bs)}function Yr(){return bs>=gs}function Kr(t){return 34===t||39===t}function Qr(t){var e=1;for(_s=bs;!Yr();)if(t=qr(),Kr(t))Zr(t);else if(91===t&&e++,93===t&&e--,0===e){ws=bs;break}}function Zr(t){for(var e=t;!Yr()&&(t=qr(),t!==e););}function Jr(t,e,r){Ms=r;var n=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if("input"===o&&"file"===a&&Ms("<"+t.tag+' v-model="'+n+'" type="file">:\nFile inputs are read only. Use a v-on:change listener instead.'),t.component)return Wr(t,n,i),!1;if("select"===o)rn(t,n,i);else if("input"===o&&"checkbox"===a)tn(t,n,i);else if("input"===o&&"radio"===a)en(t,n,i);else if("input"===o||"textarea"===o)nn(t,n,i);else{if(!zo.isReservedTag(o))return Wr(t,n,i),!1;Ms("<"+t.tag+' v-model="'+n+"\">: v-model is not supported on this element type. If you are working with contenteditable, it's recommended to wrap a library dedicated for that purpose inside a custom component.")}return!0}function tn(t,e,r){var n=r&&r.number,i=jr(t,"value")||"null",o=jr(t,"true-value")||"true",a=jr(t,"false-value")||"false";Br(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Hr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(n?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat([$$v]))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Xr(e,"$$c")+"}",null,!0)}function en(t,e,r){var n=r&&r.number,i=jr(t,"value")||"null";i=n?"_n("+i+")":i,Br(t,"checked","_q("+e+","+i+")"),Hr(t,"change",Xr(e,i),null,!0)}function rn(t,e,r){var n=r&&r.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n?"_n(val)":"val")+"})",o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+Xr(e,o),Hr(t,"change",a,null,!0)}function nn(t,e,r){var n=t.attrsMap.type,i=t.attrsMap["v-bind:value"]||t.attrsMap[":value"];if(i){var o=t.attrsMap["v-bind:value"]?"v-bind:value":":value";Ms(o+'="'+i+'" conflicts with v-model on the same element because the latter already expands to a value binding internally')}var a=r||{},s=a.lazy,c=a.number,l=a.trim,u=!s&&"range"!==n,h=s?"change":"range"===n?Zs:"input",f="$event.target.value";l&&(f="$event.target.value.trim()"),c&&(f="_n("+f+")");var p=Xr(e,f);u&&(p="if($event.target.composing)return;"+p),Br(t,"value","("+e+")"),Hr(t,h,p,null,!0),(l||c)&&Hr(t,"blur","$forceUpdate()")}function on(t){if(n(t[Zs])){var e=Xo?"change":"input";t[e]=[].concat(t[Zs],t[e]||[]),delete t[Zs]}n(t[Js])&&(t.change=[].concat(t[Js],t.change||[]),delete t[Js])}function an(t,e,r){var n=Ss;return function i(){var o=t.apply(null,arguments);null!==o&&cn(e,i,r,n)}}function sn(t,e,r,n,i){e=ht(e),r&&(e=an(e,t,n)),Ss.addEventListener(t,e,Jo?{capture:n,passive:i}:n)}function cn(t,e,r,n){(n||Ss).removeEventListener(t,e._withTask||e,r)}function ln(e,r){if(!t(e.data.on)||!t(r.data.on)){var n=r.data.on||{},i=e.data.on||{};Ss=r.elm,on(n),vt(n,i,sn,cn,r.context),Ss=void 0}}function un(e,r){if(!t(e.data.domProps)||!t(r.data.domProps)){var i,o,a=r.elm,s=e.data.domProps||{},c=r.data.domProps||{};n(c.__ob__)&&(c=r.data.domProps=b({},c));for(i in s)t(c[i])&&(a[i]="");for(i in c){if(o=c[i],"textContent"===i||"innerHTML"===i){if(r.children&&(r.children.length=0),o===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i){a._value=o;var l=t(o)?"":String(o);hn(a,l)&&(a.value=l)}else a[i]=o}}}function hn(t,e){return!t.composing&&("OPTION"===t.tagName||fn(t,e)||pn(t,e))}function fn(t,e){var r=!0;try{r=document.activeElement!==t}catch(t){}return r&&t.value!==e}function pn(t,e){var r=t.value,i=t._vModifiers;if(n(i)){if(i.lazy)return!1;if(i.number)return p(r)!==p(e);if(i.trim)return r.trim()!==e.trim()}return r!==e}function dn(t){var e=mn(t.style);return t.staticStyle?b(t.staticStyle,e):e}function mn(t){return Array.isArray(t)?_(t):"string"==typeof t?rc(t):t}function vn(t,e){var r,n={};if(e)for(var i=t;i.componentInstance;)i=i.componentInstance._vnode,i&&i.data&&(r=dn(i.data))&&b(n,r);(r=dn(t.data))&&b(n,r);for(var o=t;o=o.parent;)o.data&&(r=dn(o.data))&&b(n,r);return n}function gn(e,r){var i=r.data,o=e.data;if(!(t(i.staticStyle)&&t(i.style)&&t(o.staticStyle)&&t(o.style))){var a,s,c=r.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},h=l||u,f=mn(r.data.style)||{};r.data.normalizedStyle=n(f.__ob__)?b({},f):f;var p=vn(r,!0);for(s in h)t(p[s])&&oc(c,s,"");for(s in p)a=p[s],a!==h[s]&&oc(c,s,null==a?"":a)}}function yn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var r=" "+(t.getAttribute("class")||"")+" ";r.indexOf(" "+e+" ")<0&&t.setAttribute("class",(r+e).trim())}}function xn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var r=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";r.indexOf(n)>=0;)r=r.replace(n," ");r=r.trim(),r?t.setAttribute("class",r):t.removeAttribute("class")}}function bn(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&b(e,lc(t.name||"v")),b(e,t),e}return"string"==typeof t?lc(t):void 0}}function _n(t){gc(function(){gc(t)})}function wn(t,e){var r=t._transitionClasses||(t._transitionClasses=[]);r.indexOf(e)<0&&(r.push(e),yn(t,e))}function Mn(t,e){t._transitionClasses&&m(t._transitionClasses,e),xn(t,e)}function Sn(t,e,r){var n=Tn(t,e),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===hc?dc:vc,c=0,l=function(){t.removeEventListener(s,u),r()},u=function(e){e.target===t&&++c>=a&&l()};setTimeout(function(){c<a&&l()},o+1),t.addEventListener(s,u)}function Tn(t,e){var r,n=window.getComputedStyle(t),i=n[pc+"Delay"].split(", "),o=n[pc+"Duration"].split(", "),a=Cn(i,o),s=n[mc+"Delay"].split(", "),c=n[mc+"Duration"].split(", "),l=Cn(s,c),u=0,h=0;e===hc?a>0&&(r=hc,u=a,h=o.length):e===fc?l>0&&(r=fc,u=l,h=c.length):(u=Math.max(a,l),r=u>0?a>l?hc:fc:null,h=r?r===hc?o.length:c.length:0);var f=r===hc&&yc.test(n[pc+"Property"]);return{type:r,timeout:u,propCount:h,hasTransform:f}}function Cn(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,r){return An(e)+An(t[r])}))}function An(t){return 1e3*Number(t.slice(0,-1))}function En(e,r){var i=e.elm;n(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=bn(e.data.transition);if(!t(o)&&!n(i._enterCb)&&1===i.nodeType){for(var a=o.css,c=o.type,l=o.enterClass,u=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,g=o.enter,y=o.afterEnter,x=o.enterCancelled,b=o.beforeAppear,_=o.appear,w=o.afterAppear,M=o.appearCancelled,S=o.duration,T=Ya,A=Ya.$vnode;A&&A.parent;)A=A.parent,T=A.context;var E=!T._isMounted||!e.isRootInsert;if(!E||_||""===_){var L=E&&f?f:l,P=E&&m?m:h,k=E&&d?d:u,R=E?b||v:v,D=E&&"function"==typeof _?_:g,F=E?w||y:y,O=E?M||x:x,N=p(s(S)?S.enter:S);null!=N&&Pn(N,"enter",e);var U=a!==!1&&!$o,B=Rn(D),z=i._enterCb=C(function(){U&&(Mn(i,k),Mn(i,P)),z.cancelled?(U&&Mn(i,L),O&&O(i)):F&&F(i),i._enterCb=null});e.data.show||gt(e,"insert",function(){var t=i.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(i,z)}),R&&R(i),U&&(wn(i,L),wn(i,P),_n(function(){wn(i,k),Mn(i,L),z.cancelled||B||(kn(N)?setTimeout(z,N):Sn(i,c,z))})),e.data.show&&(r&&r(),D&&D(i,z)),U||B||z()}}}function Ln(e,r){function i(){M.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),d&&d(o),b&&(wn(o,u),wn(o,f),_n(function(){wn(o,h),Mn(o,u),M.cancelled||_||(kn(w)?setTimeout(M,w):Sn(o,l,M))})),m&&m(o,M),b||_||M())}var o=e.elm;n(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var a=bn(e.data.transition);if(t(a)||1!==o.nodeType)return r();if(!n(o._leaveCb)){var c=a.css,l=a.type,u=a.leaveClass,h=a.leaveToClass,f=a.leaveActiveClass,d=a.beforeLeave,m=a.leave,v=a.afterLeave,g=a.leaveCancelled,y=a.delayLeave,x=a.duration,b=c!==!1&&!$o,_=Rn(m),w=p(s(x)?x.leave:x);n(w)&&Pn(w,"leave",e);var M=o._leaveCb=C(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(Mn(o,h),Mn(o,f)),M.cancelled?(b&&Mn(o,u),g&&g(o)):(r(),v&&v(o)),o._leaveCb=null});y?y(i):i()}}function Pn(t,e,r){"number"!=typeof t?aa("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",r.context):isNaN(t)&&aa("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",r.context)}function kn(t){return"number"==typeof t&&!isNaN(t)}function Rn(e){if(t(e))return!1;var r=e.fns;return n(r)?Rn(Array.isArray(r)?r[0]:r):(e._length||e.length)>1}function Dn(t,e){e.data.show!==!0&&En(e)}function Fn(t,e,r){On(t,e,r),(Xo||qo)&&setTimeout(function(){On(t,e,r)},0)}function On(t,e,r){var n=e.value,i=t.multiple;if(i&&!Array.isArray(n))return void aa('<select multiple v-model="'+e.expression+'"> expects an Array value for its binding, but got '+Object.prototype.toString.call(n).slice(8,-1),r);for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=T(n,Un(a))>-1,a.selected!==o&&(a.selected=o);else if(S(Un(a),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}function Nn(t,e){return e.every(function(e){return!S(e,t)})}function Un(t){return"_value"in t?t._value:t.value}function Bn(t){t.target.composing=!0}function zn(t){t.target.composing&&(t.target.composing=!1,Vn(t.target,"input"))}function Vn(t,e){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}function In(t){return!t.componentInstance||t.data&&t.data.transition?t:In(t.componentInstance._vnode)}function Hn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Hn(Et(e.children)):t}function jn(t){var e={},r=t.$options;for(var n in r.propsData)e[n]=t[n];var i=r._parentListeners;for(var o in i)e[Po(o)]=i[o];return e}function Gn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Wn(t){for(;t=t.parent;)if(t.data.transition)return!0}function Xn(t,e){return e.key===t.key&&e.tag===t.tag}function $n(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function qn(t){t.data.newPos=t.elm.getBoundingClientRect()}function Yn(t){var e=t.data.pos,r=t.data.newPos,n=e.left-r.left,i=e.top-r.top;if(n||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}function Kn(t,e){var r=e?Fc(e):Rc;if(r.test(t)){for(var n,i,o,a=[],s=[],c=r.lastIndex=0;n=r.exec(t);){i=n.index,i>c&&(s.push(o=t.slice(c,i)),a.push(JSON.stringify(o)));var l=Fr(n[1].trim());a.push("_s("+l+")"),s.push({"@binding":l}),c=i+n[0].length}return c<t.length&&(s.push(o=t.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}function Qn(t,e){var r=e.warn||Nr,n=Gr(t,"class");if(n){var i=Kn(n,e.delimiters);i&&r('class="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div class="{{ val }}">, use <div :class="val">.')}n&&(t.staticClass=JSON.stringify(n));var o=jr(t,"class",!1);o&&(t.classBinding=o)}function Zn(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Jn(t,e){var r=e.warn||Nr,n=Gr(t,"style");if(n){var i=Kn(n,e.delimiters);i&&r('style="'+n+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div style="{{ val }}">, use <div :style="val">.'),t.staticStyle=JSON.stringify(rc(n))}var o=jr(t,"style",!1);o&&(t.styleBinding=o)}function ti(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function ei(t,e){var r=e?fl:hl;return t.replace(r,function(t){return ul[t]})}function ri(t,e){function r(e){f+=e,t=t.substring(e)}function n(){var e=t.match(Gc);if(e){var n={tagName:e[1],attrs:[],start:f};r(e[0].length);for(var i,o;!(i=t.match(Wc))&&(o=t.match(Ic));)r(o[0].length),n.attrs.push(o);if(i)return n.unarySlash=i[1],r(i[0].length),n.end=f,n}}function i(t){var r=t.tagName,n=t.unarySlash;l&&("p"===s&&Vc(r)&&o(s),h(r)&&s===r&&o(r));for(var i=u(r)||!!n,a=t.attrs.length,f=new Array(a),p=0;p<a;p++){var d=t.attrs[p];Kc&&d[0].indexOf('""')===-1&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var m=d[3]||d[4]||d[5]||"",v="a"===r&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[p]={name:d[1],value:ei(m,v)}}i||(c.push({tag:r,lowerCasedTag:r.toLowerCase(),attrs:f}),s=r),e.start&&e.start(r,f,i,t.start,t.end)}function o(t,r,n){var i,o;if(null==r&&(r=f),null==n&&(n=f),t&&(o=t.toLowerCase()),t)for(i=c.length-1;i>=0&&c[i].lowerCasedTag!==o;i--);else i=0;if(i>=0){for(var a=c.length-1;a>=i;a--)(a>i||!t)&&e.warn&&e.warn("tag <"+c[a].tag+"> has no matching end tag."),e.end&&e.end(c[a].tag,r,n);c.length=i,s=i&&c[i-1].tag}else"br"===o?e.start&&e.start(t,[],!0,r,n):"p"===o&&(e.start&&e.start(t,[],!1,r,n),e.end&&e.end(t,r,n))}for(var a,s,c=[],l=e.expectHTML,u=e.isUnaryTag||Fo,h=e.canBeLeftOpenTag||Fo,f=0;t;){if(a=t,s&&cl(s)){var p=0,d=s.toLowerCase(),m=ll[d]||(ll[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),v=t.replace(m,function(t,r,n){return p=n.length,cl(d)||"noscript"===d||(r=r.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),dl(d,r)&&(r=r.slice(1)),e.chars&&e.chars(r),""});f+=t.length-v.length,t=v,o(d,f-p,f)}else{var g=t.indexOf("<");if(0===g){if(qc.test(t)){var y=t.indexOf("-->");if(y>=0){e.shouldKeepComment&&e.comment(t.substring(4,y)),r(y+3);continue}}if(Yc.test(t)){var x=t.indexOf("]>");if(x>=0){r(x+2);continue}}var b=t.match($c);if(b){r(b[0].length);continue}var _=t.match(Xc);if(_){var w=f;r(_[0].length),o(_[1],w,f);continue}var M=n();if(M){i(M),dl(s,t)&&r(1);continue}}var S=void 0,T=void 0,C=void 0;if(g>=0){for(T=t.slice(g);!(Xc.test(T)||Gc.test(T)||qc.test(T)||Yc.test(T)||(C=T.indexOf("<",1),C<0));)g+=C,T=t.slice(g);S=t.substring(0,g),r(g)}g<0&&(S=t,t=""),e.chars&&S&&e.chars(S)}if(t===a){e.chars&&e.chars(t),!c.length&&e.warn&&e.warn('Mal-formatted tag at end of template: "'+t+'"');break}}o()}function ni(t,e,r){return{type:1,tag:t,attrsList:e,attrsMap:wi(e),parent:r,children:[]}}function ii(t,e){function r(t){u||(u=!0,Qc(t))}function n(t){t.pre&&(c=!1),rl(t.tag)&&(l=!1);for(var r=0;r<el.length;r++)el[r](t,e)}Qc=e.warn||Nr,rl=e.isPreTag||Fo,nl=e.mustUseProp||Fo,il=e.getTagNamespace||Fo,Jc=Ur(e.modules,"transformNode"),tl=Ur(e.modules,"preTransformNode"),el=Ur(e.modules,"postTransformNode"),Zc=e.delimiters;var i,o,a=[],s=e.preserveWhitespace!==!1,c=!1,l=!1,u=!1;return ri(t,{warn:Qc,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,s,u){function h(t){"slot"!==t.tag&&"template"!==t.tag||r("Cannot use <"+t.tag+"> as component root element because it may contain multiple nodes."),t.attrsMap.hasOwnProperty("v-for")&&r("Cannot use v-for on stateful component root element because it renders multiple elements.")}var f=o&&o.ns||il(t);Xo&&"svg"===f&&(s=Ti(s));var p=ni(t,s,o);f&&(p.ns=f),Si(p)&&!na()&&(p.forbidden=!0,Qc("Templates should only be responsible for mapping the state to the UI. Avoid placing tags with side-effects in your templates, such as <"+t+">, as they will not be parsed."));for(var d=0;d<tl.length;d++)p=tl[d](p,e)||p;if(c||(oi(p),p.pre&&(c=!0)),rl(p.tag)&&(l=!0),c?ai(p):p.processed||(ui(p),fi(p),vi(p),si(p,e)),i?a.length||(i.if&&(p.elseif||p.else)?(h(p),mi(i,{exp:p.elseif,block:p})):r("Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead.")):(i=p,h(i)),o&&!p.forbidden)if(p.elseif||p.else)pi(p,o);else if(p.slotScope){o.plain=!1;var m=p.slotTarget||'"default"';(o.scopedSlots||(o.scopedSlots={}))[m]=p}else o.children.push(p),p.parent=o;u?n(p):(o=p,a.push(p))},end:function(){var t=a[a.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!l&&t.children.pop(),a.length-=1,o=a[a.length-1],n(t)},chars:function(e){if(!o)return void(e===t?r("Component template requires a root element, rather than just text."):(e=e.trim())&&r('text "'+e+'" outside root element will be ignored.'));
if(!Xo||"textarea"!==o.tag||o.attrsMap.placeholder!==e){var n=o.children;if(e=l||e.trim()?Mi(o)?e:Ml(e):s&&n.length?" ":""){var i;!c&&" "!==e&&(i=Kn(e,Zc))?n.push({type:2,expression:i.expression,tokens:i.tokens,text:e}):" "===e&&n.length&&" "===n[n.length-1].text||n.push({type:3,text:e})}}},comment:function(t){o.children.push({type:3,text:t,isComment:!0})}}),i}function oi(t){null!=Gr(t,"v-pre")&&(t.pre=!0)}function ai(t){var e=t.attrsList.length;if(e)for(var r=t.attrs=new Array(e),n=0;n<e;n++)r[n]={name:t.attrsList[n].name,value:JSON.stringify(t.attrsList[n].value)};else t.pre||(t.plain=!0)}function si(t,e){ci(t),t.plain=!t.key&&!t.attrsList.length,li(t),gi(t),yi(t);for(var r=0;r<Jc.length;r++)t=Jc[r](t,e)||t;xi(t)}function ci(t){var e=jr(t,"key");e&&("template"===t.tag&&Qc("<template> cannot be keyed. Place the key on real elements instead."),t.key=e)}function li(t){var e=jr(t,"ref");e&&(t.ref=e,t.refInFor=bi(t))}function ui(t){var e;if(e=Gr(t,"v-for")){var r=hi(e);r?b(t,r):Qc("Invalid v-for expression: "+e)}}function hi(t){var e=t.match(gl);if(e){var r={};r.for=e[2].trim();var n=e[1].trim().replace(xl,""),i=n.match(yl);return i?(r.alias=n.replace(yl,""),r.iterator1=i[1].trim(),i[2]&&(r.iterator2=i[2].trim())):r.alias=n,r}}function fi(t){var e=Gr(t,"v-if");if(e)t.if=e,mi(t,{exp:e,block:t});else{null!=Gr(t,"v-else")&&(t.else=!0);var r=Gr(t,"v-else-if");r&&(t.elseif=r)}}function pi(t,e){var r=di(e.children);r&&r.if?mi(r,{exp:t.elseif,block:t}):Qc("v-"+(t.elseif?'else-if="'+t.elseif+'"':"else")+" used on element <"+t.tag+"> without corresponding v-if.")}function di(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];" "!==t[e].text&&Qc('text "'+t[e].text.trim()+'" between v-if and v-else(-if) will be ignored.'),t.pop()}}function mi(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function vi(t){var e=Gr(t,"v-once");null!=e&&(t.once=!0)}function gi(t){if("slot"===t.tag)t.slotName=jr(t,"name"),t.key&&Qc("`key` does not work on <slot> because slots are abstract outlets and can possibly expand into multiple elements. Use the key on a wrapping element instead.");else{var e;"template"===t.tag?(e=Gr(t,"scope"),e&&Qc('the "scope" attribute for scoped slots have been deprecated and replaced by "slot-scope" since 2.5. The new "slot-scope" attribute can also be used on plain elements in addition to <template> to denote scoped slots.',!0),t.slotScope=e||Gr(t,"slot-scope")):(e=Gr(t,"slot-scope"))&&(t.attrsMap["v-for"]&&Qc("Ambiguous combined usage of slot-scope and v-for on <"+t.tag+"> (v-for takes higher priority). Use a wrapper <template> for the scoped slot to make it clearer.",!0),t.slotScope=e);var r=jr(t,"slot");r&&(t.slotTarget='""'===r?'"default"':r,"template"===t.tag||t.slotScope||zr(t,"slot",r))}}function yi(t){var e;(e=jr(t,"is"))&&(t.component=e),null!=Gr(t,"inline-template")&&(t.inlineTemplate=!0)}function xi(t){var e,r,n,i,o,a,s,c=t.attrsList;for(e=0,r=c.length;e<r;e++)if(n=i=c[e].name,o=c[e].value,vl.test(n))if(t.hasBindings=!0,a=_i(n),a&&(n=n.replace(wl,"")),_l.test(n))n=n.replace(_l,""),o=Fr(o),s=!1,a&&(a.prop&&(s=!0,n=Po(n),"innerHtml"===n&&(n="innerHTML")),a.camel&&(n=Po(n)),a.sync&&Hr(t,"update:"+Po(n),Xr(o,"$event"))),s||!t.component&&nl(t.tag,t.attrsMap.type,n)?Br(t,n,o):zr(t,n,o);else if(ml.test(n))n=n.replace(ml,""),Hr(t,n,o,a,!1,Qc);else{n=n.replace(vl,"");var l=n.match(bl),u=l&&l[1];u&&(n=n.slice(0,-(u.length+1))),Ir(t,n,i,o,u,a),"model"===n&&Ci(t,o)}else{var h=Kn(o,Zc);h&&Qc(n+'="'+o+'": Interpolation inside attributes has been removed. Use v-bind or the colon shorthand instead. For example, instead of <div id="{{ val }}">, use <div :id="val">.'),zr(t,n,JSON.stringify(o)),!t.component&&"muted"===n&&nl(t.tag,t.attrsMap.type,n)&&Br(t,n,"true")}}function bi(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function _i(t){var e=t.match(wl);if(e){var r={};return e.forEach(function(t){r[t.slice(1)]=!0}),r}}function wi(t){for(var e={},r=0,n=t.length;r<n;r++)!e[t[r].name]||Xo||qo||Qc("duplicate attribute: "+t[r].name),e[t[r].name]=t[r].value;return e}function Mi(t){return"script"===t.tag||"style"===t.tag}function Si(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function Ti(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];Sl.test(n.name)||(n.name=n.name.replace(Tl,""),e.push(n))}return e}function Ci(t,e){for(var r=t;r;)r.for&&r.alias===e&&Qc("<"+t.tag+' v-model="'+e+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.'),r=r.parent}function Ai(t,e){if("input"===t.tag){var r=t.attrsMap;if(r["v-model"]&&(r["v-bind:type"]||r[":type"])){var n=jr(t,"type"),i=Gr(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Gr(t,"v-else",!0),s=Gr(t,"v-else-if",!0),c=Ei(t);ui(c),Vr(c,"type","checkbox"),si(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+o,mi(c,{exp:c.if,block:c});var l=Ei(t);Gr(l,"v-for",!0),Vr(l,"type","radio"),si(l,e),mi(c,{exp:"("+n+")==='radio'"+o,block:l});var u=Ei(t);return Gr(u,"v-for",!0),Vr(u,":type",n),si(u,e),mi(c,{exp:i,block:u}),a?c.else=!0:s&&(c.elseif=s),c}}}function Ei(t){return ni(t.tag,t.attrsList.slice(),t.parent)}function Li(t,e){e.value&&Br(t,"textContent","_s("+e.value+")")}function Pi(t,e){e.value&&Br(t,"innerHTML","_s("+e.value+")")}function ki(t,e){t&&(ol=Pl(e.staticKeys||""),al=e.isReservedTag||Fo,Di(t),Fi(t,!1))}function Ri(t){return d("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Di(t){if(t.static=Oi(t),1===t.type){if(!al(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,r=t.children.length;e<r;e++){var n=t.children[e];Di(n),n.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Di(a),a.static||(t.static=!1)}}}function Fi(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,n=t.children.length;r<n;r++)Fi(t.children[r],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Fi(t.ifConditions[i].block,e)}}function Oi(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Co(t.tag)||!al(t.tag)||Ni(t)||!Object.keys(t).every(ol))))}function Ni(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function Ui(t,e,r){var n=e?"nativeOn:{":"on:{";for(var i in t)n+='"'+i+'":'+Bi(i,t[i])+",";return n.slice(0,-1)+"}"}function Bi(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Bi(t,e)}).join(",")+"]";var r=Rl.test(e.value),n=kl.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)if(Ol[s])o+=Ol[s],Dl[s]&&a.push(s);else if("exact"===s){var c=e.modifiers;o+=Fl(["ctrl","shift","alt","meta"].filter(function(t){return!c[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);a.length&&(i+=zi(a)),o&&(i+=o);var l=r?e.value+"($event)":n?"("+e.value+")($event)":e.value;return"function($event){"+i+l+"}"}return r||n?e.value:"function($event){"+e.value+"}"}function zi(t){return"if(!('button' in $event)&&"+t.map(Vi).join("&&")+")return null;"}function Vi(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var r=Dl[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(r)+",$event.key)"}function Ii(t,e){e.modifiers&&aa("v-on without argument does not support modifiers."),t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function Hi(t,e){t.wrapData=function(r){return"_b("+r+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function ji(t,e){var r=new Ul(e),n=t?Gi(t,r):'_c("div")';return{render:"with(this){return "+n+"}",staticRenderFns:r.staticRenderFns}}function Gi(t,e){if(t.staticRoot&&!t.staticProcessed)return Wi(t,e);if(t.once&&!t.onceProcessed)return Xi(t,e);if(t.for&&!t.forProcessed)return Yi(t,e);if(t.if&&!t.ifProcessed)return $i(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return co(t,e);var r;if(t.component)r=lo(t.component,t,e);else{var n=t.plain?void 0:Ki(t,e),i=t.inlineTemplate?null:ro(t,e,!0);r="_c('"+t.tag+"'"+(n?","+n:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)r=e.transforms[o](t,r);return r}return ro(t,e)||"void 0"}function Wi(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+Gi(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Xi(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return $i(t,e);if(t.staticInFor){for(var r="",n=t.parent;n;){if(n.for){r=n.key;break}n=n.parent}return r?"_o("+Gi(t,e)+","+e.onceId++ +","+r+")":(e.warn("v-once can only be used inside v-for that is keyed. "),Gi(t,e))}return Wi(t,e)}function $i(t,e,r,n){return t.ifProcessed=!0,qi(t.ifConditions.slice(),e,r,n)}function qi(t,e,r,n){function i(t){return r?r(t,e):t.once?Xi(t,e):Gi(t,e)}if(!t.length)return n||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+i(o.block)+":"+qi(t,e,r,n):""+i(o.block)}function Yi(t,e,r,n){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return e.maybeComponent(t)&&"slot"!==t.tag&&"template"!==t.tag&&!t.key&&e.warn("<"+t.tag+' v-for="'+o+" in "+i+'">: component lists rendered with v-for should have explicit keys. See https://vuejs.org/guide/list.html#key for more info.',!0),t.forProcessed=!0,(n||"_l")+"(("+i+"),function("+o+a+s+"){return "+(r||Gi)(t,e)+"})"}function Ki(t,e){var r="{",n=Qi(t,e);n&&(r+=n+","),t.key&&(r+="key:"+t.key+","),t.ref&&(r+="ref:"+t.ref+","),t.refInFor&&(r+="refInFor:true,"),t.pre&&(r+="pre:true,"),t.component&&(r+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)r+=e.dataGenFns[i](t);if(t.attrs&&(r+="attrs:{"+uo(t.attrs)+"},"),t.props&&(r+="domProps:{"+uo(t.props)+"},"),t.events&&(r+=Ui(t.events,!1,e.warn)+","),t.nativeEvents&&(r+=Ui(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(r+="slot:"+t.slotTarget+","),t.scopedSlots&&(r+=Ji(t.scopedSlots,e)+","),t.model&&(r+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=Zi(t,e);o&&(r+=o+",")}return r=r.replace(/,$/,"")+"}",t.wrapData&&(r=t.wrapData(r)),t.wrapListeners&&(r=t.wrapListeners(r)),r}function Qi(t,e){var r=t.directives;if(r){var n,i,o,a,s="directives:[",c=!1;for(n=0,i=r.length;n<i;n++){o=r[n],a=!0;var l=e.directives[o.name];l&&(a=!!l(t,o,e.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return c?s.slice(0,-1)+"]":void 0}}function Zi(t,e){var r=t.children[0];if(1===t.children.length&&1===r.type||e.warn("Inline-template components must have exactly one child element."),1===r.type){var n=ji(r,e.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Ji(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(r){return to(r,t[r],e)}).join(",")+"])"}function to(t,e,r){if(e.for&&!e.forProcessed)return eo(t,e,r);var n="function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(ro(e,r)||"undefined")+":undefined":ro(e,r)||"undefined":Gi(e,r))+"}";return"{key:"+t+",fn:"+n+"}"}function eo(t,e,r){var n=e.for,i=e.alias,o=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+n+"),function("+i+o+a+"){return "+to(t,e,r)+"})"}function ro(t,e,r,n,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(n||Gi)(a,e);var s=r?no(o,e.maybeComponent):0,c=i||oo;return"["+o.map(function(t){return c(t,e)}).join(",")+"]"+(s?","+s:"")}}function no(t,e){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(1===i.type){if(io(i)||i.ifConditions&&i.ifConditions.some(function(t){return io(t.block)})){r=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(r=1)}}return r}function io(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function oo(t,e){return 1===t.type?Gi(t,e):3===t.type&&t.isComment?so(t):ao(t)}function ao(t){return"_v("+(2===t.type?t.expression:ho(JSON.stringify(t.text)))+")"}function so(t){return"_e("+JSON.stringify(t.text)+")"}function co(t,e){var r=t.slotName||'"default"',n=ro(t,e),i="_t("+r+(n?","+n:""),o=t.attrs&&"{"+t.attrs.map(function(t){return Po(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];return!o&&!a||n||(i+=",null"),o&&(i+=","+o),a&&(i+=(o?"":",null")+","+a),i+")"}function lo(t,e,r){var n=e.inlineTemplate?null:ro(e,r,!0);return"_c("+t+","+Ki(e,r)+(n?","+n:"")+")"}function uo(t){for(var e="",r=0;r<t.length;r++){var n=t[r];e+='"'+n.name+'":'+ho(n.value)+","}return e.slice(0,-1)}function ho(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function fo(t){var e=[];return t&&po(t,e),e}function po(t,e){if(1===t.type){for(var r in t.attrsMap)if(vl.test(r)){var n=t.attrsMap[r];n&&("v-for"===r?vo(t,'v-for="'+n+'"',e):ml.test(r)?mo(n,r+'="'+n+'"',e):yo(n,r+'="'+n+'"',e))}if(t.children)for(var i=0;i<t.children.length;i++)po(t.children[i],e)}else 2===t.type&&yo(t.expression,t.text,e)}function mo(t,e,r){var n=t.replace(Vl,""),i=n.match(zl);i&&"$"!==n.charAt(i.index-1)&&r.push('avoid using JavaScript unary operator as property name: "'+i[0]+'" in expression '+e.trim()),yo(t,e,r)}function vo(t,e,r){yo(t.for||"",e,r),go(t.alias,"v-for alias",e,r),go(t.iterator1,"v-for iterator",e,r),go(t.iterator2,"v-for iterator",e,r)}function go(t,e,r,n){if("string"==typeof t)try{new Function("var "+t+"=_")}catch(i){n.push("invalid "+e+' "'+t+'" in expression: '+r.trim())}}function yo(t,e,r){try{new Function("return "+t)}catch(i){var n=t.replace(Vl,"").match(Bl);n?r.push('avoid using JavaScript keyword as property name: "'+n[0]+'"\n  Raw expression: '+e.trim()):r.push("invalid expression: "+i.message+" in\n\n    "+t+"\n\n  Raw expression: "+e.trim()+"\n")}}function xo(t,e){try{return new Function(t)}catch(r){return e.push({err:r,code:t}),w}}function bo(t){var e=Object.create(null);return function(r,n,i){n=b({},n);var o=n.warn||aa;delete n.warn;try{new Function("return 1")}catch(t){t.toString().match(/unsafe-eval|CSP/)&&o("It seems you are using the standalone build of Vue.js in an environment with Content Security Policy that prohibits unsafe-eval. The template compiler cannot work in this environment. Consider relaxing the policy to allow unsafe-eval or pre-compiling your templates into render functions.")}var a=n.delimiters?String(n.delimiters)+r:r;if(e[a])return e[a];var s=t(r,n);s.errors&&s.errors.length&&o("Error compiling template:\n\n"+r+"\n\n"+s.errors.map(function(t){return"- "+t}).join("\n")+"\n",i),s.tips&&s.tips.length&&s.tips.forEach(function(t){return sa(t,i)});var c={},l=[];return c.render=xo(s.render,l),c.staticRenderFns=s.staticRenderFns.map(function(t){return xo(t,l)}),s.errors&&s.errors.length||!l.length||o("Failed to generate render function:\n\n"+l.map(function(t){var e=t.err,r=t.code;return e.toString()+" in\n\n"+r+"\n"}).join("\n"),i),e[a]=c}}function _o(t){return function(e){function r(r,n){var i=Object.create(e),o=[],a=[];if(i.warn=function(t,e){(e?a:o).push(t)},n){n.modules&&(i.modules=(e.modules||[]).concat(n.modules)),n.directives&&(i.directives=b(Object.create(e.directives||null),n.directives));for(var s in n)"modules"!==s&&"directives"!==s&&(i[s]=n[s])}var c=t(r,i);return o.push.apply(o,fo(c.ast)),c.errors=o,c.tips=a,c}return{compile:r,compileToFunctions:bo(r)}}}function wo(t){return sl=sl||document.createElement("div"),sl.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',sl.innerHTML.indexOf("&#10;")>0}function Mo(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var So=Object.freeze({}),To=Object.prototype.toString,Co=d("slot,component",!0),Ao=d("key,ref,slot,slot-scope,is"),Eo=Object.prototype.hasOwnProperty,Lo=/-(\w)/g,Po=g(function(t){return t.replace(Lo,function(t,e){return e?e.toUpperCase():""})}),ko=g(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Ro=/\B([A-Z])/g,Do=g(function(t){return t.replace(Ro,"-$1").toLowerCase()}),Fo=function(t,e,r){return!1},Oo=function(t){return t},No="data-server-rendered",Uo=["component","directive","filter"],Bo=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],zo={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!0,devtools:!0,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Fo,isReservedAttr:Fo,isUnknownElement:Fo,getTagNamespace:w,parsePlatformTagName:Oo,mustUseProp:Fo,_lifecycleHooks:Bo},Vo=/[^\w.$]/,Io="__proto__"in{},Ho="undefined"!=typeof window,jo="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Go=jo&&WXEnvironment.platform.toLowerCase(),Wo=Ho&&window.navigator.userAgent.toLowerCase(),Xo=Wo&&/msie|trident/.test(Wo),$o=Wo&&Wo.indexOf("msie 9.0")>0,qo=Wo&&Wo.indexOf("edge/")>0,Yo=Wo&&Wo.indexOf("android")>0||"android"===Go,Ko=Wo&&/iphone|ipad|ipod|ios/.test(Wo)||"ios"===Go,Qo=Wo&&/chrome\/\d+/.test(Wo)&&!qo,Zo={}.watch,Jo=!1;if(Ho)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Jo=!0}}),window.addEventListener("test-passive",null,ta)}catch(t){}var ea,ra,na=function(){return void 0===ea&&(ea=!Ho&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),ea},ia=Ho&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,oa="undefined"!=typeof Symbol&&P(Symbol)&&"undefined"!=typeof Reflect&&P(Reflect.ownKeys);ra="undefined"!=typeof Set&&P(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var aa=w,sa=w,ca=w,la=w,ua="undefined"!=typeof console,ha=/(?:^|[-_])(\w)/g,fa=function(t){return t.replace(ha,function(t){return t.toUpperCase()}).replace(/[-_]/g,"")};aa=function(t,e){var r=e?ca(e):"";zo.warnHandler?zo.warnHandler.call(null,t,e,r):ua&&!zo.silent&&console.error("[Vue warn]: "+t+r)},sa=function(t,e){ua&&!zo.silent&&console.warn("[Vue tip]: "+t+(e?ca(e):""))},la=function(t,e){if(t.$root===t)return"<Root>";var r="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},n=r.name||r._componentTag,i=r.__file;if(!n&&i){var o=i.match(/([^\/\\]+)\.vue$/);n=o&&o[1]}return(n?"<"+fa(n)+">":"<Anonymous>")+(i&&e!==!1?" at "+i:"")};var pa=function(t,e){for(var r="";e;)e%2===1&&(r+=t),e>1&&(t+=t),e>>=1;return r};ca=function(t){if(t._isVue&&t.$parent){for(var e=[],r=0;t;){if(e.length>0){var n=e[e.length-1];if(n.constructor===t.constructor){r++,t=t.$parent;continue}r>0&&(e[e.length-1]=[n,r],r=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map(function(t,e){return""+(0===e?"---> ":pa(" ",5+2*e))+(Array.isArray(t)?la(t[0])+"... ("+t[1]+" recursive calls)":la(t))}).join("\n")}return"\n\n(found in "+la(t)+")"};var da=0,ma=function(){this.id=da++,this.subs=[]};ma.prototype.addSub=function(t){this.subs.push(t)},ma.prototype.removeSub=function(t){m(this.subs,t)},ma.prototype.depend=function(){ma.target&&ma.target.addDep(this)},ma.prototype.notify=function(){for(var t=this.subs.slice(),e=0,r=t.length;e<r;e++)t[e].update()},ma.target=null;var va=[],ga=function(t,e,r,n,i,o,a,s){this.tag=t,this.data=e,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ya={child:{configurable:!0}};ya.child.get=function(){return this.componentInstance},Object.defineProperties(ga.prototype,ya);var xa=function(t){void 0===t&&(t="");var e=new ga;return e.text=t,e.isComment=!0,e},ba=Array.prototype,_a=Object.create(ba);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=ba[t];E(_a,t,function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];var i,o=e.apply(this,r),a=this.__ob__;switch(t){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var wa=Object.getOwnPropertyNames(_a),Ma={shouldConvert:!0},Sa=function(t){if(this.value=t,this.dep=new ma,this.vmCount=0,E(t,"__ob__",this),Array.isArray(t)){var e=Io?N:U;e(t,_a,wa),this.observeArray(t)}else this.walk(t)};Sa.prototype.walk=function(t){for(var e=Object.keys(t),r=0;r<e.length;r++)z(t,e[r],t[e[r]])},Sa.prototype.observeArray=function(t){for(var e=0,r=t.length;e<r;e++)B(t[e])};var Ta=zo.optionMergeStrategies;Ta.el=Ta.propsData=function(t,e,r,n){return r||aa('option "'+n+'" can only be used during instance creation with the `new` keyword.'),Ea(t,e)},Ta.data=function(t,e,r){return r?G(t,e,r):e&&"function"!=typeof e?(aa('The "data" option should be a function that returns a per-instance value in component definitions.',r),t):G(t,e)},Bo.forEach(function(t){Ta[t]=W}),Uo.forEach(function(t){Ta[t+"s"]=X}),Ta.watch=function(t,e,r,n){if(t===Zo&&(t=void 0),e===Zo&&(e=void 0),!e)return Object.create(t||null);if(Z(n,e,r),!t)return e;var i={};b(i,t);for(var o in e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ta.props=Ta.methods=Ta.inject=Ta.computed=function(t,e,r,n){if(e&&Z(n,e,r),!t)return e;var i=Object.create(null);return b(i,t),e&&b(i,e),i},Ta.provide=G;var Ca,Aa,Ea=function(t,e){return void 0===e?t:e},La=/^(String|Number|Boolean|Function|Symbol)$/,Pa=[],ka=!1,Ra=!1;if("undefined"!=typeof r&&P(r))Aa=function(){r(ut)};else if("undefined"==typeof MessageChannel||!P(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Aa=function(){setTimeout(ut,0)};else{var Da=new MessageChannel,Fa=Da.port2;Da.port1.onmessage=ut,Aa=function(){Fa.postMessage(1)}}if("undefined"!=typeof Promise&&P(Promise)){var Oa=Promise.resolve();Ca=function(){Oa.then(ut),Ko&&setTimeout(w)}}else Ca=Aa;var Na,Ua,Ba=Ho&&window.performance;Ba&&Ba.mark&&Ba.measure&&Ba.clearMarks&&Ba.clearMeasures&&(Na=function(t){return Ba.mark(t)},Ua=function(t,e,r){Ba.measure(t,e,r),Ba.clearMarks(e),Ba.clearMarks(r),Ba.clearMeasures(t)});var za,Va=d("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,require"),Ia=function(t,e){aa('Property or method "'+e+'" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',t)},Ha="undefined"!=typeof Proxy&&Proxy.toString().match(/native code/);if(Ha){var ja=d("stop,prevent,self,ctrl,shift,alt,meta,exact");zo.keyCodes=new Proxy(zo.keyCodes,{set:function(t,e,r){return ja(e)?(aa("Avoid overwriting built-in modifier in config.keyCodes: ."+e),!1):(t[e]=r,!0)}})}var Ga={has:function t(e,r){var t=r in e,n=Va(r)||"_"===r.charAt(0);return t||n||Ia(e,r),t||!n}},Wa={get:function(t,e){return"string"!=typeof e||e in t||Ia(t,e),t[e]}};za=function(t){if(Ha){var e=t.$options,r=e.render&&e.render._withStripped?Wa:Ga;t._renderProxy=new Proxy(t,r)}else t._renderProxy=t};var Xa,$a=new ra,qa=g(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var r="~"===t.charAt(0);t=r?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:r,capture:n,passive:e}}),Ya=null,Ka=!1,Qa=100,Za=[],Ja=[],ts={},es={},rs=!1,ns=!1,is=0,os=0,as=function(t,e,r,n,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++os,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ra,this.newDepIds=new ra,this.expression=e.toString(),"function"==typeof e?this.getter=e:(this.getter=L(e),this.getter||(this.getter=function(){},aa('Failed watching path: "'+e+'" Watcher only accepts simple dot-delimited paths. For full control, use a function instead.',t))),this.value=this.lazy?void 0:this.get()};as.prototype.get=function(){k(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;st(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&pt(t),R(),this.cleanupDeps()}return t},as.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},as.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var r=t.deps[e];t.newDepIds.has(r.id)||r.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},as.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Kt(this)},as.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){st(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},as.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},as.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},as.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var ss={enumerable:!0,configurable:!0,get:w,set:w},cs={lazy:!0};we(Me.prototype);var ls={init:function(t,e,r,n){if(!t.componentInstance||t.componentInstance._isDestroyed){var i=t.componentInstance=Ae(t,Ya,r,n);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var o=t;ls.prepatch(o,o)}},prepatch:function(t,e){var r=e.componentOptions,n=e.componentInstance=t.componentInstance;Vt(n,r.propsData,r.listeners,e,r.children)},insert:function(t){var e=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,Gt(r,"mounted")),t.data.keepAlive&&(e._isMounted?qt(r):Ht(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?jt(e,!0):e.$destroy())}},us=Object.keys(ls),hs=1,fs=2,ps=0;Ne(Ie),ce(Ie),Dt(Ie),Bt(Ie),Oe(Ie);var ds=[String,RegExp,Array],ms={name:"keep-alive",abstract:!0,props:{include:ds,exclude:ds,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)Qe(t.cache,e,t.keys)},watch:{include:function(t){Ke(this,function(e){return Ye(t,e)})},exclude:function(t){Ke(this,function(e){return!Ye(t,e)})}},render:function(){var t=this.$slots.default,e=Et(t),r=e&&e.componentOptions;if(r){var n=qe(r),i=this,o=i.include,a=i.exclude;if(o&&(!n||!Ye(o,n))||a&&n&&Ye(a,n))return e;var s=this,c=s.cache,l=s.keys,u=null==e.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,m(l,u),l.push(u)):(c[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Qe(c,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},vs={KeepAlive:ms};Ze(Ie),Object.defineProperty(Ie.prototype,"$isServer",{get:na}),Object.defineProperty(Ie.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Ie.version="2.5.13";var gs,ys,xs,bs,_s,ws,Ms,Ss,Ts,Cs=d("style,class"),As=d("input,textarea,option,select,progress"),Es=function(t,e,r){return"value"===r&&As(t)&&"button"!==e||"selected"===r&&"option"===t||"checked"===r&&"input"===t||"muted"===r&&"video"===t},Ls=d("contenteditable,draggable,spellcheck"),Ps=d("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ks="http://www.w3.org/1999/xlink",Rs=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ds=function(t){return Rs(t)?t.slice(6,t.length):""},Fs=function(t){return null==t||t===!1},Os={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ns=d("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Us=d("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Bs=function(t){return"pre"===t},zs=function(t){return Ns(t)||Us(t)},Vs=Object.create(null),Is=d("text,number,password,search,email,tel,url"),Hs=Object.freeze({createElement:lr,createElementNS:ur,createTextNode:hr,createComment:fr,insertBefore:pr,removeChild:dr,appendChild:mr,parentNode:vr,nextSibling:gr,tagName:yr,setTextContent:xr,setAttribute:br}),js={create:function(t,e){_r(e)},update:function(t,e){t.data.ref!==e.data.ref&&(_r(t,!0),_r(e))},destroy:function(t){_r(t,!0)}},Gs=new ga("",{},[]),Ws=["create","activate","update","remove","destroy"],Xs={create:Cr,update:Cr,destroy:function(t){Cr(t,Gs)}},$s=Object.create(null),qs=[js,Xs],Ys={create:kr,update:kr},Ks={create:Dr,update:Dr},Qs=/[\w).+\-_$\]]/,Zs="__r",Js="__c",tc={create:ln,update:ln},ec={create:un,update:un},rc=g(function(t){var e={},r=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(r).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}),nc=/^--/,ic=/\s*!important$/,oc=function(t,e,r){if(nc.test(e))t.style.setProperty(e,r);else if(ic.test(r))t.style.setProperty(e,r.replace(ic,""),"important");else{var n=sc(e);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)t.style[n]=r[i];else t.style[n]=r}},ac=["Webkit","Moz","ms"],sc=g(function(t){if(Ts=Ts||document.createElement("div").style,t=Po(t),"filter"!==t&&t in Ts)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<ac.length;r++){var n=ac[r]+e;if(n in Ts)return n}}),cc={create:gn,update:gn},lc=g(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),uc=Ho&&!$o,hc="transition",fc="animation",pc="transition",dc="transitionend",mc="animation",vc="animationend";uc&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(pc="WebkitTransition",dc="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(mc="WebkitAnimation",vc="webkitAnimationEnd"));var gc=Ho?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},yc=/\b(transform|all)(,|$)/,xc=Ho?{create:Dn,activate:Dn,remove:function(t,e){t.data.show!==!0?Ln(t,e):e()}}:{},bc=[Ys,Ks,tc,ec,cc,xc],_c=bc.concat(qs),wc=Tr({nodeOps:Hs,modules:_c});$o&&document.addEventListener("selectionchange",function(){
var t=document.activeElement;t&&t.vmodel&&Vn(t,"input")});var Mc={inserted:function(t,e,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?gt(r,"postpatch",function(){Mc.componentUpdated(t,e,r)}):Fn(t,e,r.context),t._vOptions=[].map.call(t.options,Un)):("textarea"===r.tag||Is(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",zn),Yo||(t.addEventListener("compositionstart",Bn),t.addEventListener("compositionend",zn)),$o&&(t.vmodel=!0)))},componentUpdated:function(t,e,r){if("select"===r.tag){Fn(t,e,r.context);var n=t._vOptions,i=t._vOptions=[].map.call(t.options,Un);if(i.some(function(t,e){return!S(t,n[e])})){var o=t.multiple?e.value.some(function(t){return Nn(t,i)}):e.value!==e.oldValue&&Nn(e.value,i);o&&Vn(t,"change")}}}},Sc={bind:function(t,e,r){var n=e.value;r=In(r);var i=r.data&&r.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&i?(r.data.show=!0,En(r,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,r){var n=e.value,i=e.oldValue;if(n!==i){r=In(r);var o=r.data&&r.data.transition;o?(r.data.show=!0,n?En(r,function(){t.style.display=t.__vOriginalDisplay}):Ln(r,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,r,n,i){i||(t.style.display=t.__vOriginalDisplay)}},Tc={model:Mc,show:Sc},Cc={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Ac={name:"transition",props:Cc,abstract:!0,render:function(t){var e=this,r=this.$slots.default;if(r&&(r=r.filter(function(t){return t.tag||At(t)}),r.length)){r.length>1&&aa("<transition> can only be used on a single element. Use <transition-group> for lists.",this.$parent);var n=this.mode;n&&"in-out"!==n&&"out-in"!==n&&aa("invalid <transition> mode: "+n,this.$parent);var i=r[0];if(Wn(this.$vnode))return i;var o=Hn(i);if(!o)return i;if(this._leaving)return Gn(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=jn(this),l=this._vnode,u=Hn(l);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),u&&u.data&&!Xn(o,u)&&!At(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=b({},c);if("out-in"===n)return this._leaving=!0,gt(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Gn(t,i);if("in-out"===n){if(At(o))return l;var f,p=function(){f()};gt(c,"afterEnter",p),gt(c,"enterCancelled",p),gt(h,"delayLeave",function(t){f=t})}}return i}}},Ec=b({tag:String,moveClass:String},Cc);delete Ec.mode;var Lc={props:Ec,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=jn(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else{var l=c.componentOptions,u=l?l.Ctor.options.name||l.tag||"":c.tag;aa("<transition-group> children must be keyed: <"+u+">")}}if(n){for(var h=[],f=[],p=0;p<n.length;p++){var d=n[p];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),r[d.key]?h.push(d):f.push(d)}this.kept=t(e,null,h),this.removed=f}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach($n),t.forEach(qn),t.forEach(Yn),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var r=t.elm,n=r.style;wn(r,e),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(dc,r._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(dc,t),r._moveCb=null,Mn(r,e))})}}))},methods:{hasMove:function(t,e){if(!uc)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){xn(r,t)}),yn(r,e),r.style.display="none",this.$el.appendChild(r);var n=Tn(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}},Pc={Transition:Ac,TransitionGroup:Lc};Ie.config.mustUseProp=Es,Ie.config.isReservedTag=zs,Ie.config.isReservedAttr=Cs,Ie.config.getTagNamespace=ar,Ie.config.isUnknownElement=sr,b(Ie.options.directives,Tc),b(Ie.options.components,Pc),Ie.prototype.__patch__=Ho?wc:w,Ie.prototype.$mount=function(t,e){return t=t&&Ho?cr(t):void 0,zt(this,t,e)},Ie.nextTick(function(){zo.devtools&&(ia?ia.emit("init",Ie):Qo&&console[console.info?"info":"log"]("Download the Vue Devtools extension for a better development experience:\nhttps://github.com/vuejs/vue-devtools")),zo.productionTip!==!1&&Ho&&"undefined"!=typeof console&&console[console.info?"info":"log"]("You are running Vue in development mode.\nMake sure to turn on production mode when deploying for production.\nSee more tips at https://vuejs.org/guide/deployment.html")},0);var kc,Rc=/\{\{((?:.|\n)+?)\}\}/g,Dc=/[-.*+?^${}()|[\]\/\\]/g,Fc=g(function(t){var e=t[0].replace(Dc,"\\$&"),r=t[1].replace(Dc,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+r,"g")}),Oc={staticKeys:["staticClass"],transformNode:Qn,genData:Zn},Nc={staticKeys:["staticStyle"],transformNode:Jn,genData:ti},Uc={decode:function(t){return kc=kc||document.createElement("div"),kc.innerHTML=t,kc.textContent}},Bc=d("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),zc=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Vc=d("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ic=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Hc="[a-zA-Z_][\\w\\-\\.]*",jc="((?:"+Hc+"\\:)?"+Hc+")",Gc=new RegExp("^<"+jc),Wc=/^\s*(\/?)>/,Xc=new RegExp("^<\\/"+jc+"[^>]*>"),$c=/^<!DOCTYPE [^>]+>/i,qc=/^<!--/,Yc=/^<!\[/,Kc=!1;"x".replace(/x(.)?/g,function(t,e){Kc=""===e});var Qc,Zc,Jc,tl,el,rl,nl,il,ol,al,sl,cl=d("script,style,textarea",!0),ll={},ul={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},hl=/&(?:lt|gt|quot|amp);/g,fl=/&(?:lt|gt|quot|amp|#10|#9);/g,pl=d("pre,textarea",!0),dl=function(t,e){return t&&pl(t)&&"\n"===e[0]},ml=/^@|^v-on:/,vl=/^v-|^@|^:/,gl=/(.*?)\s+(?:in|of)\s+(.*)/,yl=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,xl=/^\(|\)$/g,bl=/:(.*)$/,_l=/^:|^v-bind:/,wl=/\.[^.]+/g,Ml=g(Uc.decode),Sl=/^xmlns:NS\d+/,Tl=/^NS\d+:/,Cl={preTransformNode:Ai},Al=[Oc,Nc,Cl],El={model:Jr,text:Li,html:Pi},Ll={expectHTML:!0,modules:Al,directives:El,isPreTag:Bs,isUnaryTag:Bc,mustUseProp:Es,canBeLeftOpenTag:zc,isReservedTag:zs,getTagNamespace:ar,staticKeys:M(Al)},Pl=g(Ri),kl=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Rl=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Dl={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Fl=function(t){return"if("+t+")return null;"},Ol={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Fl("$event.target !== $event.currentTarget"),ctrl:Fl("!$event.ctrlKey"),shift:Fl("!$event.shiftKey"),alt:Fl("!$event.altKey"),meta:Fl("!$event.metaKey"),left:Fl("'button' in $event && $event.button !== 0"),middle:Fl("'button' in $event && $event.button !== 1"),right:Fl("'button' in $event && $event.button !== 2")},Nl={on:Ii,bind:Hi,cloak:w},Ul=function(t){this.options=t,this.warn=t.warn||Nr,this.transforms=Ur(t.modules,"transformCode"),this.dataGenFns=Ur(t.modules,"genData"),this.directives=b(b({},Nl),t.directives);var e=t.isReservedTag||Fo;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},Bl=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),zl=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),Vl=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g,Il=_o(function(t,e){var r=ii(t.trim(),e);e.optimize!==!1&&ki(r,e);var n=ji(r,e);return{ast:r,render:n.render,staticRenderFns:n.staticRenderFns}}),Hl=Il(Ll),jl=Hl.compileToFunctions,Gl=!!Ho&&wo(!1),Wl=!!Ho&&wo(!0),Xl=g(function(t){var e=cr(t);return e&&e.innerHTML}),$l=Ie.prototype.$mount;return Ie.prototype.$mount=function(t,e){if(t=t&&cr(t),t===document.body||t===document.documentElement)return aa("Do not mount Vue to <html> or <body> - mount to normal elements instead."),this;var r=this.$options;if(!r.render){var n=r.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&(n=Xl(n),n||aa("Template element not found or is empty: "+r.template,this));else{if(!n.nodeType)return aa("invalid template option:"+n,this),this;n=n.innerHTML}else t&&(n=Mo(t));if(n){zo.performance&&Na&&Na("compile");var i=jl(n,{shouldDecodeNewlines:Gl,shouldDecodeNewlinesForHref:Wl,delimiters:r.delimiters,comments:r.comments},this),o=i.render,a=i.staticRenderFns;r.render=o,r.staticRenderFns=a,zo.performance&&Na&&(Na("compile end"),Ua("vue "+this._name+" compile","compile","compile end"))}}return $l.call(this,t,e)},Ie.compile=jl,Ie})}).call(e,function(){return this}(),r(168).setImmediate)},function(t,e,r){t.exports={default:r(99),__esModule:!0}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(14),i=r(6).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){t.exports=!r(5)&&!r(18)(function(){return 7!=Object.defineProperty(r(38)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";var n=r(25),i=r(17),o=r(46),a=r(11),s=r(8),c=r(24),l=r(110),u=r(28),h=r(115),f=r(13)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",m="keys",v="values",g=function(){return this};t.exports=function(t,e,r,y,x,b,_){l(r,e,y);var w,M,S,T=function(t){if(!p&&t in L)return L[t];switch(t){case m:return function(){return new r(this,t)};case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},C=e+" Iterator",A=x==v,E=!1,L=t.prototype,P=L[f]||L[d]||x&&L[x],k=!p&&P||T(x),R=x?A?T("entries"):k:void 0,D="Array"==e?L.entries||P:P;if(D&&(S=h(D.call(new t)),S!==Object.prototype&&S.next&&(u(S,C,!0),n||s(S,f)||a(S,f,g))),A&&P&&P.name!==v&&(E=!0,k=function(){return P.call(this)}),n&&!_||!p&&!E&&L[f]||a(L,f,k),c[e]=k,c[C]=g,x)if(w={values:A?k:T(v),keys:b?k:T(m),entries:R},_)for(M in w)M in L||o(L,M,w[M]);else i(i.P+i.F*(p||E),e,w);return w}},function(t,e,r){var n=r(16),i=r(42),o=r(23),a=r(29)("IE_PROTO"),s=function(){},c="prototype",l=function(){var t,e=r(38)("iframe"),n=o.length,i="<",a=">";for(e.style.display="none",r(107).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),l=t.F;n--;)delete l[c][o[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s[c]=n(t),r=new s,s[c]=null,r[a]=t):r=l(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(9),i=r(16),o=r(26);t.exports=r(5)?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=a.length,c=0;s>c;)n.f(t,r=a[c++],e[r]);return t}},function(t,e,r){var n=r(45),i=r(23).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(8),i=r(12),o=r(104)(!1),a=r(29)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~o(l,r)||l.push(r));return l}},function(t,e,r){t.exports=r(11)},,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports={default:r(97),__esModule:!0}},function(t,e,r){t.exports={default:r(98),__esModule:!0}},function(t,e,r){t.exports={default:r(100),__esModule:!0}},function(t,e,r){t.exports={default:r(101),__esModule:!0}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(36),o=n(i);e.default=function(t,e,r){return e in t?(0,o.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){var n=r(10),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,r){r(121);var n=r(10).Object;t.exports=function(t,e){return n.defineProperties(t,e)}},function(t,e,r){r(122);var n=r(10).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){r(125),r(123),r(126),r(127),t.exports=r(10).Symbol},function(t,e,r){r(124),r(128),t.exports=r(34).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,r){var n=r(12),i=r(118),o=r(117);t.exports=function(t){return function(e,r,a){var s,c=n(e),l=i(c.length),u=o(a,l);if(t&&r!=r){for(;l>u;)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},function(t,e,r){var n=r(102);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(26),i=r(44),o=r(27);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var a,s=r(t),c=o.f,l=0;s.length>l;)c.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,r){var n=r(6).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(37);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,r){var n=r(37);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){"use strict";var n=r(41),i=r(19),o=r(28),a={};r(11)(a,r(13)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(20)("meta"),i=r(14),o=r(8),a=r(9).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(18)(function(){return c(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},f=function(t,e){if(!o(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},p=function(t){return l&&d.NEED&&c(t)&&!o(t,n)&&u(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:f,onFreeze:p}},function(t,e,r){var n=r(27),i=r(19),o=r(12),a=r(32),s=r(8),c=r(39),l=Object.getOwnPropertyDescriptor;e.f=r(5)?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){var n=r(12),i=r(43).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(n(t))}},function(t,e,r){var n=r(8),i=r(119),o=r(29)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,r){var n=r(31),i=r(22);t.exports=function(t){return function(e,r){var o,a,s=String(i(e)),c=n(r),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e,r){var n=r(31),i=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(31),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,r){var n=r(22);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";var n=r(103),i=r(111),o=r(24),a=r(12);t.exports=r(40)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,r){var n=r(17);n(n.S+n.F*!r(5),"Object",{defineProperties:r(42)})},function(t,e,r){var n=r(17);n(n.S+n.F*!r(5),"Object",{defineProperty:r(9).f})},function(t,e){},function(t,e,r){"use strict";var n=r(116)(!0);r(40)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){"use strict";var n=r(6),i=r(8),o=r(5),a=r(17),s=r(46),c=r(112).KEY,l=r(18),u=r(30),h=r(28),f=r(20),p=r(13),d=r(34),m=r(33),v=r(106),g=r(109),y=r(16),x=r(14),b=r(12),_=r(32),w=r(19),M=r(41),S=r(114),T=r(113),C=r(9),A=r(26),E=T.f,L=C.f,P=S.f,k=n.Symbol,R=n.JSON,D=R&&R.stringify,F="prototype",O=p("_hidden"),N=p("toPrimitive"),U={}.propertyIsEnumerable,B=u("symbol-registry"),z=u("symbols"),V=u("op-symbols"),I=Object[F],H="function"==typeof k,j=n.QObject,G=!j||!j[F]||!j[F].findChild,W=o&&l(function(){return 7!=M(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=E(I,e);n&&delete I[e],L(t,e,r),n&&t!==I&&L(I,e,n)}:L,X=function(t){var e=z[t]=M(k[F]);return e._k=t,e},$=H&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},q=function(t,e,r){return t===I&&q(V,e,r),y(t),e=_(e,!0),y(r),i(z,e)?(r.enumerable?(i(t,O)&&t[O][e]&&(t[O][e]=!1),r=M(r,{enumerable:w(0,!1)})):(i(t,O)||L(t,O,w(1,{})),t[O][e]=!0),W(t,e,r)):L(t,e,r)},Y=function(t,e){y(t);for(var r,n=v(e=b(e)),i=0,o=n.length;o>i;)q(t,r=n[i++],e[r]);return t},K=function(t,e){return void 0===e?M(t):Y(M(t),e)},Q=function(t){var e=U.call(this,t=_(t,!0));return!(this===I&&i(z,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,O)&&this[O][t])||e)},Z=function(t,e){if(t=b(t),e=_(e,!0),t!==I||!i(z,e)||i(V,e)){var r=E(t,e);return!r||!i(z,e)||i(t,O)&&t[O][e]||(r.enumerable=!0),r}},J=function(t){for(var e,r=P(b(t)),n=[],o=0;r.length>o;)i(z,e=r[o++])||e==O||e==c||n.push(e);return n},tt=function(t){for(var e,r=t===I,n=P(r?V:b(t)),o=[],a=0;n.length>a;)!i(z,e=n[a++])||r&&!i(I,e)||o.push(z[e]);return o};H||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===I&&e.call(V,r),i(this,O)&&i(this[O],t)&&(this[O][t]=!1),W(this,t,w(1,r))};return o&&G&&W(I,t,{configurable:!0,set:e}),X(t)},s(k[F],"toString",function(){return this._k}),T.f=Z,C.f=q,r(43).f=S.f=J,r(27).f=Q,r(44).f=tt,o&&!r(25)&&s(I,"propertyIsEnumerable",Q,!0),d.f=function(t){return X(p(t))}),a(a.G+a.W+a.F*!H,{Symbol:k});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)p(et[rt++]);for(var nt=A(p.store),it=0;nt.length>it;)m(nt[it++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=k(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!H,"Object",{create:K,defineProperty:q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:tt}),R&&a(a.S+a.F*(!H||l(function(){var t=k();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(x(e)||void 0!==t)&&!$(t))return g(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!$(e))return e}),n[1]=e,D.apply(R,n)}}),k[F][N]||r(11)(k[F],N,k[F].valueOf),h(k,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,r){r(33)("asyncIterator")},function(t,e,r){r(33)("observable")},function(t,e,r){r(120);for(var n=r(6),i=r(11),o=r(24),a=r(13)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=n[l],h=u&&u.prototype;h&&!h[a]&&i(h,a,l),o[l]=o.Array}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){function r(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,r,n){return e+e+r+r+n+n});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}function n(t,e,r){return Math.min(Math.max(t,e),r)}function i(t,e){return e.indexOf(t)>-1}var o=function(t,e){var o=document.querySelector("#"+t+" > .particles-js-canvas-el");this.pJS={canvas:{el:o,w:o.offsetWidth,h:o.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var a=this.pJS;e&&Object.deepExtend(a,e),a.tmp.obj={size_value:a.particles.size.value,size_anim_speed:a.particles.size.anim.speed,move_speed:a.particles.move.speed,line_linked_distance:a.particles.line_linked.distance,line_linked_width:a.particles.line_linked.width,mode_grab_distance:a.interactivity.modes.grab.distance,mode_bubble_distance:a.interactivity.modes.bubble.distance,mode_bubble_size:a.interactivity.modes.bubble.size,mode_repulse_distance:a.interactivity.modes.repulse.distance},a.fn.retinaInit=function(){a.retina_detect&&window.devicePixelRatio>1?(a.canvas.pxratio=window.devicePixelRatio,a.tmp.retina=!0):(a.canvas.pxratio=1,a.tmp.retina=!1),a.canvas.w=a.canvas.el.offsetWidth*a.canvas.pxratio,a.canvas.h=a.canvas.el.offsetHeight*a.canvas.pxratio,a.particles.size.value=a.tmp.obj.size_value*a.canvas.pxratio,a.particles.size.anim.speed=a.tmp.obj.size_anim_speed*a.canvas.pxratio,a.particles.move.speed=a.tmp.obj.move_speed*a.canvas.pxratio,a.particles.line_linked.distance=a.tmp.obj.line_linked_distance*a.canvas.pxratio,a.interactivity.modes.grab.distance=a.tmp.obj.mode_grab_distance*a.canvas.pxratio,a.interactivity.modes.bubble.distance=a.tmp.obj.mode_bubble_distance*a.canvas.pxratio,a.particles.line_linked.width=a.tmp.obj.line_linked_width*a.canvas.pxratio,a.interactivity.modes.bubble.size=a.tmp.obj.mode_bubble_size*a.canvas.pxratio,a.interactivity.modes.repulse.distance=a.tmp.obj.mode_repulse_distance*a.canvas.pxratio},a.fn.canvasInit=function(){a.canvas.ctx=a.canvas.el.getContext("2d")},a.fn.canvasSize=function(){a.canvas.el.width=a.canvas.w,a.canvas.el.height=a.canvas.h,a&&a.interactivity.events.resize&&window.addEventListener("resize",function(){a.canvas.w=a.canvas.el.offsetWidth,a.canvas.h=a.canvas.el.offsetHeight,a.tmp.retina&&(a.canvas.w*=a.canvas.pxratio,a.canvas.h*=a.canvas.pxratio),a.canvas.el.width=a.canvas.w,a.canvas.el.height=a.canvas.h,a.particles.move.enable||(a.fn.particlesEmpty(),a.fn.particlesCreate(),a.fn.particlesDraw(),a.fn.vendors.densityAutoParticles()),a.fn.vendors.densityAutoParticles()})},a.fn.canvasPaint=function(){a.canvas.ctx.fillRect(0,0,a.canvas.w,a.canvas.h)},a.fn.canvasClear=function(){a.canvas.ctx.clearRect(0,0,a.canvas.w,a.canvas.h)},a.fn.particle=function(t,e,n){if(this.radius=(a.particles.size.random?Math.random():1)*a.particles.size.value,a.particles.size.anim.enable&&(this.size_status=!1,this.vs=a.particles.size.anim.speed/100,a.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=n?n.x:Math.random()*a.canvas.w,this.y=n?n.y:Math.random()*a.canvas.h,this.x>a.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>a.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),a.particles.move.bounce&&a.fn.vendors.checkOverlap(this,n),this.color={},"object"==typeof t.value)if(t.value instanceof Array){var i=t.value[Math.floor(Math.random()*a.particles.color.value.length)];this.color.rgb=r(i)}else void 0!=t.value.r&&void 0!=t.value.g&&void 0!=t.value.b&&(this.color.rgb={r:t.value.r,g:t.value.g,b:t.value.b}),void 0!=t.value.h&&void 0!=t.value.s&&void 0!=t.value.l&&(this.color.hsl={h:t.value.h,s:t.value.s,l:t.value.l});else"random"==t.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof t.value&&(this.color=t,this.color.rgb=r(this.color.value));this.opacity=(a.particles.opacity.random?Math.random():1)*a.particles.opacity.value,a.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=a.particles.opacity.anim.speed/100,a.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var o={};switch(a.particles.move.direction){case"top":o={x:0,y:-1};break;case"top-right":o={x:.5,y:-.5};break;case"right":o={x:1,y:-0};break;case"bottom-right":o={x:.5,y:.5};break;case"bottom":o={x:0,y:1};break;case"bottom-left":o={x:-.5,y:1};break;case"left":o={x:-1,y:0};break;case"top-left":o={x:-.5,y:-.5};break;default:o={x:0,y:0}}a.particles.move.straight?(this.vx=o.x,this.vy=o.y,a.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=o.x+Math.random()-.5,this.vy=o.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var s=a.particles.shape.type;if("object"==typeof s){if(s instanceof Array){var c=s[Math.floor(Math.random()*s.length)];this.shape=c}}else this.shape=s;if("image"==this.shape){var l=a.particles.shape;this.img={src:l.image.src,ratio:l.image.width/l.image.height},this.img.ratio||(this.img.ratio=1),"svg"==a.tmp.img_type&&void 0!=a.tmp.source_svg&&(a.fn.vendors.createSvgImg(this),a.tmp.pushing&&(this.img.loaded=!1))}},a.fn.particle.prototype.draw=function(){function t(){a.canvas.ctx.drawImage(o,e.x-r,e.y-r,2*r,2*r/e.img.ratio)}var e=this;if(void 0!=e.radius_bubble)var r=e.radius_bubble;else var r=e.radius;if(void 0!=e.opacity_bubble)var n=e.opacity_bubble;else var n=e.opacity;if(e.color.rgb)var i="rgba("+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+","+n+")";else var i="hsla("+e.color.hsl.h+","+e.color.hsl.s+"%,"+e.color.hsl.l+"%,"+n+")";switch(a.canvas.ctx.fillStyle=i,a.canvas.ctx.beginPath(),e.shape){case"circle":a.canvas.ctx.arc(e.x,e.y,r,0,2*Math.PI,!1);break;case"edge":a.canvas.ctx.rect(e.x-r,e.y-r,2*r,2*r);break;case"triangle":a.fn.vendors.drawShape(a.canvas.ctx,e.x-r,e.y+r/1.66,2*r,3,2);break;case"polygon":a.fn.vendors.drawShape(a.canvas.ctx,e.x-r/(a.particles.shape.polygon.nb_sides/3.5),e.y-r/.76,2.66*r/(a.particles.shape.polygon.nb_sides/3),a.particles.shape.polygon.nb_sides,1);break;case"star":a.fn.vendors.drawShape(a.canvas.ctx,e.x-2*r/(a.particles.shape.polygon.nb_sides/4),e.y-r/1.52,2*r*2.66/(a.particles.shape.polygon.nb_sides/3),a.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==a.tmp.img_type)var o=e.img.obj;else var o=a.tmp.img_obj;o&&t()}a.canvas.ctx.closePath(),a.particles.shape.stroke.width>0&&(a.canvas.ctx.strokeStyle=a.particles.shape.stroke.color,a.canvas.ctx.lineWidth=a.particles.shape.stroke.width,a.canvas.ctx.stroke()),a.canvas.ctx.fill()},a.fn.particlesCreate=function(){for(var t=0;t<a.particles.number.value;t++)a.particles.array.push(new a.fn.particle(a.particles.color,a.particles.opacity.value))},a.fn.particlesUpdate=function(){for(var t=0;t<a.particles.array.length;t++){var e=a.particles.array[t];if(a.particles.move.enable){var r=a.particles.move.speed/2;e.x+=e.vx*r,e.y+=e.vy*r}if(a.particles.opacity.anim.enable&&(1==e.opacity_status?(e.opacity>=a.particles.opacity.value&&(e.opacity_status=!1),e.opacity+=e.vo):(e.opacity<=a.particles.opacity.anim.opacity_min&&(e.opacity_status=!0),e.opacity-=e.vo),e.opacity<0&&(e.opacity=0)),a.particles.size.anim.enable&&(1==e.size_status?(e.radius>=a.particles.size.value&&(e.size_status=!1),e.radius+=e.vs):(e.radius<=a.particles.size.anim.size_min&&(e.size_status=!0),e.radius-=e.vs),e.radius<0&&(e.radius=0)),"bounce"==a.particles.move.out_mode)var n={x_left:e.radius,x_right:a.canvas.w,y_top:e.radius,y_bottom:a.canvas.h};else var n={x_left:-e.radius,x_right:a.canvas.w+e.radius,y_top:-e.radius,y_bottom:a.canvas.h+e.radius};switch(e.x-e.radius>a.canvas.w?(e.x=n.x_left,e.y=Math.random()*a.canvas.h):e.x+e.radius<0&&(e.x=n.x_right,e.y=Math.random()*a.canvas.h),e.y-e.radius>a.canvas.h?(e.y=n.y_top,e.x=Math.random()*a.canvas.w):e.y+e.radius<0&&(e.y=n.y_bottom,e.x=Math.random()*a.canvas.w),a.particles.move.out_mode){case"bounce":e.x+e.radius>a.canvas.w?e.vx=-e.vx:e.x-e.radius<0&&(e.vx=-e.vx),e.y+e.radius>a.canvas.h?e.vy=-e.vy:e.y-e.radius<0&&(e.vy=-e.vy)}if(i("grab",a.interactivity.events.onhover.mode)&&a.fn.modes.grabParticle(e),(i("bubble",a.interactivity.events.onhover.mode)||i("bubble",a.interactivity.events.onclick.mode))&&a.fn.modes.bubbleParticle(e),(i("repulse",a.interactivity.events.onhover.mode)||i("repulse",a.interactivity.events.onclick.mode))&&a.fn.modes.repulseParticle(e),a.particles.line_linked.enable||a.particles.move.attract.enable)for(var o=t+1;o<a.particles.array.length;o++){var s=a.particles.array[o];a.particles.line_linked.enable&&a.fn.interact.linkParticles(e,s),a.particles.move.attract.enable&&a.fn.interact.attractParticles(e,s),a.particles.move.bounce&&a.fn.interact.bounceParticles(e,s)}}},a.fn.particlesDraw=function(){a.canvas.ctx.clearRect(0,0,a.canvas.w,a.canvas.h),a.fn.particlesUpdate();for(var t=0;t<a.particles.array.length;t++){var e=a.particles.array[t];e.draw()}},a.fn.particlesEmpty=function(){a.particles.array=[]},a.fn.particlesRefresh=function(){cancelRequestAnimFrame(a.fn.checkAnimFrame),cancelRequestAnimFrame(a.fn.drawAnimFrame),a.tmp.source_svg=void 0,a.tmp.img_obj=void 0,a.tmp.count_svg=0,a.fn.particlesEmpty(),a.fn.canvasClear(),a.fn.vendors.start()},a.fn.interact.linkParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);if(i<=a.particles.line_linked.distance){var o=a.particles.line_linked.opacity-i/(1/a.particles.line_linked.opacity)/a.particles.line_linked.distance;if(o>0){var s=a.particles.line_linked.color_rgb_line;a.canvas.ctx.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+o+")",a.canvas.ctx.lineWidth=a.particles.line_linked.width,a.canvas.ctx.beginPath(),a.canvas.ctx.moveTo(t.x,t.y),a.canvas.ctx.lineTo(e.x,e.y),a.canvas.ctx.stroke(),a.canvas.ctx.closePath()}}},a.fn.interact.attractParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n);if(i<=a.particles.line_linked.distance){var o=r/(1e3*a.particles.move.attract.rotateX),s=n/(1e3*a.particles.move.attract.rotateY);
t.vx-=o,t.vy-=s,e.vx+=o,e.vy+=s}},a.fn.interact.bounceParticles=function(t,e){var r=t.x-e.x,n=t.y-e.y,i=Math.sqrt(r*r+n*n),o=t.radius+e.radius;i<=o&&(t.vx=-t.vx,t.vy=-t.vy,e.vx=-e.vx,e.vy=-e.vy)},a.fn.modes.pushParticles=function(t,e){a.tmp.pushing=!0;for(var r=0;r<t;r++)a.particles.array.push(new a.fn.particle(a.particles.color,a.particles.opacity.value,{x:e?e.pos_x:Math.random()*a.canvas.w,y:e?e.pos_y:Math.random()*a.canvas.h})),r==t-1&&(a.particles.move.enable||a.fn.particlesDraw(),a.tmp.pushing=!1)},a.fn.modes.removeParticles=function(t){a.particles.array.splice(0,t),a.particles.move.enable||a.fn.particlesDraw()},a.fn.modes.bubbleParticle=function(t){function e(){t.opacity_bubble=t.opacity,t.radius_bubble=t.radius}function r(e,r,n,i,o){if(e!=r)if(a.tmp.bubble_duration_end){if(void 0!=n){var c=i-f*(i-e)/a.interactivity.modes.bubble.duration,l=e-c;h=e+l,"size"==o&&(t.radius_bubble=h),"opacity"==o&&(t.opacity_bubble=h)}}else if(s<=a.interactivity.modes.bubble.distance){if(void 0!=n)var u=n;else var u=i;if(u!=e){var h=i-f*(i-e)/a.interactivity.modes.bubble.duration;"size"==o&&(t.radius_bubble=h),"opacity"==o&&(t.opacity_bubble=h)}}else"size"==o&&(t.radius_bubble=void 0),"opacity"==o&&(t.opacity_bubble=void 0)}if(a.interactivity.events.onhover.enable&&i("bubble",a.interactivity.events.onhover.mode)){var n=t.x-a.interactivity.mouse.pos_x,o=t.y-a.interactivity.mouse.pos_y,s=Math.sqrt(n*n+o*o),c=1-s/a.interactivity.modes.bubble.distance;if(s<=a.interactivity.modes.bubble.distance){if(c>=0&&"mousemove"==a.interactivity.status){if(a.interactivity.modes.bubble.size!=a.particles.size.value)if(a.interactivity.modes.bubble.size>a.particles.size.value){var l=t.radius+a.interactivity.modes.bubble.size*c;l>=0&&(t.radius_bubble=l)}else{var u=t.radius-a.interactivity.modes.bubble.size,l=t.radius-u*c;l>0?t.radius_bubble=l:t.radius_bubble=0}if(a.interactivity.modes.bubble.opacity!=a.particles.opacity.value)if(a.interactivity.modes.bubble.opacity>a.particles.opacity.value){var h=a.interactivity.modes.bubble.opacity*c;h>t.opacity&&h<=a.interactivity.modes.bubble.opacity&&(t.opacity_bubble=h)}else{var h=t.opacity-(a.particles.opacity.value-a.interactivity.modes.bubble.opacity)*c;h<t.opacity&&h>=a.interactivity.modes.bubble.opacity&&(t.opacity_bubble=h)}}}else e();"mouseleave"==a.interactivity.status&&e()}else if(a.interactivity.events.onclick.enable&&i("bubble",a.interactivity.events.onclick.mode)){if(a.tmp.bubble_clicking){var n=t.x-a.interactivity.mouse.click_pos_x,o=t.y-a.interactivity.mouse.click_pos_y,s=Math.sqrt(n*n+o*o),f=((new Date).getTime()-a.interactivity.mouse.click_time)/1e3;f>a.interactivity.modes.bubble.duration&&(a.tmp.bubble_duration_end=!0),f>2*a.interactivity.modes.bubble.duration&&(a.tmp.bubble_clicking=!1,a.tmp.bubble_duration_end=!1)}a.tmp.bubble_clicking&&(r(a.interactivity.modes.bubble.size,a.particles.size.value,t.radius_bubble,t.radius,"size"),r(a.interactivity.modes.bubble.opacity,a.particles.opacity.value,t.opacity_bubble,t.opacity,"opacity"))}},a.fn.modes.repulseParticle=function(t){function e(){var e=Math.atan2(d,p);if(t.vx=v*Math.cos(e),t.vy=v*Math.sin(e),"bounce"==a.particles.move.out_mode){var r={x:t.x+t.vx,y:t.y+t.vy};r.x+t.radius>a.canvas.w?t.vx=-t.vx:r.x-t.radius<0&&(t.vx=-t.vx),r.y+t.radius>a.canvas.h?t.vy=-t.vy:r.y-t.radius<0&&(t.vy=-t.vy)}}if(a.interactivity.events.onhover.enable&&i("repulse",a.interactivity.events.onhover.mode)&&"mousemove"==a.interactivity.status){var r=t.x-a.interactivity.mouse.pos_x,o=t.y-a.interactivity.mouse.pos_y,s=Math.sqrt(r*r+o*o),c={x:r/s,y:o/s},l=a.interactivity.modes.repulse.distance,u=100,h=n(1/l*(-1*Math.pow(s/l,2)+1)*l*u,0,50),f={x:t.x+c.x*h,y:t.y+c.y*h};"bounce"==a.particles.move.out_mode?(f.x-t.radius>0&&f.x+t.radius<a.canvas.w&&(t.x=f.x),f.y-t.radius>0&&f.y+t.radius<a.canvas.h&&(t.y=f.y)):(t.x=f.x,t.y=f.y)}else if(a.interactivity.events.onclick.enable&&i("repulse",a.interactivity.events.onclick.mode))if(a.tmp.repulse_finish||(a.tmp.repulse_count++,a.tmp.repulse_count==a.particles.array.length&&(a.tmp.repulse_finish=!0)),a.tmp.repulse_clicking){var l=Math.pow(a.interactivity.modes.repulse.distance/6,3),p=a.interactivity.mouse.click_pos_x-t.x,d=a.interactivity.mouse.click_pos_y-t.y,m=p*p+d*d,v=-l/m*1;m<=l&&e()}else 0==a.tmp.repulse_clicking&&(t.vx=t.vx_i,t.vy=t.vy_i)},a.fn.modes.grabParticle=function(t){if(a.interactivity.events.onhover.enable&&"mousemove"==a.interactivity.status){var e=t.x-a.interactivity.mouse.pos_x,r=t.y-a.interactivity.mouse.pos_y,n=Math.sqrt(e*e+r*r);if(n<=a.interactivity.modes.grab.distance){var i=a.interactivity.modes.grab.line_linked.opacity-n/(1/a.interactivity.modes.grab.line_linked.opacity)/a.interactivity.modes.grab.distance;if(i>0){var o=a.particles.line_linked.color_rgb_line;a.canvas.ctx.strokeStyle="rgba("+o.r+","+o.g+","+o.b+","+i+")",a.canvas.ctx.lineWidth=a.particles.line_linked.width,a.canvas.ctx.beginPath(),a.canvas.ctx.moveTo(t.x,t.y),a.canvas.ctx.lineTo(a.interactivity.mouse.pos_x,a.interactivity.mouse.pos_y),a.canvas.ctx.stroke(),a.canvas.ctx.closePath()}}}},a.fn.vendors.eventsListeners=function(){"window"==a.interactivity.detect_on?a.interactivity.el=window:a.interactivity.el=a.canvas.el,(a.interactivity.events.onhover.enable||a.interactivity.events.onclick.enable)&&(a.interactivity.el.addEventListener("mousemove",function(t){if(a.interactivity.el==window)var e=t.clientX,r=t.clientY;else var e=t.offsetX||t.clientX,r=t.offsetY||t.clientY;a.interactivity.mouse.pos_x=e,a.interactivity.mouse.pos_y=r,a.tmp.retina&&(a.interactivity.mouse.pos_x*=a.canvas.pxratio,a.interactivity.mouse.pos_y*=a.canvas.pxratio),a.interactivity.status="mousemove"}),a.interactivity.el.addEventListener("mouseleave",function(t){a.interactivity.mouse.pos_x=null,a.interactivity.mouse.pos_y=null,a.interactivity.status="mouseleave"})),a.interactivity.events.onclick.enable&&a.interactivity.el.addEventListener("click",function(){if(a.interactivity.mouse.click_pos_x=a.interactivity.mouse.pos_x,a.interactivity.mouse.click_pos_y=a.interactivity.mouse.pos_y,a.interactivity.mouse.click_time=(new Date).getTime(),a.interactivity.events.onclick.enable)switch(a.interactivity.events.onclick.mode){case"push":a.particles.move.enable?a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb,a.interactivity.mouse):1==a.interactivity.modes.push.particles_nb?a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb,a.interactivity.mouse):a.interactivity.modes.push.particles_nb>1&&a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb);break;case"remove":a.fn.modes.removeParticles(a.interactivity.modes.remove.particles_nb);break;case"bubble":a.tmp.bubble_clicking=!0;break;case"repulse":a.tmp.repulse_clicking=!0,a.tmp.repulse_count=0,a.tmp.repulse_finish=!1,setTimeout(function(){a.tmp.repulse_clicking=!1},1e3*a.interactivity.modes.repulse.duration)}})},a.fn.vendors.densityAutoParticles=function(){if(a.particles.number.density.enable){var t=a.canvas.el.width*a.canvas.el.height/1e3;a.tmp.retina&&(t/=2*a.canvas.pxratio);var e=t*a.particles.number.value/a.particles.number.density.value_area,r=a.particles.array.length-e;r<0?a.fn.modes.pushParticles(Math.abs(r)):a.fn.modes.removeParticles(r)}},a.fn.vendors.checkOverlap=function(t,e){for(var r=0;r<a.particles.array.length;r++){var n=a.particles.array[r],i=t.x-n.x,o=t.y-n.y,s=Math.sqrt(i*i+o*o);s<=t.radius+n.radius&&(t.x=e?e.x:Math.random()*a.canvas.w,t.y=e?e.y:Math.random()*a.canvas.h,a.fn.vendors.checkOverlap(t))}},a.fn.vendors.createSvgImg=function(t){var e=a.tmp.source_svg,r=/#([0-9A-F]{3,6})/gi,n=e.replace(r,function(e,r,n,i){if(t.color.rgb)var o="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.opacity+")";else var o="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+t.opacity+")";return o}),i=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),o=window.URL||window.webkitURL||window,s=o.createObjectURL(i),c=new Image;c.addEventListener("load",function(){t.img.obj=c,t.img.loaded=!0,o.revokeObjectURL(s),a.tmp.count_svg++}),c.src=s},a.fn.vendors.destroypJS=function(){cancelAnimationFrame(a.fn.drawAnimFrame),o.remove(),pJSDom=null},a.fn.vendors.drawShape=function(t,e,r,n,i,o){var a=i*o,s=i/o,c=180*(s-2)/s,l=Math.PI-Math.PI*c/180;t.save(),t.beginPath(),t.translate(e,r),t.moveTo(0,0);for(var u=0;u<a;u++)t.lineTo(n,0),t.translate(n,0),t.rotate(l);t.fill(),t.restore()},a.fn.vendors.exportImg=function(){window.open(a.canvas.el.toDataURL("image/png"),"_blank")},a.fn.vendors.loadImg=function(t){if(a.tmp.img_error=void 0,""!=a.particles.shape.image.src)if("svg"==t){var e=new XMLHttpRequest;e.open("GET",a.particles.shape.image.src),e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(a.tmp.source_svg=t.currentTarget.response,a.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),a.tmp.img_error=!0))},e.send()}else{var r=new Image;r.addEventListener("load",function(){a.tmp.img_obj=r,a.fn.vendors.checkBeforeDraw()}),r.src=a.particles.shape.image.src}else console.log("Error pJS - No image.src"),a.tmp.img_error=!0},a.fn.vendors.draw=function(){"image"==a.particles.shape.type?"svg"==a.tmp.img_type?a.tmp.count_svg>=a.particles.number.value?(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame)):a.tmp.img_error||(a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw)):void 0!=a.tmp.img_obj?(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame)):a.tmp.img_error||(a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw)):(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame))},a.fn.vendors.checkBeforeDraw=function(){"image"==a.particles.shape.type?"svg"==a.tmp.img_type&&void 0==a.tmp.source_svg?a.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(a.tmp.checkAnimFrame),a.tmp.img_error||(a.fn.vendors.init(),a.fn.vendors.draw())):(a.fn.vendors.init(),a.fn.vendors.draw())},a.fn.vendors.init=function(){a.fn.retinaInit(),a.fn.canvasInit(),a.fn.canvasSize(),a.fn.canvasPaint(),a.fn.particlesCreate(),a.fn.vendors.densityAutoParticles(),a.particles.line_linked.color_rgb_line=r(a.particles.line_linked.color)},a.fn.vendors.start=function(){i("image",a.particles.shape.type)?(a.tmp.img_type=a.particles.shape.image.src.substr(a.particles.shape.image.src.length-3),a.fn.vendors.loadImg(a.tmp.img_type)):a.fn.vendors.checkBeforeDraw()},a.fn.vendors.eventsListeners(),a.fn.vendors.start()};Object.deepExtend=function(t,e){for(var r in e)e[r]&&e[r].constructor&&e[r].constructor===Object?(t[r]=t[r]||{},arguments.callee(t[r],e[r])):t[r]=e[r];return t},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),window.pJSDom=[],window.particlesJS=function(t,e){"string"!=typeof t&&(e=t,t="particles-js"),t||(t="particles-js");var r=document.getElementById(t),n="particles-js-canvas-el",i=r.getElementsByClassName(n);if(i.length)for(;i.length>0;)r.removeChild(i[0]);var a=document.createElement("canvas");a.className=n,a.style.width="100%",a.style.height="100%";var s=document.getElementById(t).appendChild(a);null!=s&&pJSDom.push(new o(t,e))},window.particlesJS.load=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",e),n.onreadystatechange=function(e){if(4==n.readyState)if(200==n.status){var i=JSON.parse(e.currentTarget.response);window.particlesJS(t,i),r&&r()}else console.log("Error pJS - XMLHttpRequest status: "+n.status),console.log("Error pJS - File config not found")},n.send()}},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):v=-1,d.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,m=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(t){u=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],m=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return m[d]=n,p(d),d++}function i(t){delete m[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function a(t){if(v)setTimeout(a,0,t);else{var e=m[t];if(e){v=!0;try{o(e)}finally{i(t),v=!1}}}}function s(){p=function(t){e.nextTick(function(){a(t)})}}function c(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}function l(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&a(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),p=function(r){t.postMessage(e+r,"*")}}function u(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},p=function(e){t.port2.postMessage(e)}}function h(){var t=g.documentElement;p=function(e){var r=g.createElement("script");r.onreadystatechange=function(){a(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}function f(){p=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var p,d=1,m={},v=!1,g=t.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(t);y=y&&y.setTimeout?y:t,"[object process]"==={}.toString.call(t.process)?s():c()?l():t.MessageChannel?u():g&&"onreadystatechange"in g.createElement("script")?h():f(),y.setImmediate=n,y.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),r(166))},function(t,e,r){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(167),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var r=r||function(){var t=[];return{REVISION:"8",getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var r=t.indexOf(e);r!==-1&&t.splice(r,1)},update:function(e){if(0===t.length)return!1;var r=0,n=t.length;for(e=void 0!==e?e:Date.now();r<n;)t[r].update(e)?r++:(t.splice(r,1),n--);return!0}}}();r.Tween=function(t){var e=t,n={},i={},o=1e3,a=0,s=null,c=r.Easing.Linear.None,l=r.Interpolation.Linear,u=[],h=null,f=!1,p=null,d=null;this.to=function(t,e){return void 0!==e&&(o=e),i=t,this},this.start=function(t){r.add(this),f=!1,s=void 0!==t?t:Date.now(),s+=a;for(var o in i)if(null!==e[o]&&o in e){if(i[o]instanceof Array){if(0===i[o].length)continue;i[o]=[e[o]].concat(i[o])}n[o]=e[o]}return this},this.stop=function(){return r.remove(this),this},this.delay=function(t){return a=t,this},this.easing=function(t){return c=t,this},this.interpolation=function(t){return l=t,this},this.chain=function(){return u=arguments,this},this.onStart=function(t){return h=t,this},this.onUpdate=function(t){return p=t,this},this.onComplete=function(t){return d=t,this},this.update=function(t){if(t<s)return!0;f===!1&&(null!==h&&h.call(e),f=!0);var r=(t-s)/o;r=r>1?1:r;var a=c(r);for(var m in n){var v=n[m],g=i[m];g instanceof Array?e[m]=l(g,a):e[m]=v+(g-v)*a}if(null!==p&&p.call(e,a),1==r){null!==d&&d.call(e);for(var y=0,x=u.length;y<x;y++)u[y].start(t);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,r=.1,n=.4;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},Out:function(t){var e,r=.1,n=.4;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},InOut:function(t){var e,r=.1,n=.4;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=n/4):e=n*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),a=r.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[n],t[n-1],n-i):a(t[o],t[o+1>n?n:o+1],i-o)},Bezier:function(t,e){var n,i=0,o=t.length-1,a=Math.pow,s=r.Interpolation.Utils.Bernstein;for(n=0;n<=o;n++)i+=a(1-e,o-n)*a(e,n)*t[n]*s(o,n);return i},CatmullRom:function(t,e){var n=t.length-1,i=n*e,o=Math.floor(i),a=r.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),a(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):a(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var n=r.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var r,n=1;if(t[e])return t[e];for(r=e;r>1;r--)n*=r;return t[e]=n}}(),CatmullRom:function(t,e,r,n,i){var o=.5*(r-t),a=.5*(n-e),s=i*i,c=i*s;return(2*e-2*r+o+a)*c+(-3*e+3*r-2*o-a)*s+o*i+e}}},t.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){/**
	  * vue-router v3.0.1
	  * (c) 2017 Evan You
	  * @license MIT
	  */
"use strict";function n(t,e){}function i(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function o(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function a(t,e){for(var r in e)t[r]=e[r];return t}function s(t,e,r){void 0===e&&(e={});var n,i=r||c;try{n=i(t||"")}catch(t){n={}}for(var o in e)n[o]=e[o];return n}function c(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),n=Vt(r.shift()),i=r.length>0?Vt(r.join("=")):null;void 0===e[n]?e[n]=i:Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]}),e):e}function l(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return zt(e);if(Array.isArray(r)){var n=[];return r.forEach(function(t){void 0!==t&&(null===t?n.push(zt(e)):n.push(zt(e)+"="+zt(t)))}),n.join("&")}return zt(e)+"="+zt(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function u(t,e,r,n){var i=n&&n.options.stringifyQuery,o=e.query||{};try{o=h(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:p(e,i),matched:t?f(t):[]};return r&&(a.redirectedFrom=p(r,i)),Object.freeze(a)}function h(t){if(Array.isArray(t))return t.map(h);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=h(t[r]);return e}return t}function f(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function p(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var i=t.hash;void 0===i&&(i="");var o=e||l;return(r||"/")+o(n)+i}function d(t,e){return e===Ht?t===e:!!e&&(t.path&&e.path?t.path.replace(It,"")===e.path.replace(It,"")&&t.hash===e.hash&&m(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&m(t.query,e.query)&&m(t.params,e.params)))}function m(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(function(r){var n=t[r],i=e[r];return"object"==typeof n&&"object"==typeof i?m(n,i):String(n)===String(i)})}function v(t,e){return 0===t.path.replace(It,"/").indexOf(e.path.replace(It,"/"))&&(!e.hash||t.hash===e.hash)&&g(t.query,e.query)}function g(t,e){for(var r in e)if(!(r in t))return!1;return!0}function y(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function x(t){if(t)for(var e,r=0;r<t.length;r++){if(e=t[r],"a"===e.tag)return e;if(e.children&&(e=x(e.children)))return e}}function b(t){if(!b.installed||Ft!==t){b.installed=!0,Ft=t;var e=function(t){return void 0!==t},r=function(t,r){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",Ot),t.component("router-link",Wt);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}function _(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var i=e.split("/");r&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function w(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var i=t.indexOf("?");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{path:t,query:r,hash:e}}function M(t){return t.replace(/\/\//g,"/")}function S(t,e){for(var r,n=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(r=Jt.exec(t));){var c=r[0],l=r[1],u=r.index;if(a+=t.slice(o,u),o=u+c.length,l)a+=l[1];else{var h=t[o],f=r[2],p=r[3],d=r[4],m=r[5],v=r[6],g=r[7];a&&(n.push(a),a="");var y=null!=f&&null!=h&&h!==f,x="+"===v||"*"===v,b="?"===v||"*"===v,_=r[2]||s,w=d||m;n.push({name:p||i++,prefix:f||"",delimiter:_,optional:b,repeat:x,partial:y,asterisk:!!g,pattern:w?P(w):g?".*":"[^"+L(_)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&n.push(a),n}function T(t,e){return E(S(t,e))}function C(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function A(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function E(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var i="",o=r||{},a=n||{},s=a.pretty?C:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!=typeof l){var u,h=o[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if($t(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(u=s(h[f]),!e[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===f?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?A(h):s(h),!e[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function L(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function P(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function k(t,e){return t.keys=e,t}function R(t){return t.sensitive?"":"i"}function D(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return k(t,e)}function F(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(U(t[i],e,r).source);var o=new RegExp("(?:"+n.join("|")+")",R(r));return k(o,e)}function O(t,e,r){return N(S(t,r),e,r)}function N(t,e,r){$t(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=L(s);else{var c=L(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+c+l+")*"),l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=L(r.delimiter||"/"),h=o.slice(-u.length)===u;return n||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":n&&h?"":"(?="+u+"|$)",k(new RegExp("^"+o,R(r)),e)}function U(t,e,r){return $t(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?D(t,e):$t(t)?F(t,e,r):O(t,e,r)}function B(t,e,r){try{var n=te[t]||(te[t]=qt.compile(t));return n(e||{},{pretty:!0})}catch(t){return""}}function z(t,e,r,n){var i=e||[],o=r||Object.create(null),a=n||Object.create(null);t.forEach(function(t){V(i,o,a,t)});for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:a}}function V(t,e,r,n,i,o){var a=n.path,s=n.name,c=n.pathToRegexpOptions||{},l=H(a,i,c.strict);"boolean"==typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var u={path:l,regex:I(l,c),components:n.components||{default:n.component},instances:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var i=o?M(o+"/"+n.path):void 0;V(t,e,r,n,u,i)}),void 0!==n.alias){var h=Array.isArray(n.alias)?n.alias:[n.alias];h.forEach(function(o){var a={path:o,children:n.children};V(t,e,r,a,i,u.path||"/")})}e[u.path]||(t.push(u.path),e[u.path]=u),s&&(r[s]||(r[s]=u))}function I(t,e){var r=qt(t,[],e);return r}function H(t,e,r){return r||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:M(e.path+"/"+t)}function j(t,e,r,n){var i="string"==typeof t?{path:t}:t;if(i.name||i._normalized)return i;if(!i.path&&i.params&&e){i=G({},i),i._normalized=!0;var o=G(G({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;i.path=B(a,o,"path "+e.path)}return i}var c=w(i.path||""),l=e&&e.path||"/",u=c.path?_(c.path,l,r||i.append):l,h=s(c.query,i.query,n&&n.options.parseQuery),f=i.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:u,query:h,hash:f}}function G(t,e){for(var r in e)t[r]=e[r];return t}function W(t,e){function r(t){z(t,c,l,h)}function n(t,r,n){var i=j(t,r,!1,e),o=i.name;if(o){var s=h[o];if(!s)return a(null,i);var u=s.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof i.params&&(i.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in i.params)&&u.indexOf(f)>-1&&(i.params[f]=r.params[f]);if(s)return i.path=B(s.path,i.params,'named route "'+o+'"'),a(s,i,n)}else if(i.path){i.params={};for(var p=0;p<c.length;p++){var d=c[p],m=l[d];if(X(m.regex,i.path,i.params))return a(m,i,n)}}return a(null,i)}function i(t,r){var i=t.redirect,o="function"==typeof i?i(u(t,r,null,e)):i;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return a(null,r);var s=o,c=s.name,l=s.path,f=r.query,p=r.hash,d=r.params;if(f=s.hasOwnProperty("query")?s.query:f,p=s.hasOwnProperty("hash")?s.hash:p,d=s.hasOwnProperty("params")?s.params:d,c){h[c];return n({_normalized:!0,name:c,query:f,hash:p,params:d},void 0,r)}if(l){var m=$(l,t),v=B(m,d,'redirect route with path "'+m+'"');return n({_normalized:!0,path:v,query:f,hash:p},void 0,r)}return a(null,r)}function o(t,e,r){var i=B(r,e.params,'aliased route with path "'+r+'"'),o=n({_normalized:!0,path:i});if(o){var s=o.matched,c=s[s.length-1];return e.params=o.params,a(c,e)}return a(null,e)}function a(t,r,n){return t&&t.redirect?i(t,n||r):t&&t.matchAs?o(t,r,t.matchAs):u(t,r,n,e)}var s=z(t),c=s.pathList,l=s.pathMap,h=s.nameMap;return{match:n,addRoutes:r}}function X(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=t.keys[i-1],s="string"==typeof n[i]?decodeURIComponent(n[i]):n[i];a&&(r[a.name]=s)}return!0}function $(t,e){return _(t,e.parent?e.parent.path:"/",!0)}function q(){window.history.replaceState({key:ot()},""),window.addEventListener("popstate",function(t){K(),t.state&&t.state.key&&at(t.state.key)})}function Y(t,e,r,n){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var t=Q(),o=i(e,r,n?t:null);o&&("function"==typeof o.then?o.then(function(e){nt(e,t)}).catch(function(t){}):nt(o,t))})}}function K(){var t=ot();t&&(ee[t]={x:window.pageXOffset,y:window.pageYOffset})}function Q(){var t=ot();if(t)return ee[t]}function Z(t,e){var r=document.documentElement,n=r.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-n.left-e.x,y:i.top-n.top-e.y}}function J(t){return rt(t.x)||rt(t.y)}function tt(t){return{x:rt(t.x)?t.x:window.pageXOffset,y:rt(t.y)?t.y:window.pageYOffset}}function et(t){return{x:rt(t.x)?t.x:0,y:rt(t.y)?t.y:0}}function rt(t){return"number"==typeof t}function nt(t,e){var r="object"==typeof t;if(r&&"string"==typeof t.selector){var n=document.querySelector(t.selector);if(n){var i=t.offset&&"object"==typeof t.offset?t.offset:{};i=et(i),e=Z(n,i)}else J(t)&&(e=tt(t))}else r&&J(t)&&(e=tt(t));e&&window.scrollTo(e.x,e.y)}function it(){return ne.now().toFixed(3)}function ot(){return ie}function at(t){ie=t}function st(t,e){K();var r=window.history;try{e?r.replaceState({key:ie},"",t):(ie=it(),r.pushState({key:ie},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function ct(t){st(t,!0)}function lt(t,e,r){var n=function(i){i>=t.length?r():t[i]?e(t[i],function(){n(i+1)}):n(i+1)};n(0)}function ut(t){return function(e,r,n){var o=!1,a=0,s=null;ht(t,function(t,e,r,c){if("function"==typeof t&&void 0===t.cid){o=!0,a++;var l,u=dt(function(e){pt(e)&&(e=e.default),t.resolved="function"==typeof e?e:Ft.extend(e),r.components[c]=e,a--,a<=0&&n()}),h=dt(function(t){var e="Failed to resolve async component "+c+": "+t;s||(s=i(t)?t:new Error(e),n(s))});try{l=t(u,h)}catch(t){h(t)}if(l)if("function"==typeof l.then)l.then(u,h);else{var f=l.component;f&&"function"==typeof f.then&&f.then(u,h)}}}),o||n()}}function ht(t,e){return ft(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function ft(t){return Array.prototype.concat.apply([],t)}function pt(t){return t.__esModule||oe&&"Module"===t[Symbol.toStringTag]}function dt(t){var e=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!e)return e=!0,t.apply(this,r)}}function mt(t){if(!t)if(Xt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function vt(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}function gt(t,e,r,n){var i=ht(t,function(t,n,i,o){var a=yt(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,n,i,o)}):r(a,n,i,o)});return ft(n?i.reverse():i)}function yt(t,e){return"function"!=typeof t&&(t=Ft.extend(t)),t.options[e]}function xt(t){return gt(t,"beforeRouteLeave",_t,!0)}function bt(t){return gt(t,"beforeRouteUpdate",_t)}function _t(t,e){if(e)return function(){return t.apply(e,arguments)}}function wt(t,e,r){return gt(t,"beforeRouteEnter",function(t,n,i,o){return Mt(t,i,o,e,r)})}function Mt(t,e,r,n,i){return function(o,a,s){return t(o,a,function(t){s(t),"function"==typeof t&&n.push(function(){St(t,e.instances,r,i)})})}}function St(t,e,r,n){e[r]?t(e[r]):n()&&setTimeout(function(){St(t,e,r,n)},16)}function Tt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function Ct(t){var e=Tt(t);if(!/^\/#/.test(e))return window.location.replace(M(t+"/#"+e)),!0}function At(){var t=Et();return"/"===t.charAt(0)||(kt("/"+t),!1)}function Et(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.slice(e+1)}function Lt(t){var e=window.location.href,r=e.indexOf("#"),n=r>=0?e.slice(0,r):e;return n+"#"+t}function Pt(t){re?st(Lt(t)):window.location.hash=t}function kt(t){re?ct(Lt(t)):window.location.replace(Lt(t))}function Rt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Dt(t,e,r){var n="hash"===r?"#"+e:e;return t?M(t+"/"+n):n}var Ft,Ot={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,n=e.children,i=e.parent,s=e.data;s.routerView=!0;for(var c=i.$createElement,l=r.name,u=i.$route,h=i._routerViewCache||(i._routerViewCache={}),f=0,p=!1;i&&i._routerRoot!==i;)i.$vnode&&i.$vnode.data.routerView&&f++,i._inactive&&(p=!0),i=i.$parent;if(s.routerViewDepth=f,p)return c(h[l],s,n);var d=u.matched[f];if(!d)return h[l]=null,c();var m=h[l]=d.components[l];s.registerRouteInstance=function(t,e){var r=d.instances[l];(e&&r!==t||!e&&r===t)&&(d.instances[l]=e)},(s.hook||(s.hook={})).prepatch=function(t,e){d.instances[l]=e.componentInstance};var v=s.props=o(u,d.props&&d.props[l]);if(v){v=s.props=a({},v);var g=s.attrs=s.attrs||{};for(var y in v)m.props&&y in m.props||(g[y]=v[y],delete v[y])}return c(m,s,n)}},Nt=/[!'()*]/g,Ut=function(t){return"%"+t.charCodeAt(0).toString(16)},Bt=/%2C/g,zt=function(t){return encodeURIComponent(t).replace(Nt,Ut).replace(Bt,",")},Vt=decodeURIComponent,It=/\/?$/,Ht=u(null,{path:"/"}),jt=[String,Object],Gt=[String,Array],Wt={name:"router-link",props:{to:{type:jt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:Gt,default:"click"}},render:function(t){var e=this,r=this.$router,n=this.$route,i=r.resolve(this.to,n,this.append),o=i.location,a=i.route,s=i.href,c={},l=r.options.linkActiveClass,h=r.options.linkExactActiveClass,f=null==l?"router-link-active":l,p=null==h?"router-link-exact-active":h,m=null==this.activeClass?f:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,b=o.path?u(null,o,null,r):a;c[g]=d(n,b),c[m]=this.exact?c[g]:v(n,b);var _=function(t){y(t)&&(e.replace?r.replace(o):r.push(o))},w={click:y};Array.isArray(this.event)?this.event.forEach(function(t){w[t]=_}):w[this.event]=_;var M={class:c};if("a"===this.tag)M.on=w,M.attrs={href:s};else{var S=x(this.$slots.default);if(S){S.isStatic=!1;var T=Ft.util.extend,C=S.data=T({},S.data);C.on=w;var A=S.data.attrs=T({},S.data.attrs);A.href=s}else M.on=w}return t(this.tag,M,this.$slots.default)}},Xt="undefined"!=typeof window,$t=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},qt=U,Yt=S,Kt=T,Qt=E,Zt=N,Jt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");qt.parse=Yt,qt.compile=Kt,qt.tokensToFunction=Qt,qt.tokensToRegExp=Zt;var te=Object.create(null),ee=Object.create(null),re=Xt&&function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}(),ne=Xt&&window.performance&&window.performance.now?window.performance:Date,ie=it(),oe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ae=function(t,e){this.router=t,this.base=mt(e),this.current=Ht,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};ae.prototype.listen=function(t){this.cb=t},ae.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ae.prototype.onError=function(t){this.errorCbs.push(t)},ae.prototype.transitionTo=function(t,e,r){var n=this,i=this.router.match(t,this.current);this.confirmTransition(i,function(){n.updateRoute(i),e&&e(i),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(i)}))},function(t){r&&r(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},ae.prototype.confirmTransition=function(t,e,r){var o=this,a=this.current,s=function(t){i(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(n(!1,"uncaught error during route navigation:"),console.error(t))),r&&r(t)};if(d(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var c=vt(this.current.matched,t.matched),l=c.updated,u=c.deactivated,h=c.activated,f=[].concat(xt(u),this.router.beforeHooks,bt(l),h.map(function(t){return t.beforeEnter}),ut(h));this.pending=t;var p=function(e,r){if(o.pending!==t)return s();try{e(t,a,function(t){t===!1||i(t)?(o.ensureURL(!0),s(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(s(),"object"==typeof t&&t.replace?o.replace(t):o.push(t)):r(t)})}catch(t){s(t)}};lt(f,p,function(){var r=[],n=function(){return o.current===t},i=wt(h,r,n),a=i.concat(o.router.resolveHooks);lt(a,p,function(){return o.pending!==t?s():(o.pending=null,e(t),void(o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(t){t()})})))})})},ae.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var se=function(t){function e(e,r){var n=this;t.call(this,e,r);var i=e.options.scrollBehavior;i&&q();var o=Tt(this.base);window.addEventListener("popstate",function(t){var r=n.current,a=Tt(n.base);n.current===Ht&&a===o||n.transitionTo(a,function(t){i&&Y(e,t,r,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){st(M(n.base+t.fullPath)),Y(n.router,t,o,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){ct(M(n.base+t.fullPath)),Y(n.router,t,o,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(Tt(this.base)!==this.current.fullPath){var e=M(this.base+this.current.fullPath);t?st(e):ct(e)}},e.prototype.getCurrentLocation=function(){return Tt(this.base)},e}(ae),ce=function(t){function e(e,r,n){t.call(this,e,r),n&&Ct(this.base)||At()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,r=e.options.scrollBehavior,n=re&&r;n&&q(),window.addEventListener(re?"popstate":"hashchange",function(){var e=t.current;At()&&t.transitionTo(Et(),function(r){n&&Y(t.router,r,e,!0),re||kt(r.fullPath)})})},e.prototype.push=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){Pt(t.fullPath),Y(n.router,t,o,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this,i=this,o=i.current;this.transitionTo(t,function(t){kt(t.fullPath),Y(n.router,t,o,!1),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Et()!==e&&(t?Pt(e):kt(e))},e.prototype.getCurrentLocation=function(){return Et()},e}(ae),le=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){e.index=r,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ae),ue=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=W(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!re&&t.fallback!==!1,this.fallback&&(e="hash"),Xt||(e="abstract"),this.mode=e,e){case"history":this.history=new se(this,t.base);break;case"hash":this.history=new ce(this,t.base,this.fallback);break;case"abstract":this.history=new le(this,t.base)}},he={currentRoute:{configurable:!0}};ue.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},he.currentRoute.get=function(){return this.history&&this.history.current},ue.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof se)r.transitionTo(r.getCurrentLocation());else if(r instanceof ce){var n=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},ue.prototype.beforeEach=function(t){return Rt(this.beforeHooks,t)},ue.prototype.beforeResolve=function(t){return Rt(this.resolveHooks,t)},ue.prototype.afterEach=function(t){return Rt(this.afterHooks,t)},ue.prototype.onReady=function(t,e){this.history.onReady(t,e)},ue.prototype.onError=function(t){this.history.onError(t)},ue.prototype.push=function(t,e,r){this.history.push(t,e,r)},ue.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},ue.prototype.go=function(t){this.history.go(t)},ue.prototype.back=function(){this.go(-1)},ue.prototype.forward=function(){this.go(1)},ue.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},ue.prototype.resolve=function(t,e,r){var n=j(t,e||this.history.current,r,this),i=this.match(n,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Dt(a,o,this.mode);return{location:n,route:i,href:s,normalizedTo:n,resolved:i}},ue.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Ht&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ue.prototype,he),ue.install=b,ue.version="3.0.1",Xt&&window.Vue&&window.Vue.use(ue),t.exports=ue},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=h[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(c(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(c(n.parts[o],e));h[n.id]={id:n.id,refs:1,parts:a}}}}function i(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],o=i[0],a=i[1],s=i[2],c=i[3],l={css:a,media:s,sourceMap:c};r[o]?r[o].parts.push(l):e.push(r[o]={id:o,parts:[l]})}return e}function o(t,e){var r=d(),n=g[g.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function c(t,e){var r,n,i;if(e.singleton){var o=v++;r=m||(m=s(e)),n=l.bind(null,r,o,!1),i=l.bind(null,r,o,!0)}else r=s(e),n=u.bind(null,r),i=function(){a(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function l(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function u(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},p=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=p()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var o=[],a=0;a<r.length;a++){var s=r[a],c=h[s.id];c.refs--,o.push(c)}if(t){var l=i(t);n(l,e)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete h[c.id]}}}};var y=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.a4f43c08ec0ae0e7b6c4.js.map